var z9=Object.defineProperty;var Y9=(e,t,r)=>t in e?z9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Yn=(e,t,r)=>(Y9(e,typeof t!="symbol"?t+"":t,r),r),cb=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var re=(e,t,r)=>(cb(e,t,"read from private field"),r?r.call(e):t.get(e)),ze=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ke=(e,t,r,n)=>(cb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var zh=(e,t,r,n)=>({set _(a){ke(e,t,a,r)},get _(){return re(e,t,n)}}),Pt=(e,t,r)=>(cb(e,t,"access private method"),r);import{r as R,R as J,Z as c_,_ as X9,k as J9,v as Q9,B as ep,ae as Z9,o as In,P as e7,L as Yt,h as Pn,b as Ln,af as Hc,ag as t7,c as Li,ah as r7,G as n7,m as a7}from"./foregroundCache.BJs-C-d6.js";import{b as Cc,F as hc,j as Ur,aF as ZT,ah as As,w as mr,aG as i7,aH as s7,aI as o7,z as pi,f as ir,M as u7,m as f_,v as c7,aJ as l_,q as f7,r as tp,n as to,T as l7,aK as d7,x as h7,c as Tn,t as Ns,ao as Iu,aL as p7,aM as d_,aN as m7,aO as lo,aP as ho,aQ as po,aR as mo,aS as v7,aT as b7,ae as g7,a as n4,as as oy,e as y7,ak as _7,az as T7,C as E7,aU as S7,aV as yu,av as cr,ay as ba,aw as Co,aW as A7,aX as w7,aY as C7,aZ as a4}from"./moment.D0d7U_v1.js";import{l as Z,I as qt,o as Wi,c as ft,_ as Nn,s as i4,j as dd,w as en,t as Be,f as Nt,g as ie,K as Or,h as Xe,u as Dr,i as Wt,R as rp,v as I7,x as np,y as P7,z as s4,A as zt,a as rh,b as o4,d as qr,e as Vr,C as u4,E as Hi,F as im,G as N7,H as N0,J as O7,M as Hl,N as c4,O as f4,P as x7,Q as At,U as R7,V as D7,W as M7,X as $c,Y as L7,Z as Io,S as ro,k as nh,$ as k7,T as ut,a0 as B7,a1 as F7,a2 as uf,a3 as h_,L as sm,m as ap,B as Pu,a4 as p_}from"./button.CYxXlYqq.js";import{g as Ts,c as $,a as ei,l as Ge}from"./lodash.BduLK7P_.js";import{i as om,r as Wu,B as ae,q as ip,o as H7,p as vn,t as vo,j as l4,v as $7,u as m_,b as Qe,k as bo,a as we,c as U7,f as j7,w as d4,x as h4,y as um,z as cm,A as p4,J as eE,N as tE,C as m4,m as fb,D as Yh,F as rE,G as G7,H as v4}from"./ethers.CrVDN1GO.js";import{a as b4,o as K7,c as W7}from"./@trezor/connect-plugin-ethereum.DPJesUjC.js";import{c as q7,l as V7,g as z7,h as Y7,i as lb}from"./@ledgerhq/hw-app-eth.wwcGQeCa.js";import{s as X7}from"./bip39.Q3JWhqge.js";import{R as $a,S as J7}from"./windowUtils.DSHnWquT.js";var $l=(e=>(e.DAILY="daily",e.WEEKLY="weekly",e.STREAK="streak",e.ONCE="once",e.RECURRENT="recurrent",e))($l||{}),Q7=(e=>(e.PAUSED="paused",e))(Q7||{}),ji=(e=>(e.ACTION="action",e.PRE_CONDITION="precondition",e))(ji||{}),hr=(e=>(e.REGISTER="register",e.LOGIN="login",e.CHECKIN="checkin",e.SHARE="share",e.JOIN="join",e.UNREGISTER="unregister",e.WINPVPGAME="win_pvp_game",e.PRAY="pray",e.BUYAXIE="buy_axie",e.BUYAXIESUMMER="buy_summer_axie",e.WINDUELISTICGAME="win_duelistic_game",e))(hr||{}),Wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cf=typeof window>"u"||"Deno"in globalThis;function qa(){}function Z7(e,t){return typeof e=="function"?e(t):e}function uy(e){return typeof e=="number"&&e>=0&&e!==1/0}function g4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Uc(e,t){return typeof e=="function"?e(t):e}function hi(e,t){return typeof e=="function"?e(t):e}function nE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==v_(s,t.options))return!1}else if(!hd(t.queryKey,s))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function aE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Nu(t.options.mutationKey)!==Nu(i))return!1}else if(!hd(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function v_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nu)(e)}function Nu(e){return JSON.stringify(e,(t,r)=>cy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function hd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!hd(e[r],t[r])):!1}function b_(e,t){if(e===t)return e;const r=iE(e)&&iE(t);if(r||cy(e)&&cy(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),s=i.length,o=r?[]:{};let f=0;for(let u=0;u<s;u++){const c=r?u:i[u];(!r&&n.includes(c)||r)&&e[c]===void 0&&t[c]===void 0?(o[c]=void 0,f++):(o[c]=b_(e[c],t[c]),o[c]===e[c]&&e[c]!==void 0&&f++)}return a===s&&f===a?e:o}return t}function sp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function iE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cy(e){if(!sE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!sE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sE(e){return Object.prototype.toString.call(e)==="[object Object]"}function eR(e){return new Promise(t=>{setTimeout(t,e)})}function fy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?b_(e,t):t}function tR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var y4=Symbol();function _4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===y4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var lu,Hs,Vc,V6,nR=(V6=class extends Wf{constructor(){super();ze(this,lu,void 0);ze(this,Hs,void 0);ze(this,Vc,void 0);ke(this,Vc,t=>{if(!cf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){re(this,Hs)||this.setEventListener(re(this,Vc))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Hs))==null||t.call(this),ke(this,Hs,void 0))}setEventListener(t){var r;ke(this,Vc,t),(r=re(this,Hs))==null||r.call(this),ke(this,Hs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){re(this,lu)!==t&&(ke(this,lu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof re(this,lu)=="boolean"?re(this,lu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},lu=new WeakMap,Hs=new WeakMap,Vc=new WeakMap,V6),g_=new nR,zc,$s,Yc,z6,aR=(z6=class extends Wf{constructor(){super();ze(this,zc,!0);ze(this,$s,void 0);ze(this,Yc,void 0);ke(this,Yc,t=>{if(!cf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){re(this,$s)||this.setEventListener(re(this,Yc))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,$s))==null||t.call(this),ke(this,$s,void 0))}setEventListener(t){var r;ke(this,Yc,t),(r=re(this,$s))==null||r.call(this),ke(this,$s,t(this.setOnline.bind(this)))}setOnline(t){re(this,zc)!==t&&(ke(this,zc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return re(this,zc)}},zc=new WeakMap,$s=new WeakMap,Yc=new WeakMap,z6),op=new aR;function iR(e){return Math.min(1e3*2**e,3e4)}function T4(e){return(e??"online")==="online"?op.isOnline():!0}var E4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function db(e){return e instanceof E4}function S4(e){let t=!1,r=0,n=!1,a,i,s;const o=new Promise((b,g)=>{i=b,s=g}),f=b=>{var g;n||(p(new E4(b)),(g=e.abort)==null||g.call(e))},u=()=>{t=!0},c=()=>{t=!1},l=()=>g_.isFocused()&&(e.networkMode==="always"||op.isOnline())&&e.canRun(),d=()=>T4(e.networkMode)&&e.canRun(),h=b=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,b),a==null||a(),i(b))},p=b=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,b),a==null||a(),s(b))},m=()=>new Promise(b=>{var g;a=y=>{(n||l())&&b(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var b;a=void 0,n||(b=e.onContinue)==null||b.call(e)}),v=()=>{if(n)return;let b;const g=r===0?e.initialPromise:void 0;try{b=g??e.fn()}catch(y){b=Promise.reject(y)}Promise.resolve(b).then(h).catch(y=>{var N;if(n)return;const C=e.retry??(cf?0:3),I=e.retryDelay??iR,P=typeof I=="function"?I(r,y):I,O=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,y);if(t||!O){p(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),eR(P).then(()=>l()?void 0:m()).then(()=>{t?p(y):v()})})};return{promise:o,cancel:f,continue:()=>(a==null||a(),o),cancelRetry:u,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),o)}}function sR(){let e=[],t=0,r=d=>{d()},n=d=>{d()},a=d=>setTimeout(d,0);const i=d=>{a=d},s=d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},o=d=>{t?e.push(d):a(()=>{r(d)})},f=d=>(...h)=>{o(()=>{d(...h)})},u=()=>{const d=e;e=[],d.length&&a(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:s,batchCalls:f,schedule:o,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:i}}var Fr=sR(),du,Y6,A4=(Y6=class{constructor(){ze(this,du,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uy(this.gcTime)&&ke(this,du,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cf?1/0:5*60*1e3))}clearGcTimeout(){re(this,du)&&(clearTimeout(re(this,du)),ke(this,du,void 0))}},du=new WeakMap,Y6),Xc,Jc,Wa,Sn,Kd,hu,di,ns,X6,oR=(X6=class extends A4{constructor(t){super();ze(this,di);ze(this,Xc,void 0);ze(this,Jc,void 0);ze(this,Wa,void 0);ze(this,Sn,void 0);ze(this,Kd,void 0);ze(this,hu,void 0);ke(this,hu,!1),ke(this,Kd,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Wa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Xc,uR(this.options)),this.state=t.state??re(this,Xc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,Sn))==null?void 0:t.promise}setOptions(t){this.options={...re(this,Kd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,Wa).remove(this)}setData(t,r){const n=fy(this.state.data,t,this.options);return Pt(this,di,ns).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pt(this,di,ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=re(this,Sn))==null?void 0:n.promise;return(a=re(this,Sn))==null||a.cancel(t),r?r.then(qa).catch(qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Xc))}isActive(){return this.observers.some(t=>hi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!g4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,Sn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,Sn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,Wa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(re(this,Sn)&&(re(this,hu)?re(this,Sn).cancel({revert:!0}):re(this,Sn).cancelRetry()),this.scheduleGc()),re(this,Wa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(this,di,ns).call(this,{type:"invalidate"})}fetch(t,r){var f,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,Sn))return re(this,Sn).continueRetry(),re(this,Sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,a=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(ke(this,hu,!0),n.signal)})},i=()=>{const l=_4(this.options,r),d={queryKey:this.queryKey,meta:this.meta};return a(d),ke(this,hu,!1),this.options.persister?this.options.persister(l,d,this):l(d)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(s),(f=this.options.behavior)==null||f.onFetch(s,this),ke(this,Jc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Pt(this,di,ns).call(this,{type:"fetch",meta:(c=s.fetchOptions)==null?void 0:c.meta});const o=l=>{var d,h,p,m;db(l)&&l.silent||Pt(this,di,ns).call(this,{type:"error",error:l}),db(l)||((h=(d=re(this,Wa).config).onError)==null||h.call(d,l,this),(m=(p=re(this,Wa).config).onSettled)==null||m.call(p,this.state.data,l,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ke(this,Sn,S4({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{var d,h,p,m;if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}this.setData(l),(h=(d=re(this,Wa).config).onSuccess)==null||h.call(d,l,this),(m=(p=re(this,Wa).config).onSettled)==null||m.call(p,l,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(l,d)=>{Pt(this,di,ns).call(this,{type:"failed",failureCount:l,error:d})},onPause:()=>{Pt(this,di,ns).call(this,{type:"pause"})},onContinue:()=>{Pt(this,di,ns).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),re(this,Sn).start()}},Xc=new WeakMap,Jc=new WeakMap,Wa=new WeakMap,Sn=new WeakMap,Kd=new WeakMap,hu=new WeakMap,di=new WeakSet,ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...w4(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return db(a)&&a.revert&&re(this,Jc)?{...re(this,Jc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),re(this,Wa).notify({query:this,type:"updated",action:t})})},X6);function w4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Oi,J6,cR=(J6=class extends Wf{constructor(t={}){super();ze(this,Oi,void 0);this.config=t,ke(this,Oi,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??v_(a,r);let s=this.get(i);return s||(s=new oR({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){re(this,Oi).has(t.queryHash)||(re(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=re(this,Oi).get(t.queryHash);r&&(t.destroy(),r===t&&re(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,Oi).get(t)}getAll(){return[...re(this,Oi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>nE(t,n)):r}notify(t){Fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,J6),xi,Gn,pu,Ri,Os,Q6,fR=(Q6=class extends A4{constructor(t){super();ze(this,Ri);ze(this,xi,void 0);ze(this,Gn,void 0);ze(this,pu,void 0);this.mutationId=t.mutationId,ke(this,Gn,t.mutationCache),ke(this,xi,[]),this.state=t.state||C4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,xi).includes(t)||(re(this,xi).push(t),this.clearGcTimeout(),re(this,Gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,xi,re(this,xi).filter(r=>r!==t)),this.scheduleGc(),re(this,Gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,xi).length||(this.state.status==="pending"?this.scheduleGc():re(this,Gn).remove(this))}continue(){var t;return((t=re(this,pu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O;ke(this,pu,S4({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,S)=>{Pt(this,Ri,Os).call(this,{type:"failed",failureCount:N,error:S})},onPause:()=>{Pt(this,Ri,Os).call(this,{type:"pause"})},onContinue:()=>{Pt(this,Ri,Os).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,Gn).canRun(this)}));const r=this.state.status==="pending",n=!re(this,pu).canStart();try{if(!r){Pt(this,Ri,Os).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=re(this,Gn).config).onMutate)==null?void 0:i.call(a,t,this));const S=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,t));S!==this.state.context&&Pt(this,Ri,Os).call(this,{type:"pending",context:S,variables:t,isPaused:n})}const N=await re(this,pu).start();return await((u=(f=re(this,Gn).config).onSuccess)==null?void 0:u.call(f,N,t,this.state.context,this)),await((l=(c=this.options).onSuccess)==null?void 0:l.call(c,N,t,this.state.context)),await((h=(d=re(this,Gn).config).onSettled)==null?void 0:h.call(d,N,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,N,null,t,this.state.context)),Pt(this,Ri,Os).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(v=re(this,Gn).config).onError)==null?void 0:b.call(v,N,t,this.state.context,this)),await((y=(g=this.options).onError)==null?void 0:y.call(g,N,t,this.state.context)),await((I=(C=re(this,Gn).config).onSettled)==null?void 0:I.call(C,void 0,N,this.state.variables,this.state.context,this)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,void 0,N,t,this.state.context)),N}finally{Pt(this,Ri,Os).call(this,{type:"error",error:N})}}finally{re(this,Gn).runNext(this)}}},xi=new WeakMap,Gn=new WeakMap,pu=new WeakMap,Ri=new WeakSet,Os=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fr.batch(()=>{re(this,xi).forEach(n=>{n.onMutationUpdate(t)}),re(this,Gn).notify({mutation:this,type:"updated",action:t})})},Q6);function C4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ga,Wd,Z6,lR=(Z6=class extends Wf{constructor(t={}){super();ze(this,ga,void 0);ze(this,Wd,void 0);this.config=t,ke(this,ga,new Map),ke(this,Wd,Date.now())}build(t,r,n){const a=new fR({mutationCache:this,mutationId:++zh(this,Wd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Xh(t),n=re(this,ga).get(r)??[];n.push(t),re(this,ga).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Xh(t);if(re(this,ga).has(r)){const a=(n=re(this,ga).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?re(this,ga).delete(r):re(this,ga).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=re(this,ga).get(Xh(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=re(this,ga).get(Xh(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...re(this,ga).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aE(r,n))}findAll(t={}){return this.getAll().filter(r=>aE(t,r))}notify(t){Fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Fr.batch(()=>Promise.all(t.map(r=>r.continue().catch(qa))))}},ga=new WeakMap,Wd=new WeakMap,Z6);function Xh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function dR(e){return{onFetch:(t,r)=>{const n=async()=>{var p,m,v,b,g;const a=t.options,i=(v=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[],f={pages:[],pageParams:[]};let u=!1;const c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},l=_4(t.options,t.fetchOptions),d=async(y,C,I)=>{if(u)return Promise.reject();if(C==null&&y.pages.length)return Promise.resolve(y);const P={queryKey:t.queryKey,pageParam:C,direction:I?"backward":"forward",meta:t.options.meta};c(P);const O=await l(P),{maxPages:N}=t.options,S=I?rR:tR;return{pages:S(y.pages,O,N),pageParams:S(y.pageParams,C,N)}};let h;if(i&&s.length){const y=i==="backward",C=y?I4:ly,I={pages:s,pageParams:o},P=C(a,I);h=await d(I,P,y)}else{h=await d(f,o[0]??a.initialPageParam);const y=e??s.length;for(let C=1;C<y;C++){const I=ly(a,h);if(I==null)break;h=await d(h,I)}}return h};t.options.persister?t.fetchFn=()=>{var a,i;return(i=(a=t.options).persister)==null?void 0:i.call(a,n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=n}}}function ly(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function I4(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function Hde(e,t){return t?ly(e,t)!=null:!1}function $de(e,t){return!t||!e.getPreviousPageParam?!1:I4(e,t)!=null}var Er,Us,js,Qc,Zc,Gs,ef,tf,e4,Ude=(e4=class{constructor(e={}){ze(this,Er,void 0);ze(this,Us,void 0);ze(this,js,void 0);ze(this,Qc,void 0);ze(this,Zc,void 0);ze(this,Gs,void 0);ze(this,ef,void 0);ze(this,tf,void 0);ke(this,Er,e.queryCache||new cR),ke(this,Us,e.mutationCache||new lR),ke(this,js,e.defaultOptions||{}),ke(this,Qc,new Map),ke(this,Zc,new Map),ke(this,Gs,0)}mount(){zh(this,Gs)._++,re(this,Gs)===1&&(ke(this,ef,g_.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,Er).onFocus())})),ke(this,tf,op.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,Er).onOnline())})))}unmount(){var e,t;zh(this,Gs)._--,re(this,Gs)===0&&((e=re(this,ef))==null||e.call(this),ke(this,ef,void 0),(t=re(this,tf))==null||t.call(this),ke(this,tf,void 0))}isFetching(e){return re(this,Er).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,Us).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,Er).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=re(this,Er).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Uc(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return re(this,Er).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=re(this,Er).get(n.queryHash),i=a==null?void 0:a.state.data,s=Z7(t,i);if(s!==void 0)return re(this,Er).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Fr.batch(()=>re(this,Er).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,Er).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=re(this,Er);Fr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=re(this,Er),n={type:"active",...e};return Fr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Fr.batch(()=>re(this,Er).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(qa).catch(qa)}invalidateQueries(e={},t={}){return Fr.batch(()=>{if(re(this,Er).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Fr.batch(()=>re(this,Er).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(qa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(qa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=re(this,Er).build(this,t);return r.isStaleByTime(Uc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qa).catch(qa)}fetchInfiniteQuery(e){return e.behavior=dR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qa).catch(qa)}resumePausedMutations(){return op.isOnline()?re(this,Us).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,Er)}getMutationCache(){return re(this,Us)}getDefaultOptions(){return re(this,js)}setDefaultOptions(e){ke(this,js,e)}setQueryDefaults(e,t){re(this,Qc).set(Nu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,Qc).values()];let r={};return t.forEach(n=>{hd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){re(this,Zc).set(Nu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,Zc).values()];let r={};return t.forEach(n=>{hd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,js).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=v_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===y4&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,js).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,Er).clear(),re(this,Us).clear()}},Er=new WeakMap,Us=new WeakMap,js=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,Gs=new WeakMap,ef=new WeakMap,tf=new WeakMap,e4),ea,kt,qd,Kn,mu,rf,Di,Vd,nf,af,vu,bu,Ks,sf,gu,Ul,zd,dy,Yd,hy,Xd,py,Jd,my,Qd,vy,Zd,by,eh,gy,am,P4,t4,hR=(t4=class extends Wf{constructor(t,r){super();ze(this,gu);ze(this,zd);ze(this,Yd);ze(this,Xd);ze(this,Jd);ze(this,Qd);ze(this,Zd);ze(this,eh);ze(this,am);ze(this,ea,void 0);ze(this,kt,void 0);ze(this,qd,void 0);ze(this,Kn,void 0);ze(this,mu,void 0);ze(this,rf,void 0);ze(this,Di,void 0);ze(this,Vd,void 0);ze(this,nf,void 0);ze(this,af,void 0);ze(this,vu,void 0);ze(this,bu,void 0);ze(this,Ks,void 0);ze(this,sf,new Set);this.options=r,ke(this,ea,t),ke(this,Di,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(re(this,kt).addObserver(this),oE(re(this,kt),this.options)?Pt(this,gu,Ul).call(this):this.updateResult(),Pt(this,Jd,my).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yy(re(this,kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yy(re(this,kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pt(this,Qd,vy).call(this),Pt(this,Zd,by).call(this),re(this,kt).removeObserver(this)}setOptions(t,r){const n=this.options,a=re(this,kt);if(this.options=re(this,ea).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hi(this.options.enabled,re(this,kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pt(this,eh,gy).call(this),re(this,kt).setOptions(this.options),n._defaulted&&!sp(this.options,n)&&re(this,ea).getQueryCache().notify({type:"observerOptionsUpdated",query:re(this,kt),observer:this});const i=this.hasListeners();i&&uE(re(this,kt),a,this.options,n)&&Pt(this,gu,Ul).call(this),this.updateResult(r),i&&(re(this,kt)!==a||hi(this.options.enabled,re(this,kt))!==hi(n.enabled,re(this,kt))||Uc(this.options.staleTime,re(this,kt))!==Uc(n.staleTime,re(this,kt)))&&Pt(this,zd,dy).call(this);const s=Pt(this,Yd,hy).call(this);i&&(re(this,kt)!==a||hi(this.options.enabled,re(this,kt))!==hi(n.enabled,re(this,kt))||s!==re(this,Ks))&&Pt(this,Xd,py).call(this,s)}getOptimisticResult(t){const r=re(this,ea).getQueryCache().build(re(this,ea),t),n=this.createResult(r,t);return mR(this,n)&&(ke(this,Kn,n),ke(this,rf,this.options),ke(this,mu,re(this,kt).state)),n}getCurrentResult(){return re(this,Kn)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){re(this,sf).add(t)}getCurrentQuery(){return re(this,kt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=re(this,ea).defaultQueryOptions(t),n=re(this,ea).getQueryCache().build(re(this,ea),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pt(this,gu,Ul).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),re(this,Kn)))}createResult(t,r){var O;const n=re(this,kt),a=this.options,i=re(this,Kn),s=re(this,mu),o=re(this,rf),u=t!==n?t.state:re(this,qd),{state:c}=t;let l={...c},d=!1,h;if(r._optimisticResults){const N=this.hasListeners(),S=!N&&oE(t,r),D=N&&uE(t,n,r,a);(S||D)&&(l={...l,...w4(c.data,t.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:v}=l;if(r.select&&l.data!==void 0)if(i&&l.data===(s==null?void 0:s.data)&&r.select===re(this,Vd))h=re(this,nf);else try{ke(this,Vd,r.select),h=r.select(l.data),h=fy(i==null?void 0:i.data,h,r),ke(this,nf,h),ke(this,Di,null)}catch(N){ke(this,Di,N)}else h=l.data;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let N;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))N=i.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((O=re(this,af))==null?void 0:O.state.data,re(this,af)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),ke(this,Di,null)}catch(S){ke(this,Di,S)}N!==void 0&&(v="success",h=fy(i==null?void 0:i.data,N,r),d=!0)}re(this,Di)&&(p=re(this,Di),h=re(this,nf),m=Date.now(),v="error");const b=l.fetchStatus==="fetching",g=v==="pending",y=v==="error",C=g&&b,I=h!==void 0;return{status:v,fetchStatus:l.fetchStatus,isPending:g,isSuccess:v==="success",isError:y,isInitialLoading:C,isLoading:C,data:h,dataUpdatedAt:l.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:y&&!I,isPaused:l.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:y&&I,isStale:y_(t,r),refetch:this.refetch}}updateResult(t){const r=re(this,Kn),n=this.createResult(re(this,kt),this.options);if(ke(this,mu,re(this,kt).state),ke(this,rf,this.options),re(this,mu).data!==void 0&&ke(this,af,re(this,kt)),sp(n,r))return;ke(this,Kn,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!re(this,sf).size)return!0;const f=new Set(o??re(this,sf));return this.options.throwOnError&&f.add("error"),Object.keys(re(this,Kn)).some(u=>{const c=u;return re(this,Kn)[c]!==r[c]&&f.has(c)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Pt(this,am,P4).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pt(this,Jd,my).call(this)}},ea=new WeakMap,kt=new WeakMap,qd=new WeakMap,Kn=new WeakMap,mu=new WeakMap,rf=new WeakMap,Di=new WeakMap,Vd=new WeakMap,nf=new WeakMap,af=new WeakMap,vu=new WeakMap,bu=new WeakMap,Ks=new WeakMap,sf=new WeakMap,gu=new WeakSet,Ul=function(t){Pt(this,eh,gy).call(this);let r=re(this,kt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(qa)),r},zd=new WeakSet,dy=function(){Pt(this,Qd,vy).call(this);const t=Uc(this.options.staleTime,re(this,kt));if(cf||re(this,Kn).isStale||!uy(t))return;const n=g4(re(this,Kn).dataUpdatedAt,t)+1;ke(this,vu,setTimeout(()=>{re(this,Kn).isStale||this.updateResult()},n))},Yd=new WeakSet,hy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(re(this,kt)):this.options.refetchInterval)??!1},Xd=new WeakSet,py=function(t){Pt(this,Zd,by).call(this),ke(this,Ks,t),!(cf||hi(this.options.enabled,re(this,kt))===!1||!uy(re(this,Ks))||re(this,Ks)===0)&&ke(this,bu,setInterval(()=>{(this.options.refetchIntervalInBackground||g_.isFocused())&&Pt(this,gu,Ul).call(this)},re(this,Ks)))},Jd=new WeakSet,my=function(){Pt(this,zd,dy).call(this),Pt(this,Xd,py).call(this,Pt(this,Yd,hy).call(this))},Qd=new WeakSet,vy=function(){re(this,vu)&&(clearTimeout(re(this,vu)),ke(this,vu,void 0))},Zd=new WeakSet,by=function(){re(this,bu)&&(clearInterval(re(this,bu)),ke(this,bu,void 0))},eh=new WeakSet,gy=function(){const t=re(this,ea).getQueryCache().build(re(this,ea),this.options);if(t===re(this,kt))return;const r=re(this,kt);ke(this,kt,t),ke(this,qd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},am=new WeakSet,P4=function(t){Fr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(re(this,Kn))}),re(this,ea).getQueryCache().notify({query:re(this,kt),type:"observerResultsUpdated"})})},t4);function pR(e,t){return hi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oE(e,t){return pR(e,t)||e.state.data!==void 0&&yy(e,t,t.refetchOnMount)}function yy(e,t,r){if(hi(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&y_(e,t)}return!1}function uE(e,t,r,n){return(e!==t||hi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&y_(e,r)}function y_(e,t){return hi(t.enabled,e)!==!1&&e.isStaleByTime(Uc(t.staleTime,e))}function mR(e,t){return!sp(e.getCurrentResult(),t)}var Ws,qs,ta,cs,of,O0,th,_y,r4,vR=(r4=class extends Wf{constructor(t,r){super();ze(this,of);ze(this,th);ze(this,Ws,void 0);ze(this,qs,void 0);ze(this,ta,void 0);ze(this,cs,void 0);ke(this,Ws,t),this.setOptions(r),this.bindMethods(),Pt(this,of,O0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=re(this,Ws).defaultMutationOptions(t),sp(this.options,r)||re(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:re(this,ta),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Nu(r.mutationKey)!==Nu(this.options.mutationKey)?this.reset():((n=re(this,ta))==null?void 0:n.state.status)==="pending"&&re(this,ta).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=re(this,ta))==null||t.removeObserver(this)}onMutationUpdate(t){Pt(this,of,O0).call(this),Pt(this,th,_y).call(this,t)}getCurrentResult(){return re(this,qs)}reset(){var t;(t=re(this,ta))==null||t.removeObserver(this),ke(this,ta,void 0),Pt(this,of,O0).call(this),Pt(this,th,_y).call(this)}mutate(t,r){var n;return ke(this,cs,r),(n=re(this,ta))==null||n.removeObserver(this),ke(this,ta,re(this,Ws).getMutationCache().build(re(this,Ws),this.options)),re(this,ta).addObserver(this),re(this,ta).execute(t)}},Ws=new WeakMap,qs=new WeakMap,ta=new WeakMap,cs=new WeakMap,of=new WeakSet,O0=function(){var r;const t=((r=re(this,ta))==null?void 0:r.state)??C4();ke(this,qs,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},th=new WeakSet,_y=function(t){Fr.batch(()=>{var r,n,a,i,s,o,f,u;if(re(this,cs)&&this.hasListeners()){const c=re(this,qs).variables,l=re(this,qs).context;(t==null?void 0:t.type)==="success"?((n=(r=re(this,cs)).onSuccess)==null||n.call(r,t.data,c,l),(i=(a=re(this,cs)).onSettled)==null||i.call(a,t.data,null,c,l)):(t==null?void 0:t.type)==="error"&&((o=(s=re(this,cs)).onError)==null||o.call(s,t.error,c,l),(u=(f=re(this,cs)).onSettled)==null||u.call(f,void 0,t.error,c,l))}this.listeners.forEach(c=>{c(re(this,qs))})})},r4),N4=R.createContext(void 0),qf=e=>{const t=R.useContext(N4);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jde=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Z.jsx(N4.Provider,{value:e,children:t})),O4=R.createContext(!1),bR=()=>R.useContext(O4);O4.Provider;function gR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yR=R.createContext(gR()),_R=()=>R.useContext(yR);function x4(e,t){return typeof e=="function"?e(...t):!!e}function TR(){}var ER=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},SR=e=>{R.useEffect(()=>{e.clearReset()},[e])},AR=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&x4(r,[e.error,n]),wR=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},CR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,IR=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function PR(e,t,r){var u,c,l,d;const n=qf(r),a=bR(),i=_R(),s=n.defaultQueryOptions(e);(c=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||c.call(u,s),s._optimisticResults=a?"isRestoring":"optimistic",wR(s),ER(s,i),SR(i);const[o]=R.useState(()=>new t(n,s)),f=o.getOptimisticResult(s);if(R.useSyncExternalStore(R.useCallback(h=>{const p=a?()=>{}:o.subscribe(Fr.batchCalls(h));return o.updateResult(),p},[o,a]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),R.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),CR(s,f))throw IR(s,o,i);if(AR({result:f,errorResetBoundary:i,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw f.error;return(d=(l=n.getDefaultOptions().queries)==null?void 0:l._experimental_afterQuery)==null||d.call(l,s,f),s.notifyOnChangeProps?f:o.trackResult(f)}function bi(e,t){return PR(e,hR,t)}function cE(e,t){return e.findAll(t.filters).map(r=>t.select?t.select(r):r.state)}function NR(e={},t){const r=qf(t).getMutationCache(),n=R.useRef(e),a=R.useRef(null);return a.current||(a.current=cE(r,e)),R.useEffect(()=>{n.current=e}),R.useSyncExternalStore(R.useCallback(i=>r.subscribe(()=>{const s=b_(a.current,cE(r,n.current));a.current!==s&&(a.current=s,Fr.schedule(i))}),[r]),()=>a.current,()=>a.current)}function fm(e,t){const r=qf(t),[n]=R.useState(()=>new vR(r,e));R.useEffect(()=>{n.setOptions(e)},[n,e]);const a=R.useSyncExternalStore(R.useCallback(s=>n.subscribe(Fr.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=R.useCallback((s,o)=>{n.mutate(s,o).catch(TR)},[n]);if(a.error&&x4(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const ia={ALL_CHAINS:"ALL_CHAINS",ACTIVE_CHAINS:"ACTIVE_CHAINS",ALL_ACTIVITY:"ALL_ACTIVITY",ALL_WALLETS:"ALL_WALLETS",ACCOUNT_BALANCE:"ACCOUNT_BALANCE",ACCOUNT_STORE:"ACCOUNT_STORE",CONFIG_STORE:"CONFIG_STORE",ACTION_STORE:"ACTION_STORE",TRACKING_STORE:"TRACKING_STORE",GAS_SUGGESTION:"GAS_SUGGESTION",GAS_FEE_WITH_TX_REQUEST_BODY:"GAS_FEE_WITH_TX_REQUEST_BODY",GET_NATIVE_TOKEN:"GET_NATIVE_TOKEN",SHOULD_SHOW_BALANCE:"SHOULD_SHOW_BALANCE",TOKEN_LIST_MULTICHAIN:"TOKEN_LIST_MULTICHAIN",COLLECTION_SINGLE_CHAIN:"COLLECTION_SINGLE_CHAIN",ERC20_TOKEN_LIST_MULTICHAIN:"ERC20_TOKEN_LIST_MULTICHAIN",ERC20_TOKEN_LIST:"ERC20_TOKEN_LIST",PROVIDERS:"PROVIDERS",RNS_RESOLVE_NAME:"RNS_RESOLVE_NAME",RNS_RESOLVE_ADDRESS:"RNS_RESOLVE_ADDRESS",SETTING_STORE:"SETTING_STORE",UNLOCK_STORE:"UNLOCK_STORE",TEMP_STORE:"TEMP_STORE",FREE_GAS_VOUCHER:"FREE_GAS_VOUCHER",EST_GAS:"EST_GAS",NFT_ITEMS_PAGING:"NFT_ITEMS_PAGING",GET_GAS_LIMIT:"GET_GAS_LIMIT",GET_GAS_LIMIT_TX:"GET_GAS_LIMIT_TX",GET_DEFAULT_NONCE:"GET_DEFAULT_NONCE",GET_DEFAULT_NONCE_TX:"GET_DEFAULT_NONCE_TX",CURRENCY_EXCHANGE_RATE:"CURRENCY_EXCHANGE_RATE",ERC20_TOKEN_SEARCH:"ERC20_TOKEN_SEARCH",BEST_PROVIDERS:"BEST_PROVIDERS",ALL_QUEST_LIST:"ALL_QUEST_LIST",QUEST_DETAILS:"QUEST_DETAILS",QUEST_FILTER:"QUEST_FILTER",MY_QUEST:"MY_QUEST",ON_GOING_QUEST_COUNT:"ON_GOING_QUEST_COUNT",CLAIMABLE_REWARD_COUNT:"CLAIMABLE_REWARD_COUNT",MY_REWARD:"MY_REWARD",RONIN_DAILY_STREAK:"RONIN_DAILY_STREAK",TIME_TO_CHECK_IN:"TIME_TO_CHECK_IN"},ah={VERIFY_ACTIVITY:"VERIFY_ACTIVITY",REQUEST_REWARD:"REQUEST_REWARD",CHECK_IN:"CHECK_IN",VERIFY_ACTIVITIES:"VERIFY_ACTIVITIES",TAKE_QUEST:"TAKE_QUEST",PRE_CHECK_QUEST:"PRE_CHECK_QUEST"},Gde=()=>{const{refetch:e,isLoading:t,...r}=bi({queryKey:[ia.UNLOCK_STORE],queryFn:async()=>await Cc.get()});return R.useEffect(()=>{const a=()=>e();return Cc.subscribe(a),()=>{Cc.unSubscribe(a)}},[e]),{unlockInfo:r,setUnlocked:a=>Cc.setUnlocked(a),isLoading:t}},Kde=()=>{const{refetch:e,isLoading:t,...r}=bi({queryKey:[ia.SETTING_STORE],queryFn:async()=>await hc.get()}),n=o=>hc.setTime(o),a=R.useCallback(()=>hc.updateLastActiveTime(),[]),i=R.useCallback(()=>hc.shouldLock(),[]),s=R.useCallback(async()=>{if(!await i())return await a()},[i,a]);return R.useEffect(()=>{const o=()=>e();return hc.subscribe(o),()=>{hc.unSubscribe(o)}},[e]),{settingInfo:r,setLockTime:n,checkLastActiveTime:s,updateLastActiveTime:a,isLoading:t,shouldLock:i}};var OR={VITE_DEV:"false",VITE_ENV:"production",VITE_FIREFOX:"false",VITE_BETA_RELEASE:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const fE=e=>{let t;const r=new Set,n=(c,l)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=l??(typeof d!="object"||d===null)?d:Object.assign({},t,d),r.forEach(p=>p(t,h))}},a=()=>t,f={setState:n,getState:a,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(OR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,f);return f},xR=e=>e?fE(e):fE;var R4={exports:{}},D4={},M4={exports:{}},L4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=R;function RR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DR=typeof Object.is=="function"?Object.is:RR,MR=ff.useState,LR=ff.useEffect,kR=ff.useLayoutEffect,BR=ff.useDebugValue;function FR(e,t){var r=t(),n=MR({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return kR(function(){a.value=r,a.getSnapshot=t,hb(a)&&i({inst:a})},[e,r,t]),LR(function(){return hb(a)&&i({inst:a}),e(function(){hb(a)&&i({inst:a})})},[e]),BR(r),r}function hb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!DR(e,r)}catch{return!0}}function HR(e,t){return t()}var $R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HR:FR;L4.useSyncExternalStore=ff.useSyncExternalStore!==void 0?ff.useSyncExternalStore:$R;M4.exports=L4;var UR=M4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=R,jR=UR;function GR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KR=typeof Object.is=="function"?Object.is:GR,WR=jR.useSyncExternalStore,qR=lm.useRef,VR=lm.useEffect,zR=lm.useMemo,YR=lm.useDebugValue;D4.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=qR(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=zR(function(){function f(h){if(!u){if(u=!0,c=h,h=n(h),a!==void 0&&s.hasValue){var p=s.value;if(a(p,h))return l=p}return l=h}if(p=l,KR(c,h))return p;var m=n(h);return a!==void 0&&a(p,m)?p:(c=h,l=m)}var u=!1,c,l,d=r===void 0?null:r;return[function(){return f(t())},d===null?void 0:function(){return f(d())}]},[t,r,n,a]);var o=WR(e,i[0],i[1]);return VR(function(){s.hasValue=!0,s.value=o},[o]),YR(o),o};R4.exports=D4;var XR=R4.exports;const JR=Ts(XR);var k4={VITE_DEV:"false",VITE_ENV:"production",VITE_FIREFOX:"false",VITE_BETA_RELEASE:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:QR}=J,{useSyncExternalStoreWithSelector:ZR}=JR;let lE=!1;const eD=e=>e;function tD(e,t=eD,r){(k4?"production":void 0)!=="production"&&r&&!lE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lE=!0);const n=ZR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return QR(n),n}const dE=e=>{(k4?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?xR(e):e,r=(n,a)=>tD(t,n,a);return Object.assign(r,t),r},dm=e=>e?dE(e):dE,rD=dm(e=>({isLoading:!1,currentTx:null,purchaseProvider:null,ctaType:null,setCtaType:t=>e(r=>({...r,ctaType:t})),setIsLoading:t=>e(r=>({...r,isLoading:t})),setCurrentTx:t=>e(r=>({...r,currentTx:t})),setPurchaseProvider:t=>e(r=>({...r,purchaseProvider:t})),setUnlockUpdatedAt:t=>e(r=>({...r,unlockUpdatedAt:t})),onGoingCount:0,setOnGoingCount:t=>e(r=>({...r,onGoingCount:t}))}));var pa={container:"badge-module_container__WY-ll",badge:"badge-module_badge__kTvKz",interactive:"badge-module_interactive__EmeJe",normal:"badge-module_normal__BL5Nt",border:"badge-module_border__yPjfP",dot:"badge-module_dot__mNAPw","is-count":"badge-module_is-count__BTybw","top-left":"badge-module_top-left__tgp7F","top-right":"badge-module_top-right__yKNoj","bottom-left":"badge-module_bottom-left__a7Jk0","bottom-right":"badge-module_bottom-right__R4Ajq","size-small":"badge-module_size-small__R4QMA","size-default":"badge-module_size-default__CQyZY","size-large":"badge-module_size-large__FbroU",text:"badge-module_text__LlQYs","has-left-icon":"badge-module_has-left-icon__x3ijB","default-solid":"badge-module_default-solid__76z0J","primary-solid":"badge-module_primary-solid__T7WuZ","info-solid":"badge-module_info-solid__DSKnf","danger-solid":"badge-module_danger-solid__fJL--","success-solid":"badge-module_success-solid__6ZYL7","secondary-solid":"badge-module_secondary-solid__uHrt4","purple-solid":"badge-module_purple-solid__Jw-US","default-soft":"badge-module_default-soft__mM6Rr","primary-soft":"badge-module_primary-soft__vBEMk","info-soft":"badge-module_info-soft__tKVWz","danger-soft":"badge-module_danger-soft__w-Y-d","success-soft":"badge-module_success-soft__u4JCi","secondary-soft":"badge-module_secondary-soft__EXniw","purple-soft":"badge-module_purple-soft__jMbWk"},nD=["className","intent","dot","count","showZero","interactive","border","text","variant","overflowCount","textClassName","position","children","size","customLeftIcon"],Ty;(function(e){e.Purple="purple"})(Ty||(Ty={}));var up;(function(e){e.Soft="soft",e.Solid="solid"})(up||(up={}));var Ey;(function(e){e.TopRight="top-right",e.TopLeft="top-left",e.BottomLeft="bottom-left",e.BottomRight="bottom-right"})(Ey||(Ey={}));var aD=99,iD=function(t,r){var n,a=t.className,i=t.intent,s=i===void 0?qt.Default:i,o=t.dot,f=t.count,u=t.showZero,c=t.interactive,l=t.border,d=t.text,h=t.variant,p=h===void 0?up.Solid:h,m=t.overflowCount,v=m===void 0?aD:m,b=t.textClassName,g=t.position,y=g===void 0?"top-right":g,C=t.children,I=t.size,P=t.customLeftIcon,O=Wi(t,nD),N=R.useMemo(function(){return typeof f!="number"?null:f>v&&v>0?v+"+":f===0?u?0:null:f},[f,v,u]),S=N!==null&&typeof N<"u",D=function(){return o?null:S?N:d},w=D(),T=C==null,x=ft(pa.container,a),_=I?"size-"+I:"",M=P?"has-left-icon":"",L=ft(pa.badge,pa[s+"-"+p],pa[_],(n={},n[pa.dot]=o,n[pa.normal]=!o,n[pa.border]=l,n[pa.interactive]=c,n),S?pa["is-count"]:null,y&&!T?pa[y]:null,b);return J.createElement("div",Nn({},O,{ref:r,className:x}),J.createElement("div",{className:L},J.createElement(i4.Text,{level:"3",tag:"span",className:ft(pa.text,pa[M])},P||null,w)),!T&&J.createElement("div",{className:pa.content},C))},qu=R.forwardRef(iD);qu.ExtendIntent=Ty;qu.Variant=up;qu.Position=Ey;qu.displayName="Badge";const sD=e=>{const{size:t=16,children:r,viewBox:n="0 0 24 24",...a}=e;return J.createElement("svg",{...a,style:{fill:"currentColor"},viewBox:n,width:t,height:t},r)},ih=(e,t,r)=>{const n=(()=>{try{return r?JSON.parse(r):{}}catch{return{}}})();let a=i=>J.createElement(sD,{...n,...i},e);return a.displayName=`Dango${t}Icon`,a=J.memo(a),a},oD=ih(J.createElement(J.Fragment,null,J.createElement("path",{d:"M15.518 6H8.482C6.938 6 5.977 7.674 6.755 9.008l3.517 6.03c.772 1.323 2.684 1.323 3.456 0l3.518-6.03C18.023 7.674 17.061 6 15.518 6Z",fill:"currentColor"})),"ArrowTriangleDownIcon"),uD=ih(J.createElement(J.Fragment,null,J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.22 9.375a1 1 0 0 1 1.405-.156L12 12.72l4.375-3.5a1 1 0 0 1 1.25 1.562l-5 4a1 1 0 0 1-1.25 0l-5-4a1 1 0 0 1-.156-1.406Z",fill:"currentColor"})),"ChevronDownIcon"),cD=ih(J.createElement(J.Fragment,null,J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 12a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Z",fill:"currentColor"})),"Minus01Icon"),fD=ih(J.createElement(J.Fragment,null,J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.293 6.293a1 1 0 0 1 1.414 0L12 10.586l4.293-4.293a1 1 0 1 1 1.414 1.414L13.414 12l4.293 4.293a1 1 0 0 1-1.414 1.414L12 13.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L10.586 12 6.293 7.707a1 1 0 0 1 0-1.414Z",fill:"currentColor"})),"Remove01Icon"),lD=ih(J.createElement(J.Fragment,null,J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.669 6.257a1 1 0 0 1 .074 1.412l-7.737 8.597a3 3 0 0 1-4.104.336l-3.527-2.821a1 1 0 0 1 1.25-1.562L9.15 15.04a1 1 0 0 0 1.368-.112l7.738-8.597a1 1 0 0 1 1.412-.074Z",fill:"currentColor"})),"TickIcon"),B4=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var zr={container:"input-module_container__Gch8D",form:"input-module_form__2zFJF",prefix:"input-module_prefix__uR1Sx",suffix:"input-module_suffix__nC3z-",formControl:"input-module_formControl__oYbNL","size-large":"input-module_size-large__OIWyZ","size-small":"input-module_size-small__Lwe7b",hasPrefix:"input-module_hasPrefix__Zh5xG",hasSuffix:"input-module_hasSuffix__hiMdC",label:"input-module_label__lu7R1",caption:"input-module_caption__B8MlG",formFloating:"input-module_formFloating__TgYDH",default:"input-module_default__Rk4yp",disabled:"input-module_disabled__K-5hi","read-only":"input-module_read-only__1lDjy","has-label":"input-module_has-label__SH6oF","variant-filled":"input-module_variant-filled__E0W-m",danger:"input-module_danger__dhWmH",success:"input-module_success__v5e-g",primary:"input-module_primary__KnnRw",info:"input-module_info__5dWn6",secondary:"input-module_secondary__NsKHe","status-default":"input-module_status-default__v27nG","status-danger":"input-module_status-danger__S2Fgy","status-success":"input-module_status-success__Gq89P","status-primary":"input-module_status-primary__-qi8U","status-info":"input-module_status-info__nIGpx","status-secondary":"input-module_status-secondary__jzLpw"},dD=["label","id","className","intent","status","variant","size","prefixIcon","suffixIcon","allowClear","disabled","caption","defaultValue","value","inputClassName","formClassName"],Sy;(function(e){e.Default="default",e.Filled="filled"})(Sy||(Sy={}));var hD=function(t,r){var n,a,i=t.label,s=t.id,o=t.className,f=t.intent,u=f===void 0?qt.Default:f,c=t.status,l=t.variant,d=l===void 0?Sy.Default:l,h=t.size,p=h===void 0?dd.Default:h,m=t.prefixIcon,v=t.suffixIcon,b=t.allowClear,g=t.disabled,y=t.caption,C=t.defaultValue,I=t.value,P=t.inputClassName,O=t.formClassName,N=Wi(t,dD),S=!!i,D=m&&!S,w="variant-"+d,T="size-"+(p||dd.Default),x=ft(zr.container,c?zr["status-"+c]:zr[u],zr[w],(n={},n[zr["read-only"]]=N.readOnly,n[zr.disabled]=g,n),o),_=ft(zr.form,S?zr.formFloating:null,O),M=ft(zr.formControl,zr[T],(a={},a[zr["read-only"]]=N.readOnly,a[zr["has-label"]]=!!i,a[zr.hasPrefix]=D,a[zr.hasSuffix]=v||b,a),P),L=N.placeholder;S&&!N.placeholder&&(L="Enter...");var F=function(U){t.onChange&&t.onChange(U)};return J.createElement("div",{className:x},J.createElement("div",{className:_},D&&J.createElement("span",{className:zr.prefix},m),J.createElement("input",Nn({},N,{ref:r,id:s,defaultValue:C,value:I,disabled:g,className:M,placeholder:L,onChange:F})),v&&J.createElement("span",{className:zr.suffix},v),i&&J.createElement("label",{htmlFor:s,className:ft(zr.label)},i)),y&&J.createElement("div",{className:zr.caption},y))},F4=R.forwardRef(hD);F4.displayName="Input";var Ji={checkbox:"checkbox-module_checkbox__owkMP",disabled:"checkbox-module_disabled__Ba3GC",input:"checkbox-module_input__Ptgt7",icon:"checkbox-module_icon__RO-yn",label:"checkbox-module_label__d1SS1",primary:"checkbox-module_primary__CMrUM",checked:"checkbox-module_checked__xjUYG",default:"checkbox-module_default__ZAu5M",info:"checkbox-module_info__2uo3j",success:"checkbox-module_success__lRdHd",danger:"checkbox-module_danger__6XFaC",secondary:"checkbox-module_secondary__dfVrv"},pD=["label","indeterminated","id","disabled","className","checked","intent","size"],Ay;(function(e){e.Default="default",e.Large="large"})(Ay||(Ay={}));var mD=function(t){var r=20;switch(t){case Ay.Large:r=28;break;default:r=20;break}return r},vD=function(t,r){var n,a,i=t.label,s=t.indeterminated,o=t.id,f=t.disabled,u=t.className,c=t.checked,l=t.intent,d=t.size,h=Wi(t,pD),p=!!c,m=function(C){C.currentTarget.focus(),C.target.checked=!p,t.onChange&&t.onChange(C)},v=l?Ji[l]:Ji.primary,b=d?Ji[d]:null,g=mD(d);return J.createElement("label",{htmlFor:o,className:ft(Ji.checkbox,b,v,(n={},n[Ji.disabled]=f,n),u)},J.createElement("input",Nn({},h,{type:"checkbox",id:o,ref:r,className:Ji.input,disabled:f,checked:p,onChange:m})),J.createElement("span",{className:ft(Ji.icon,(a={},a[Ji.checked]=p,a))},s?J.createElement(cD,{size:g}):J.createElement(lD,{size:g})),i&&J.createElement("span",{className:Ji.label},i))},H4=R.forwardRef(vD);H4.displayName="Checkbox";var no;(function(e){e.Divider="menu-divider",e.Item="menu-item"})(no||(no={}));var hE={divider:"menu-divider-module_divider__-tabb",default:"menu-divider-module_default__ehNtr"},bD=["className","children"],gD=function(t,r){var n=t.className,a=t.children,i=Wi(t,bD),s=ft(hE.divider,hE.default,n);return J.createElement("li",Nn({},i,{className:s,ref:r}),a)},hm=J.forwardRef(gD);hm.MenuElementType=no.Divider;hm.displayName="MenuDivider";var Jh={menuItem:"menu-item-module_menuItem__-ETLL",disabled:"menu-item-module_disabled__Ozscr",default:"menu-item-module_default__-hmlj",active:"menu-item-module_active__PHYnm"},yD=["className","disabled","active","children","data","onClick"],_D=function(t,r){var n,a=t.className,i=t.disabled,s=t.active,o=t.children,f=t.data,u=t.onClick,c=Wi(t,yD),l=ft(Jh.menuItem,Jh.default,(n={},n[Jh.active]=!!s,n[Jh.disabled]=i===!0,n),a),d=function(p){u&&typeof u=="function"&&u(p)};return J.createElement("li",Nn({},c,{onClick:d,"data-key":f.key,className:l,ref:r}),o)},pm=J.forwardRef(_D);pm.MenuElementType=no.Item;pm.displayName="MenuItem";const __=R.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),mm=R.createContext({}),vm=R.createContext(null),T_=typeof document<"u",E_=T_?R.useLayoutEffect:R.useEffect,$4=R.createContext({strict:!1}),S_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TD="framerAppearId",U4="data-"+S_(TD),ED={skipAnimations:!1,useManualTiming:!1};class pE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function SD(e){let t=new pE,r=new pE,n=0,a=!1,i=!1;const s=new WeakSet,o={schedule:(f,u=!1,c=!1)=>{const l=c&&a,d=l?t:r;return u&&s.add(f),d.add(f)&&l&&a&&(n=t.order.length),f},cancel:f=>{r.remove(f),s.delete(f)},process:f=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const c=t.order[u];s.has(c)&&(o.schedule(c),e()),c(f)}a=!1,i&&(i=!1,o.process(f))}};return o}const Qh=["read","resolveKeyframes","update","preRender","render","postRender"],AD=40;function j4(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Qh.reduce((l,d)=>(l[d]=SD(()=>r=!0),l),{}),s=l=>{i[l].process(a)},o=()=>{const l=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(l-a.timestamp,AD),1),a.timestamp=l,a.isProcessing=!0,Qh.forEach(s),a.isProcessing=!1,r&&t&&(n=!1,e(o))},f=()=>{r=!0,n=!0,a.isProcessing||e(o)};return{schedule:Qh.reduce((l,d)=>{const h=i[d];return l[d]=(p,m=!1,v=!1)=>(r||f(),h.schedule(p,m,v)),l},{}),cancel:l=>Qh.forEach(d=>i[d].cancel(l)),state:a,steps:i}}const{schedule:A_,cancel:Wde}=j4(queueMicrotask,!1);function wD(e,t,r,n){const{visualElement:a}=R.useContext(mm),i=R.useContext($4),s=R.useContext(vm),o=R.useContext(__).reducedMotion,f=R.useRef();n=n||i.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:a,props:r,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=f.current;R.useInsertionEffect(()=>{u&&u.update(r,s)});const c=R.useRef(!!(r[U4]&&!window.HandoffComplete));return E_(()=>{u&&(A_.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),R.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Ic(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CD(e,t,r){return R.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ic(r)&&(r.current=n))},[t])}function pd(e){return typeof e=="string"||Array.isArray(e)}function bm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const w_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C_=["initial",...w_];function gm(e){return bm(e.animate)||C_.some(t=>pd(e[t]))}function G4(e){return!!(gm(e)||e.variants)}function ID(e,t){if(gm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||pd(r)?r:void 0,animate:pd(n)?n:void 0}}return e.inherit!==!1?t:{}}function PD(e){const{initial:t,animate:r}=ID(e,R.useContext(mm));return R.useMemo(()=>({initial:t,animate:r}),[mE(t),mE(r)])}function mE(e){return Array.isArray(e)?e.join(" "):e}const vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},md={};for(const e in vE)md[e]={isEnabled:t=>vE[e].some(r=>!!t[r])};function ND(e){for(const t in e)md[t]={...md[t],...e[t]}}const I_=R.createContext({}),K4=R.createContext({}),OD=Symbol.for("motionComponentSymbol");function xD({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&ND(e);function i(o,f){let u;const c={...R.useContext(__),...o,layoutId:RD(o)},{isStatic:l}=c,d=PD(o),h=n(o,l);if(!l&&T_){d.visualElement=wD(a,h,c,t);const p=R.useContext(K4),m=R.useContext($4).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,m,e,p))}return Z.jsxs(mm.Provider,{value:d,children:[u&&d.visualElement?Z.jsx(u,{visualElement:d.visualElement,...c}):null,r(a,o,CD(h,d.visualElement,f),h,l,d.visualElement)]})}const s=R.forwardRef(i);return s[OD]=a,s}function RD({layoutId:e}){const t=R.useContext(I_).id;return t&&e!==void 0?t+"-"+e:e}function DD(e){function t(n,a={}){return xD(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const MD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P_(e){return typeof e!="string"||e.includes("-")?!1:!!(MD.indexOf(e)>-1||/[A-Z]/u.test(e))}const cp={};function LD(e){Object.assign(cp,e)}const sh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(sh);function W4(e,{layout:t,layoutId:r}){return Vu.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!cp[e]||e==="opacity")}const xn=e=>!!(e&&e.getVelocity),kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BD=sh.length;function FD(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let i="";for(let s=0;s<BD;s++){const o=sh[s];if(e[o]!==void 0){const f=kD[o]||o;i+=`${f}(${e[o]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,n?"":i):r&&n&&(i="none"),i}const q4=e=>t=>typeof t=="string"&&t.startsWith(e),V4=q4("--"),HD=q4("var(--"),N_=e=>HD(e)?$D.test(e.split("/*")[0].trim()):!1,$D=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,UD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ao=(e,t,r)=>r>t?t:r<e?e:r,Vf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zl={...Vf,transform:e=>ao(0,1,e)},Zh={...Vf,default:1},Yl=e=>Math.round(e*1e5)/1e5,O_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,jD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,GD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function oh(e){return typeof e=="string"}const uh=e=>({test:t=>oh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xs=uh("deg"),$i=uh("%"),ot=uh("px"),KD=uh("vh"),WD=uh("vw"),bE={...$i,parse:e=>$i.parse(e)/100,transform:e=>$i.transform(e*100)},gE={...Vf,transform:Math.round},z4={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:Zh,scaleX:Zh,scaleY:Zh,scaleZ:Zh,skew:xs,skewX:xs,skewY:xs,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:zl,originX:bE,originY:bE,originZ:ot,zIndex:gE,backgroundPositionX:ot,backgroundPositionY:ot,fillOpacity:zl,strokeOpacity:zl,numOctaves:gE};function x_(e,t,r,n){const{style:a,vars:i,transform:s,transformOrigin:o}=e;let f=!1,u=!1,c=!0;for(const l in t){const d=t[l];if(V4(l)){i[l]=d;continue}const h=z4[l],p=UD(d,h);if(Vu.has(l)){if(f=!0,s[l]=p,!c)continue;d!==(h.default||0)&&(c=!1)}else l.startsWith("origin")?(u=!0,o[l]=p):a[l]=p}if(t.transform||(f||n?a.transform=FD(e.transform,r,c,n):a.transform&&(a.transform="none")),u){const{originX:l="50%",originY:d="50%",originZ:h=0}=o;a.transformOrigin=`${l} ${d} ${h}`}}const R_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y4(e,t,r){for(const n in t)!xn(t[n])&&!W4(n,r)&&(e[n]=t[n])}function qD({transformTemplate:e},t,r){return R.useMemo(()=>{const n=R_();return x_(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function VD(e,t,r){const n=e.style||{},a={};return Y4(a,n,e),Object.assign(a,qD(e,t,r)),a}function zD(e,t,r){const n={},a=VD(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const YD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YD.has(e)}let X4=e=>!fp(e);function XD(e){e&&(X4=t=>t.startsWith("on")?!fp(t):e(t))}try{XD(require("@emotion/is-prop-valid").default)}catch{}function JD(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(X4(a)||r===!0&&fp(a)||!t&&!fp(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function yE(e,t,r){return typeof e=="string"?e:ot.transform(t+r*e)}function QD(e,t,r){const n=yE(t,e.x,e.width),a=yE(r,e.y,e.height);return`${n} ${a}`}const ZD={offset:"stroke-dashoffset",array:"stroke-dasharray"},eM={offset:"strokeDashoffset",array:"strokeDasharray"};function tM(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?ZD:eM;e[i.offset]=ot.transform(-n);const s=ot.transform(t),o=ot.transform(r);e[i.array]=`${s} ${o}`}function D_(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:f=0,...u},c,l,d){if(x_(e,u,c,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:m}=e;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=QD(m,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&tM(h,s,o,f,!1)}const J4=()=>({...R_(),attrs:{}}),M_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rM(e,t,r,n){const a=R.useMemo(()=>{const i=J4();return D_(i,t,{enableHardwareAcceleration:!1},M_(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Y4(i,e.style,e),a.style={...i,...a.style}}return a}function nM(e=!1){return(r,n,a,{latestValues:i},s)=>{const f=(P_(r)?rM:zD)(n,i,s,r),u=JD(n,typeof r=="string",e),c=r!==R.Fragment?{...u,...f,ref:a}:{},{children:l}=n,d=R.useMemo(()=>xn(l)?l.get():l,[l]);return R.createElement(r,{...c,children:d})}}function Q4(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Z4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e8(e,t,r,n){Q4(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Z4.has(a)?a:S_(a),t.attrs[a])}function L_(e,t,r){var n;const{style:a}=e,i={};for(const s in a)(xn(a[s])||t.style&&xn(t.style[s])||W4(s,e)||((n=r==null?void 0:r.getValue(s))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[s]=a[s]);return i}function t8(e,t,r){const n=L_(e,t,r);for(const a in e)if(xn(e[a])||xn(t[a])){const i=sh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function k_(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function r8(e){const t=R.useRef(null);return t.current===null&&(t.current=e()),t.current}const wy=e=>Array.isArray(e),aM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),iM=e=>wy(e)?e[e.length-1]||0:e;function x0(e){const t=xn(e)?e.get():e;return aM(t)?t.toValue():t}function sM({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const s={latestValues:oM(n,a,i,e),renderState:t()};return r&&(s.mount=o=>r(n,o,s)),s}const n8=e=>(t,r)=>{const n=R.useContext(mm),a=R.useContext(vm),i=()=>sM(e,t,n,a);return r?i():r8(i)};function oM(e,t,r,n){const a={},i=n(e,{});for(const d in i)a[d]=x0(i[d]);let{initial:s,animate:o}=e;const f=gm(e),u=G4(e);t&&u&&!f&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let c=r?r.initial===!1:!1;c=c||s===!1;const l=c?o:s;return l&&typeof l!="boolean"&&!bm(l)&&(Array.isArray(l)?l:[l]).forEach(h=>{const p=k_(e,h);if(!p)return;const{transitionEnd:m,transition:v,...b}=p;for(const g in b){let y=b[g];if(Array.isArray(y)){const C=c?y.length-1:0;y=y[C]}y!==null&&(a[g]=y)}for(const g in m)a[g]=m[g]}),a}const Rn=e=>e,{schedule:tn,cancel:io,state:ln,steps:pb}=j4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),uM={useVisualState:n8({scrapeMotionValuesFromProps:t8,createRenderState:J4,onMount:(e,t,{renderState:r,latestValues:n})=>{tn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),tn.render(()=>{D_(r,n,{enableHardwareAcceleration:!1},M_(t.tagName),e.transformTemplate),e8(t,r)})}})},cM={useVisualState:n8({scrapeMotionValuesFromProps:L_,createRenderState:R_})};function fM(e,{forwardMotionProps:t=!1},r,n){return{...P_(e)?uM:cM,preloadedFeatures:r,useRender:nM(t),createVisualElement:n,Component:e}}function ls(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const a8=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ym(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const lM=e=>t=>a8(t)&&e(t,ym(t));function ms(e,t,r,n){return ls(e,t,lM(r),n)}const dM=(e,t)=>r=>t(e(r)),vs=(...e)=>e.reduce(dM);function i8(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const _E=i8("dragHorizontal"),TE=i8("dragVertical");function s8(e){let t=!1;if(e==="y")t=TE();else if(e==="x")t=_E();else{const r=_E(),n=TE();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function o8(){const e=s8(!0);return e?(e(),!1):!0}class go{constructor(t){this.isMounted=!1,this.node=t}update(){}}function EE(e,t){const r=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",a=(i,s)=>{if(i.pointerType==="touch"||o8())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t);const f=o[n];f&&f(i,s)};return ms(e.current,r,a,{passive:!e.getProps()[n]})}class hM extends go{mount(){this.unmount=vs(EE(this.node,!0),EE(this.node,!1))}unmount(){}}class pM extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vs(ls(this.node.current,"focus",()=>this.onFocus()),ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const u8=(e,t)=>t?e===t?!0:u8(e,t.parentElement):!1;function mb(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,ym(r))}class mM extends go{constructor(){super(...arguments),this.removeStartListeners=Rn,this.removeEndListeners=Rn,this.removeAccessibleListeners=Rn,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=ms(window,"pointerup",(o,f)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:l}=this.node.getProps();!l&&!u8(this.node.current,o.target)?c&&c(o,f):u&&u(o,f)},{passive:!(n.onTap||n.onPointerUp)}),s=ms(window,"pointercancel",(o,f)=>this.cancelPress(o,f),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=vs(i,s),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||mb("up",(f,u)=>{const{onTap:c}=this.node.getProps();c&&c(f,u)})};this.removeEndListeners(),this.removeEndListeners=ls(this.node.current,"keyup",s),mb("down",(o,f)=>{this.startPress(o,f)})},r=ls(this.node.current,"keydown",t),n=()=>{this.isPressing&&mb("cancel",(i,s)=>this.cancelPress(i,s))},a=ls(this.node.current,"blur",n);this.removeAccessibleListeners=vs(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&n(t,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!o8()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(t,r)}mount(){const t=this.node.getProps(),r=ms(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ls(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=vs(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Cy=new WeakMap,vb=new WeakMap,vM=e=>{const t=Cy.get(e.target);t&&t(e)},bM=e=>{e.forEach(vM)};function gM({root:e,...t}){const r=e||document;vb.has(r)||vb.set(r,{});const n=vb.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(bM,{root:e,...t})),n[a]}function yM(e,t,r){const n=gM(t);return Cy.set(e,r),n.observe(e),()=>{Cy.delete(e),n.unobserve(e)}}const _M={some:0,all:1};class TM extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:_M[a]},o=f=>{const{isIntersecting:u}=f;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:l}=this.node.getProps(),d=u?c:l;d&&d(f)};return yM(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(EM(t,r))&&this.startObserver()}unmount(){}}function EM({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const SM={inView:{Feature:TM},tap:{Feature:mM},focus:{Feature:pM},hover:{Feature:hM}};function c8(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function AM(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function wM(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function _m(e,t,r){const n=e.getProps();return k_(n,t,r!==void 0?r:n.custom,AM(e),wM(e))}const Js=e=>e*1e3,bs=e=>e/1e3,CM={type:"spring",stiffness:500,damping:25,restSpeed:10},IM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PM={type:"keyframes",duration:.8},NM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OM=(e,{keyframes:t})=>t.length>2?PM:Vu.has(e)?e.startsWith("scale")?IM(t[1]):CM:NM;function xM({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:f,elapsed:u,...c}){return!!Object.keys(c).length}function B_(e,t){return e[t]||e.default||e}const RM=e=>e!==null;function Tm(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(RM),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}let R0;function DM(){R0=void 0}const Qs={now:()=>(R0===void 0&&Qs.set(ln.isProcessing||ED.useManualTiming?ln.timestamp:performance.now()),R0),set:e=>{R0=e,queueMicrotask(DM)}},f8=e=>/^0[^.\s]+$/u.test(e);function MM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||f8(e):!0}let l8=Rn;const d8=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),LM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kM(e){const t=LM.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function h8(e,t,r=1){const[n,a]=kM(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return d8(s)?parseFloat(s):s}return N_(a)?h8(a,t,r+1):a}const BM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),SE=e=>e===Vf||e===ot,AE=(e,t)=>parseFloat(e.split(", ")[t]),wE=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return AE(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?AE(i[1],e):0}},FM=new Set(["x","y","z"]),HM=sh.filter(e=>!FM.has(e));function $M(e){const t=[];return HM.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const lf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:wE(4,13),y:wE(5,14)};lf.translateX=lf.x;lf.translateY=lf.y;const p8=e=>t=>t.test(e),UM={test:e=>e==="auto",parse:e=>e},m8=[Vf,ot,$i,xs,WD,KD,UM],CE=e=>m8.find(p8(e)),_u=new Set;let Iy=!1,Py=!1;function v8(){if(Py){const e=Array.from(_u).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=$M(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Py=!1,Iy=!1,_u.forEach(e=>e.complete()),_u.clear()}function b8(){_u.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Py=!0)})}function jM(){b8(),v8()}class F_{constructor(t,r,n,a,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_u.add(this),Iy||(Iy=!0,tn.read(b8),tn.resolveKeyframes(v8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const s=a==null?void 0:a.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const f=n.readValue(r,o);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_u.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_u.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const H_=(e,t)=>r=>!!(oh(r)&&GD.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),g8=(e,t,r)=>n=>{if(!oh(n))return n;const[a,i,s,o]=n.match(O_);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},GM=e=>ao(0,255,e),bb={...Vf,transform:e=>Math.round(GM(e))},Xo={test:H_("rgb","red"),parse:g8("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+bb.transform(e)+", "+bb.transform(t)+", "+bb.transform(r)+", "+Yl(zl.transform(n))+")"};function KM(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Ny={test:H_("#"),parse:KM,transform:Xo.transform},Pc={test:H_("hsl","hue"),parse:g8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+$i.transform(Yl(t))+", "+$i.transform(Yl(r))+", "+Yl(zl.transform(n))+")"},An={test:e=>Xo.test(e)||Ny.test(e)||Pc.test(e),parse:e=>Xo.test(e)?Xo.parse(e):Pc.test(e)?Pc.parse(e):Ny.parse(e),transform:e=>oh(e)?e:e.hasOwnProperty("red")?Xo.transform(e):Pc.transform(e)};function WM(e){var t,r;return isNaN(e)&&oh(e)&&(((t=e.match(O_))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(jD))===null||r===void 0?void 0:r.length)||0)>0}const y8="number",_8="color",qM="var",VM="var(",IE="${}",zM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lp(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(zM,f=>(An.test(f)?(n.color.push(i),a.push(_8),r.push(An.parse(f))):f.startsWith(VM)?(n.var.push(i),a.push(qM),r.push(f)):(n.number.push(i),a.push(y8),r.push(parseFloat(f))),++i,IE)).split(IE);return{values:r,split:o,indexes:n,types:a}}function T8(e){return lp(e).values}function E8(e){const{split:t,types:r}=lp(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===y8?i+=Yl(a[s]):o===_8?i+=An.transform(a[s]):i+=a[s]}return i}}const YM=e=>typeof e=="number"?0:e;function XM(e){const t=T8(e);return E8(e)(t.map(YM))}const so={test:WM,parse:T8,createTransformer:E8,getAnimatableNone:XM},JM=new Set(["brightness","contrast","saturate","opacity"]);function QM(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(O_)||[];if(!n)return e;const a=r.replace(n,"");let i=JM.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const ZM=/\b([a-z-]*)\(.*?\)/gu,Oy={...so,getAnimatableNone:e=>{const t=e.match(ZM);return t?t.map(QM).join(" "):e}},eL={...z4,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:Oy,WebkitFilter:Oy},$_=e=>eL[e];function S8(e,t){let r=$_(e);return r!==Oy&&(r=so),r.getAnimatableNone?r.getAnimatableNone(t):void 0}function tL(e,t,r){let n=0,a;for(;n<e.length&&!a;)typeof e[n]=="string"&&e[n]!=="none"&&e[n]!=="0"&&(a=e[n]),n++;if(a&&r)for(const i of t)e[i]=S8(r,a)}class A8 extends F_{constructor(t,r,n,a){super(t,r,n,a,a==null?void 0:a.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){const u=t[f];if(typeof u=="string"&&N_(u)){const c=h8(u,r.current);c!==void 0&&(t[f]=c),f===t.length-1&&(this.finalKeyframe=u)}}if(!BM.has(n)||t.length!==2)return this.resolveNoneKeyframes();const[a,i]=t,s=CE(a),o=CE(i);if(s!==o)if(SE(s)&&SE(o))for(let f=0;f<t.length;f++){const u=t[f];typeof u=="string"&&(t[f]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)MM(t[a])&&n.push(a);n.length&&tL(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=a.length-1,o=a[s];a[s]=lf[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,u])=>{r.getValue(f).set(u)}),this.resolveNoneKeyframes()}}function rL(e){let t;return()=>(t===void 0&&(t=e()),t)}const PE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(so.test(e)||e==="0")&&!e.startsWith("url("));function nL(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function aL(e,t,r,n){const a=e[0];if(a===null)return!1;const i=e[e.length-1],s=PE(a,t),o=PE(i,t);return!s||!o?!1:nL(e)||r==="spring"&&n}class w8{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,...o},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jM(),this._resolved}onKeyframesResolved(t,r){this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:s,onComplete:o,onUpdate:f,isGenerator:u}=this.options;if(!u&&!aL(t,n,a,i))if(s)this.options.duration=0;else{f==null||f(Tm(t,this.options,r)),o==null||o(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,r);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...c},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function C8(e,t){return t?e*(1e3/t):0}const iL=5;function I8(e,t,r){const n=Math.max(t-iL,0);return C8(r-e(n),t-n)}const gb=.001,sL=.01,oL=10,uL=.05,cL=1;function fL({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,i,s=1-t;s=ao(uL,cL,s),e=ao(sL,oL,bs(e)),s<1?(a=u=>{const c=u*s,l=c*e,d=c-r,h=xy(u,s),p=Math.exp(-l);return gb-d/h*p},i=u=>{const l=u*s*e,d=l*r+r,h=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-l),m=xy(Math.pow(u,2),s);return(-a(u)+gb>0?-1:1)*((d-h)*p)/m}):(a=u=>{const c=Math.exp(-u*e),l=(u-r)*e+1;return-gb+c*l},i=u=>{const c=Math.exp(-u*e),l=(r-u)*(e*e);return c*l});const o=5/e,f=dL(a,i,o);if(e=Js(e),isNaN(f))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(f,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const lL=12;function dL(e,t,r){let n=r;for(let a=1;a<lL;a++)n=n-e(n)/t(n);return n}function xy(e,t){return e*Math.sqrt(1-t*t)}const hL=["duration","bounce"],pL=["stiffness","damping","mass"];function NE(e,t){return t.some(r=>e[r]!==void 0)}function mL(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!NE(e,pL)&&NE(e,hL)){const r=fL(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function P8({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],i=e[e.length-1],s={done:!1,value:a},{stiffness:o,damping:f,mass:u,duration:c,velocity:l,isResolvedFromDuration:d}=mL({...n,velocity:-bs(n.velocity||0)}),h=l||0,p=f/(2*Math.sqrt(o*u)),m=i-a,v=bs(Math.sqrt(o/u)),b=Math.abs(m)<5;r||(r=b?.01:2),t||(t=b?.005:.5);let g;if(p<1){const y=xy(v,p);g=C=>{const I=Math.exp(-p*v*C);return i-I*((h+p*v*m)/y*Math.sin(y*C)+m*Math.cos(y*C))}}else if(p===1)g=y=>i-Math.exp(-v*y)*(m+(h+v*m)*y);else{const y=v*Math.sqrt(p*p-1);g=C=>{const I=Math.exp(-p*v*C),P=Math.min(y*C,300);return i-I*((h+p*v*m)*Math.sinh(P)+y*m*Math.cosh(P))/y}}return{calculatedDuration:d&&c||null,next:y=>{const C=g(y);if(d)s.done=y>=c;else{let I=h;y!==0&&(p<1?I=I8(g,y,C):I=0);const P=Math.abs(I)<=r,O=Math.abs(i-C)<=t;s.done=P&&O}return s.value=s.done?i:C,s}}}function OE({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:f,restDelta:u=.5,restSpeed:c}){const l=e[0],d={done:!1,value:l},h=N=>o!==void 0&&N<o||f!==void 0&&N>f,p=N=>o===void 0?f:f===void 0||Math.abs(o-N)<Math.abs(f-N)?o:f;let m=r*t;const v=l+m,b=s===void 0?v:s(v);b!==v&&(m=b-l);const g=N=>-m*Math.exp(-N/n),y=N=>b+g(N),C=N=>{const S=g(N),D=y(N);d.done=Math.abs(S)<=u,d.value=d.done?b:D};let I,P;const O=N=>{h(d.value)&&(I=N,P=P8({keyframes:[d.value,p(d.value)],velocity:I8(y,N,d.value),damping:a,stiffness:i,restDelta:u,restSpeed:c}))};return O(0),{calculatedDuration:null,next:N=>{let S=!1;return!P&&I===void 0&&(S=!0,C(N),O(N)),I!==void 0&&N>=I?P.next(N-I):(!S&&C(N),d)}}}const N8=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vL=1e-7,bL=12;function gL(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=N8(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>vL&&++o<bL);return s}function ch(e,t,r,n){if(e===t&&r===n)return Rn;const a=i=>gL(i,0,1,e,r);return i=>i===0||i===1?i:N8(a(i),t,n)}const yL=ch(.42,0,1,1),_L=ch(0,0,.58,1),O8=ch(.42,0,.58,1),TL=e=>Array.isArray(e)&&typeof e[0]!="number",x8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,R8=e=>t=>1-e(1-t),U_=e=>1-Math.sin(Math.acos(e)),D8=R8(U_),EL=x8(U_),M8=ch(.33,1.53,.69,.99),j_=R8(M8),SL=x8(j_),AL=e=>(e*=2)<1?.5*j_(e):.5*(2-Math.pow(2,-10*(e-1))),wL={linear:Rn,easeIn:yL,easeInOut:O8,easeOut:_L,circIn:U_,circInOut:EL,circOut:D8,backIn:j_,backInOut:SL,backOut:M8,anticipate:AL},xE=e=>{if(Array.isArray(e)){l8(e.length===4);const[t,r,n,a]=e;return ch(t,r,n,a)}else if(typeof e=="string")return wL[e];return e},vd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},gr=(e,t,r)=>e+(t-e)*r;function yb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function CL({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,f=2*r-o;a=yb(f,o,e+1/3),i=yb(f,o,e),s=yb(f,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}const _b=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},IL=[Ny,Xo,Pc],PL=e=>IL.find(t=>t.test(e));function RE(e){const t=PL(e);let r=t.parse(e);return t===Pc&&(r=CL(r)),r}const DE=(e,t)=>{const r=RE(e),n=RE(t),a={...r};return i=>(a.red=_b(r.red,n.red,i),a.green=_b(r.green,n.green,i),a.blue=_b(r.blue,n.blue,i),a.alpha=gr(r.alpha,n.alpha,i),Xo.transform(a))};function Ry(e,t){return r=>r>0?t:e}function NL(e,t){return r=>gr(e,t,r)}function G_(e){return typeof e=="number"?NL:typeof e=="string"?N_(e)?Ry:An.test(e)?DE:RL:Array.isArray(e)?L8:typeof e=="object"?An.test(e)?DE:OL:Ry}function L8(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>G_(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function OL(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=G_(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function xL(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][a[s]],f=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=f,a[s]++}return n}const RL=(e,t)=>{const r=so.createTransformer(t),n=lp(e),a=lp(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?vs(L8(xL(n,a),a.values),r):Ry(e,t)};function k8(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?gr(e,t,r):G_(e)(e,t)}function DL(e,t,r){const n=[],a=r||k8,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const f=Array.isArray(t)?t[s]||Rn:t;o=vs(f,o)}n.push(o)}return n}function ML(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(l8(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=DL(t,n,a),o=s.length,f=u=>{let c=0;if(o>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const l=vd(e[c],e[c+1],u);return s[c](l)};return r?u=>f(ao(e[0],e[i-1],u)):f}function LL(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=vd(0,t,n);e.push(gr(r,1,a))}}function kL(e){const t=[0];return LL(t,e.length-1),t}function BL(e,t){return e.map(r=>r*t)}function FL(e,t){return e.map(()=>t||O8).splice(0,e.length-1)}function dp({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=TL(n)?n.map(xE):xE(n),i={done:!1,value:t[0]},s=BL(r&&r.length===t.length?r:kL(t),e),o=ML(s,t,{ease:Array.isArray(a)?a:FL(t,a)});return{calculatedDuration:e,next:f=>(i.value=o(f),i.done=f>=e,i)}}const ME=2e4;function HL(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ME;)t+=r,n=e.next(t);return t>=ME?1/0:t}const $L=e=>{const t=({timestamp:r})=>e(r);return{start:()=>tn.update(t,!0),stop:()=>io(t),now:()=>ln.isProcessing?ln.timestamp:Qs.now()}},UL={decay:OE,inertia:OE,tween:dp,keyframes:dp,spring:P8},jL=e=>e/100;class K_ extends w8{constructor({KeyframeResolver:t=F_,...r}){super(r),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:a,keyframes:i}=this.options,s=(o,f)=>this.onKeyframesResolved(o,f);n&&a&&a.owner?this.resolver=a.owner.resolveKeyframes(i,s,n,a):this.resolver=new t(i,s,n,a),this.resolver.scheduleResolve()}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=this.options,o=UL[r]||dp;let f,u;o!==dp&&typeof t[0]!="number"&&(f=vs(jL,k8(t[0],t[1])),t=[0,100]);const c=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=HL(c));const{calculatedDuration:l}=c,d=l+a,h=d*(n+1)-a;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:f,calculatedDuration:l,resolvedDuration:d,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:f,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(this.startTime===null)return i.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-d*(this.speed>=0?1:-1),g=this.speed>=0?b<0:b>c;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let y=this.currentTime,C=i;if(h){const N=Math.min(this.currentTime,c)/l;let S=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&S--,S=Math.min(S,h+1),!!(S%2)&&(p==="reverse"?(D=1-D,m&&(D-=m/l)):p==="mirror"&&(C=s)),y=ao(0,1,D)*l}const I=g?{done:!1,value:f[0]}:C.next(y);o&&(I.value=o(I.value));let{done:P}=I;!g&&u!==null&&(P=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return O&&a!==void 0&&(I.value=Tm(f,this.options,a)),v&&v(I.value),O&&this.finish(),I}get duration(){const{resolved:t}=this;return t?bs(t.calculatedDuration):0}get time(){return bs(this.currentTime)}set time(t){t=Js(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=$L,onPlay:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=n),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const B8=e=>Array.isArray(e)&&typeof e[0]=="number";function F8(e){return!!(!e||typeof e=="string"&&e in W_||B8(e)||Array.isArray(e)&&e.every(F8))}const jl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,W_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jl([0,.65,.55,1]),circOut:jl([.55,0,1,.45]),backIn:jl([.31,.01,.66,-.59]),backOut:jl([.33,1.53,.69,.99])};function GL(e){return H8(e)||W_.easeOut}function H8(e){if(e)return B8(e)?jl(e):Array.isArray(e)?e.map(GL):W_[e]}function KL(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o,times:f}={}){const u={[t]:r};f&&(u.offset=f);const c=H8(o);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:n,duration:a,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}const WL=rL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qL=new Set(["opacity","clipPath","filter","transform"]),hp=10,VL=2e4;function zL(e){return e.type==="spring"||e.name==="backgroundColor"||!F8(e.ease)}function YL(e,t){const r=new K_({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<VL;)n=r.sample(i),a.push(n.value),i+=hp;return{times:void 0,keyframes:a,duration:i-hp,ease:"linear"}}class LE extends w8{constructor(t){super(t);const{name:r,motionValue:n,keyframes:a}=this.options;this.resolver=new A8(a,(i,s)=>this.onKeyframesResolved(i,s),r,n),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:a=300,times:i,ease:s,type:o,motionValue:f,name:u}=this.options;if(!(!((n=f.owner)===null||n===void 0)&&n.current))return!1;if(zL(this.options)){const{onComplete:l,onUpdate:d,motionValue:h,...p}=this.options,m=YL(t,p);t=m.keyframes,t.length===1&&(t[1]=t[0]),a=m.duration,i=m.times,s=m.ease,o="keyframes"}const c=KL(f.owner.current,u,t,{...this.options,duration:a,times:i,ease:s});return c.startTime=Qs.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:l}=this.options;f.set(Tm(t,this.options,r)),l&&l(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:a,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return bs(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return bs(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Js(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Rn;const{animation:n}=r;n.timeline=t,n.onfinish=null}return Rn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:s,times:o}=t;if(!(r.playState==="idle"||r.playState==="finished")){if(this.time){const{motionValue:f,onUpdate:u,onComplete:c,...l}=this.options,d=new K_({...l,keyframes:n,duration:a,type:i,ease:s,times:o,isGenerator:!0}),h=Js(this.time);f.setWithVelocity(d.sample(h-hp).value,d.sample(h).value,hp)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:s,type:o}=t;return WL()&&n&&qL.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&s!==0&&o!=="inertia"}}const q_=(e,t,r,n={},a,i)=>s=>{const o=B_(n,e)||{},f=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Js(f);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:d=>{t.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};xM(o)||(c={...c,...OM(e,c)}),c.duration&&(c.duration=Js(c.duration)),c.repeatDelay&&(c.repeatDelay=Js(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let l=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(l=!0)),l&&!i&&t.get()!==void 0){const d=Tm(c.keyframes,o);if(d!==void 0){tn.update(()=>{c.onUpdate(d),c.onComplete()});return}}return!i&&LE.supports(c)?new LE(c):new K_(c)};function pp(e){return!!(xn(e)&&e.add)}function V_(e,t){e.indexOf(t)===-1&&e.push(t)}function z_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Y_{constructor(){this.subscriptions=[]}add(t){return V_(this.subscriptions,t),()=>z_(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kE=30,XL=e=>!isNaN(parseFloat(e));class JL{constructor(t,r={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=Qs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=XL(this.current),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Qs.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Y_);const n=this.events[t].add(r);return t==="change"?()=>{n(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,kE);return C8(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(e,t){return new JL(e,t)}function QL(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,bd(r))}function ZL(e,t){const r=_m(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=iM(i[s]);QL(e,s,o)}}function ek({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function $8(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...f}=t;const u=e.getValue("willChange");n&&(s=n);const c=[],l=a&&e.animationState&&e.animationState.getState()[a];for(const d in f){const h=e.getValue(d,(i=e.latestValues[d])!==null&&i!==void 0?i:null),p=f[d];if(p===void 0||l&&ek(l,d))continue;const m={delay:r,elapsed:0,...B_(s||{},d)};let v=!1;if(window.HandoffAppearAnimations){const y=e.getProps()[U4];if(y){const C=window.HandoffAppearAnimations(y,d);C!==null&&(m.elapsed=C,v=!0)}}h.start(q_(d,h,p,e.shouldReduceMotion&&Vu.has(d)?{type:!1}:m,e,v));const b=h.animation;b&&(pp(u)&&(u.add(d),b.then(()=>u.remove(d))),c.push(b))}return o&&Promise.all(c).then(()=>{tn.update(()=>{o&&ZL(e,o)})}),c}function Dy(e,t,r={}){var n;const a=_m(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const s=a?()=>Promise.all($8(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:l,staggerDirection:d}=i;return tk(e,t,c+u,l,d,r)}:()=>Promise.resolve(),{when:f}=i;if(f){const[u,c]=f==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(r.delay)])}function tk(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,f=a===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(rk).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(Dy(u,t,{...i,delay:r+f(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function rk(e,t){return e.sortNodePosition(t)}function nk(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>Dy(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=Dy(e,t,r);else{const a=typeof t=="function"?_m(e,t,r.custom):t;n=Promise.all($8(e,a,r))}return n.then(()=>{tn.postRender(()=>{e.notify("AnimationComplete",t)})})}const ak=[...w_].reverse(),ik=w_.length;function sk(e){return t=>Promise.all(t.map(({animation:r,options:n})=>nk(e,r,n)))}function ok(e){let t=sk(e);const r=ck();let n=!0;const a=f=>(u,c)=>{var l;const d=_m(e,c,f==="exit"?(l=e.presenceContext)===null||l===void 0?void 0:l.custom:void 0);if(d){const{transition:h,transitionEnd:p,...m}=d;u={...u,...m,...p}}return u};function i(f){t=f(e)}function s(f){const u=e.getProps(),c=e.getVariantContext(!0)||{},l=[],d=new Set;let h={},p=1/0;for(let v=0;v<ik;v++){const b=ak[v],g=r[b],y=u[b]!==void 0?u[b]:c[b],C=pd(y),I=b===f?g.isActive:null;I===!1&&(p=v);let P=y===c[b]&&y!==u[b]&&C;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...h},!g.isActive&&I===null||!y&&!g.prevProp||bm(y)||typeof y=="boolean")continue;let N=uk(g.prevProp,y)||b===f&&g.isActive&&!P&&C||v>p&&C,S=!1;const D=Array.isArray(y)?y:[y];let w=D.reduce(a(b),{});I===!1&&(w={});const{prevResolvedValues:T={}}=g,x={...T,...w},_=M=>{N=!0,d.has(M)&&(S=!0,d.delete(M)),g.needsAnimating[M]=!0;const L=e.getValue(M);L&&(L.liveStyle=!1)};for(const M in x){const L=w[M],F=T[M];if(h.hasOwnProperty(M))continue;let G=!1;wy(L)&&wy(F)?G=!c8(L,F):G=L!==F,G?L!=null?_(M):d.add(M):L!==void 0&&d.has(M)?_(M):g.protectedKeys[M]=!0}g.prevProp=y,g.prevResolvedValues=w,g.isActive&&(h={...h,...w}),n&&e.blockInitialAnimation&&(N=!1),N&&(!P||S)&&l.push(...D.map(M=>({animation:M,options:{type:b}})))}if(d.size){const v={};d.forEach(b=>{const g=e.getBaseTarget(b),y=e.getValue(b);y&&(y.liveStyle=!0),v[b]=g??null}),l.push({animation:v})}let m=!!l.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(l):Promise.resolve()}function o(f,u){var c;if(r[f].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(f,u)}),r[f].isActive=u;const l=s(f);for(const d in r)r[d].protectedKeys={};return l}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r}}function uk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!c8(t,e):!1}function Po(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ck(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class fk extends go{constructor(t){super(t),t.animationState||(t.animationState=ok(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),bm(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let lk=0;class dk extends go{constructor(){super(...arguments),this.id=lk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hk={animation:{Feature:fk},exit:{Feature:dk}},BE=(e,t)=>Math.abs(e-t);function pk(e,t){const r=BE(e.x,t.x),n=BE(e.y,t.y);return Math.sqrt(r**2+n**2)}class U8{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=Eb(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=pk(l.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=l,{timestamp:m}=ln;this.history.push({...p,timestamp:m});const{onStart:v,onMove:b}=this.handlers;d||(v&&v(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,l)},this.handlePointerMove=(l,d)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=Tb(d,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(l,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Eb(l.type==="pointercancel"?this.lastMoveEventInfo:Tb(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(l,v),p&&p(l,v)},!a8(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=ym(t),o=Tb(s,this.transformPagePoint),{point:f}=o,{timestamp:u}=ln;this.history=[{...f,timestamp:u}];const{onSessionStart:c}=r;c&&c(t,Eb(o,this.history)),this.removeListeners=vs(ms(this.contextWindow,"pointermove",this.handlePointerMove),ms(this.contextWindow,"pointerup",this.handlePointerUp),ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),io(this.updatePoint)}}function Tb(e,t){return t?{point:t(e.point)}:e}function FE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Eb({point:e},t){return{point:e,delta:FE(e,j8(t)),offset:FE(e,mk(t)),velocity:vk(t,.1)}}function mk(e){return e[0]}function j8(e){return e[e.length-1]}function vk(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=j8(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Js(t)));)r--;if(!n)return{x:0,y:0};const i=bs(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function La(e){return e.max-e.min}function My(e,t=0,r=.01){return Math.abs(e-t)<=r}function HE(e,t,r,n=.5){e.origin=n,e.originPoint=gr(t.min,t.max,e.origin),e.scale=La(r)/La(t),(My(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gr(r.min,r.max,e.origin)-e.originPoint,(My(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xl(e,t,r,n){HE(e.x,t.x,r.x,n?n.originX:void 0),HE(e.y,t.y,r.y,n?n.originY:void 0)}function $E(e,t,r){e.min=r.min+t.min,e.max=e.min+La(t)}function bk(e,t,r){$E(e.x,t.x,r.x),$E(e.y,t.y,r.y)}function UE(e,t,r){e.min=t.min-r.min,e.max=e.min+La(t)}function Jl(e,t,r){UE(e.x,t.x,r.x),UE(e.y,t.y,r.y)}function gk(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?gr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?gr(r,e,n.max):Math.min(e,r)),e}function jE(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function yk(e,{top:t,left:r,bottom:n,right:a}){return{x:jE(e.x,r,a),y:jE(e.y,t,n)}}function GE(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function _k(e,t){return{x:GE(e.x,t.x),y:GE(e.y,t.y)}}function Tk(e,t){let r=.5;const n=La(e),a=La(t);return a>n?r=vd(t.min,t.max-n,e.min):n>a&&(r=vd(e.min,e.max-a,t.min)),ao(0,1,r)}function Ek(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ly=.35;function Sk(e=Ly){return e===!1?e=0:e===!0&&(e=Ly),{x:KE(e,"left","right"),y:KE(e,"top","bottom")}}function KE(e,t,r){return{min:WE(e,t),max:WE(e,r)}}function WE(e,t){return typeof e=="number"?e:e[t]||0}const qE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nc=()=>({x:qE(),y:qE()}),VE=()=>({min:0,max:0}),Nr=()=>({x:VE(),y:VE()});function Ga(e){return[e("x"),e("y")]}function G8({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Ak({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wk(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Sb(e){return e===void 0||e===1}function ky({scale:e,scaleX:t,scaleY:r}){return!Sb(e)||!Sb(t)||!Sb(r)}function Mo(e){return ky(e)||K8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function K8(e){return zE(e.x)||zE(e.y)}function zE(e){return e&&e!=="0%"}function mp(e,t,r){const n=e-r,a=t*n;return r+a}function YE(e,t,r,n,a){return a!==void 0&&(e=mp(e,a,n)),mp(e,r,n)+t}function By(e,t=0,r=1,n,a){e.min=YE(e.min,t,r,n,a),e.max=YE(e.max,t,r,n,a)}function W8(e,{x:t,y:r}){By(e.x,t.translate,t.scale,t.originPoint),By(e.y,r.translate,r.scale,r.originPoint)}function Ck(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const f=i.instance;f&&f.style&&f.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Oc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,W8(e,s)),n&&Mo(i.latestValues)&&Oc(e,i.latestValues))}t.x=XE(t.x),t.y=XE(t.y)}function XE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fs(e,t){e.min=e.min+t,e.max=e.max+t}function JE(e,t,[r,n,a]){const i=t[a]!==void 0?t[a]:.5,s=gr(e.min,e.max,i);By(e,t[r],t[n],s,t.scale)}const Ik=["x","scaleX","originX"],Pk=["y","scaleY","originY"];function Oc(e,t){JE(e.x,t,Ik),JE(e.y,t,Pk)}function q8(e,t){return G8(wk(e.getBoundingClientRect(),t))}function Nk(e,t,r){const n=q8(e,r),{scroll:a}=t;return a&&(Fs(n.x,a.offset.x),Fs(n.y,a.offset.y)),n}const V8=({current:e})=>e?e.ownerDocument.defaultView:null,Ok=new WeakMap;class xk{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=c=>{const{dragSnapToOrigin:l}=this.getProps();l?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ym(c,"page").point)},i=(c,l)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=s8(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ga(v=>{let b=this.getAxisMotionValue(v).get()||0;if($i.test(b)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[v];y&&(b=La(y)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&p(c,l);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,l)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=l;if(h&&this.currentDirection===null){this.currentDirection=Rk(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",l.point,v),this.updateAxis("y",l.point,v),this.visualElement.render(),m&&m(c,l)},o=(c,l)=>this.stop(c,l),f=()=>Ga(c=>{var l;return this.getAnimationState(c)==="paused"&&((l=this.getAxisMotionValue(c).animation)===null||l===void 0?void 0:l.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new U8(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:V8(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&i(t,r)}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!e0(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=gk(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ic(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=yk(a.layoutBox,r):this.constraints=!1,this.elastic=Sk(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ga(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Ek(a.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ic(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Nk(n,a.root,this.visualElement.getTransformPagePoint());let s=_k(a.layout.layoutBox,i);if(r){const o=r(Ak(s));this.hasMutatedConstraints=!!o,o&&(s=G8(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),f=this.constraints||{},u=Ga(c=>{if(!e0(c,r,this.currentDirection))return;let l=f&&f[c]||{};s&&(l={min:0,max:0});const d=a?200:1e6,h=a?40:1e7,p={type:"inertia",velocity:n?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(q_(t,n,0,r,this.visualElement))}stopAnimation(){Ga(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ga(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ga(r=>{const{drag:n}=this.getProps();if(!e0(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-gr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ic(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ga(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const f=o.get();a[s]=Tk({min:f,max:f},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ga(s=>{if(!e0(s,t,null))return;const o=this.getAxisMotionValue(s),{min:f,max:u}=this.constraints[s];o.set(gr(f,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;Ok.set(this.visualElement,this);const t=this.visualElement.current,r=ms(t,"pointerdown",f=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Ic(f)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const s=ls(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ga(c=>{const l=this.getAxisMotionValue(c);l&&(this.originPoint[c]+=f[c].translate,l.set(l.get()+f[c].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=Ly,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function e0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Rk(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Dk extends go{constructor(t){super(t),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new xk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const QE=e=>(t,r)=>{e&&e(t,r)};class Mk extends go{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(t){this.session=new U8(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V8(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:QE(t),onStart:QE(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&a(i,s)}}}mount(){this.removePointerDownListener=ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lk(){const e=R.useContext(vm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=R.useId();return R.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const D0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const El={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ot.test(e))e=parseFloat(e);else return e;const r=ZE(e,t.target.x),n=ZE(e,t.target.y);return`${r}% ${n}%`}},kk={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=so.parse(e);if(a.length>5)return n;const i=so.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,f=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=f;const u=gr(o,f,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}};class Bk extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;LD(Fk),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),D0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,s=n.projection;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||tn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),A_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function z8(e){const[t,r]=Lk(),n=R.useContext(I_);return Z.jsx(Bk,{...e,layoutGroup:n,switchLayoutGroup:R.useContext(K4),isPresent:t,safeToRemove:r})}const Fk={borderRadius:{...El,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:El,borderTopRightRadius:El,borderBottomLeftRadius:El,borderBottomRightRadius:El,boxShadow:kk},Y8=["TopLeft","TopRight","BottomLeft","BottomRight"],Hk=Y8.length,eS=e=>typeof e=="string"?parseFloat(e):e,tS=e=>typeof e=="number"||ot.test(e);function $k(e,t,r,n,a,i){a?(e.opacity=gr(0,r.opacity!==void 0?r.opacity:1,Uk(n)),e.opacityExit=gr(t.opacity!==void 0?t.opacity:1,0,jk(n))):i&&(e.opacity=gr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let s=0;s<Hk;s++){const o=`border${Y8[s]}Radius`;let f=rS(t,o),u=rS(r,o);if(f===void 0&&u===void 0)continue;f||(f=0),u||(u=0),f===0||u===0||tS(f)===tS(u)?(e[o]=Math.max(gr(eS(f),eS(u),n),0),($i.test(u)||$i.test(f))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=gr(t.rotate||0,r.rotate||0,n))}function rS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Uk=X8(0,.5,D8),jk=X8(.5,.95,Rn);function X8(e,t,r){return n=>n<e?0:n>t?1:r(vd(e,t,n))}function nS(e,t){e.min=t.min,e.max=t.max}function Ua(e,t){nS(e.x,t.x),nS(e.y,t.y)}function aS(e,t,r,n,a){return e-=t,e=mp(e,1/r,n),a!==void 0&&(e=mp(e,1/a,n)),e}function Gk(e,t=0,r=1,n=.5,a,i=e,s=e){if($i.test(t)&&(t=parseFloat(t),t=gr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=gr(i.min,i.max,n);e===i&&(o-=t),e.min=aS(e.min,t,r,o,a),e.max=aS(e.max,t,r,o,a)}function iS(e,t,[r,n,a],i,s){Gk(e,t[r],t[n],t[a],t.scale,i,s)}const Kk=["x","scaleX","originX"],Wk=["y","scaleY","originY"];function sS(e,t,r,n){iS(e.x,t,Kk,r?r.x:void 0,n?n.x:void 0),iS(e.y,t,Wk,r?r.y:void 0,n?n.y:void 0)}function oS(e){return e.translate===0&&e.scale===1}function J8(e){return oS(e.x)&&oS(e.y)}function qk(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Q8(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function uS(e){return La(e.x)/La(e.y)}class Vk{constructor(){this.members=[]}add(t){V_(this.members,t),t.scheduleRender()}remove(t){if(z_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cS(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:l,rotateY:d,skewX:h,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),l&&(n+=`rotateX(${l}deg) `),d&&(n+=`rotateY(${d}deg) `),h&&(n+=`skewX(${h}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,f=e.y.scale*t.y;return(o!==1||f!==1)&&(n+=`scale(${o}, ${f})`),n||"none"}const zk=(e,t)=>e.depth-t.depth;class Yk{constructor(){this.children=[],this.isDirty=!1}add(t){V_(this.children,t),this.isDirty=!0}remove(t){z_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zk),this.isDirty=!1,this.children.forEach(t)}}function Xk(e,t){const r=Qs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(io(n),e(i-t))};return tn.read(n,!0),()=>io(n)}function Jk(e){window.MotionDebug&&window.MotionDebug.record(e)}function Qk(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Zk(e,t,r){const n=xn(e)?e:bd(e);return n.start(q_("",n,t,r)),n.animation}const Ab=["","X","Y","Z"],eB={visibility:"hidden"},fS=1e3;let tB=0;const Lo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function wb(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Z8({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=tB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lo.totalNodes=Lo.resolvedTargetDeltas=Lo.recalculatedProjection=0,this.nodes.forEach(aB),this.nodes.forEach(cB),this.nodes.forEach(fB),this.nodes.forEach(iB),Jk(Lo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yk)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Y_),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const f=this.eventHandlers.get(s);f&&f.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qk(s),this.instance=s;const{layoutId:f,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||f)&&(this.isLayoutDirty=!0),e){let l;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,l&&l(),l=Xk(d,250),D0.hasAnimatedSinceResize&&(D0.hasAnimatedSinceResize=!1,this.nodes.forEach(dS))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&c&&(f||u)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||mB,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=c.getProps(),g=!this.targetLayout||!Q8(this.targetLayout,p)||h,y=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(l,y);const C={...B_(m,"layout"),onPlay:v,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else d||dS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lB),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const l=this.path[c];l.shouldResetTransform=!0,l.updateScroll("snapshot"),l.options.layoutRoot&&l.willUpdate(!1)}const{layoutId:o,layout:f}=this.options;if(o===void 0&&!f)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lS);return}this.isUpdating||this.nodes.forEach(oB),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(uB),this.nodes.forEach(rB),this.nodes.forEach(nB),this.clearAllSnapshots();const o=Qs.now();ln.delta=ao(0,1e3/60,o-ln.timestamp),ln.timestamp=o,ln.isProcessing=!0,pb.update.process(ln),pb.preRender.process(ln),pb.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A_.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(sB),this.sharedNodes.forEach(dB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!J8(this.projectionDelta),f=this.getTransformTemplate(),u=f?f(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(o||Mo(this.latestValues)||c)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let f=this.removeElementScroll(o);return s&&(f=this.removeTransform(f)),vB(f),{animationId:this.root.animationId,measuredBox:o,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Nr();const o=s.measureViewportBox(),{scroll:f}=this.root;return f&&(Fs(o.x,f.offset.x),Fs(o.y,f.offset.y)),o}removeElementScroll(s){const o=Nr();Ua(o,s);for(let f=0;f<this.path.length;f++){const u=this.path[f],{scroll:c,options:l}=u;if(u!==this.root&&c&&l.layoutScroll){if(c.isRoot){Ua(o,s);const{scroll:d}=this.root;d&&(Fs(o.x,-d.offset.x),Fs(o.y,-d.offset.y))}Fs(o.x,c.offset.x),Fs(o.y,c.offset.y)}}return o}applyTransform(s,o=!1){const f=Nr();Ua(f,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Oc(f,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Mo(c.latestValues)&&Oc(f,c.latestValues)}return Mo(this.latestValues)&&Oc(f,this.latestValues),f}removeTransform(s){const o=Nr();Ua(o,s);for(let f=0;f<this.path.length;f++){const u=this.path[f];if(!u.instance||!Mo(u.latestValues))continue;ky(u.latestValues)&&u.updateSnapshot();const c=Nr(),l=u.measurePageBox();Ua(c,l),sS(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Mo(this.latestValues)&&sS(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==f;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:l,layoutId:d}=this.options;if(!(!this.layout||!(l||d))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nr(),this.targetWithTransforms=Nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ua(this.target,this.layout.layoutBox),W8(this.target,this.targetDelta)):Ua(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),Jl(this.relativeTargetOrigin,this.target,h.target),Ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ky(this.parent.latestValues)||K8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),f=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(u=!1),u)return;const{layout:c,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||l))return;Ua(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Ck(this.layoutCorrected,this.treeScale,this.path,f),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Nr());const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=Nc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Nc(),this.projectionDeltaWithTransform=Nc());const m=this.projectionTransform;Xl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=cS(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Lo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const f=this.snapshot,u=f?f.latestValues:{},c={...this.latestValues},l=Nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Nr(),h=f?f.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,v=this.getStack(),b=!v||v.members.length<=1,g=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(pB));this.animationProgress=0;let y;this.mixTargetDelta=C=>{const I=C/1e3;hS(l.x,s.x,I),hS(l.y,s.y,I),this.setTargetDelta(l),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hB(this.relativeTarget,this.relativeTargetOrigin,d,I),y&&qk(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Nr()),Ua(y,this.relativeTarget)),m&&(this.animationValues=c,$k(c,u,this.latestValues,I,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{D0.hasAnimatedSinceResize=!0,this.currentAnimation=Zk(0,fS,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:f,layout:u,latestValues:c}=s;if(!(!o||!f||!u)){if(this!==s&&this.layout&&u&&eC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){f=this.target||Nr();const l=La(this.layout.layoutBox.x);f.x.min=s.target.x.min,f.x.max=f.x.min+l;const d=La(this.layout.layoutBox.y);f.y.min=s.target.y.min,f.y.max=f.y.min+d}Ua(o,f),Oc(o,c),Xl(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Vk),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:f}={}){const u=this.getStack();u&&u.promote(this,f),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:f}=s;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(o=!0),!o)return;const u={};f.z&&wb("z",s,u,this.animationValues);for(let c=0;c<Ab.length;c++)wb(`rotate${Ab[c]}`,s,u,this.animationValues),wb(`skew${Ab[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var o,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eB;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=x0(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=x0(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=l.animationValues||l.latestValues;this.applyTransformsToTarget(),u.transform=cS(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:p}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,l.animationValues?u.opacity=l===this?(f=(o=d.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=l===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in cp){if(d[m]===void 0)continue;const{correct:v,applyTo:b}=cp[m],g=u.transform==="none"?d[m]:v(d[m],l);if(b){const y=b.length;for(let C=0;C<y;C++)u[b[C]]=g}else u[m]=g}return this.options.layoutId&&(u.pointerEvents=l===this?x0(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(lS),this.root.sharedNodes.clear()}}}function rB(e){e.updateLayout()}function nB(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=r.source!==e.layout.source;i==="size"?Ga(l=>{const d=s?r.measuredBox[l]:r.layoutBox[l],h=La(d);d.min=n[l].min,d.max=d.min+h}):eC(i,r.layoutBox,n)&&Ga(l=>{const d=s?r.measuredBox[l]:r.layoutBox[l],h=La(n[l]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[l].max=e.relativeTarget[l].min+h)});const o=Nc();Xl(o,n,r.layoutBox);const f=Nc();s?Xl(f,e.applyTransform(a,!0),r.measuredBox):Xl(f,n,r.layoutBox);const u=!J8(o);let c=!1;if(!e.resumeFrom){const l=e.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:d,layout:h}=l;if(d&&h){const p=Nr();Jl(p,r.layoutBox,d.layoutBox);const m=Nr();Jl(m,n,h.layoutBox),Q8(p,m)||(c=!0),l.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=l)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:f,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function aB(e){Lo.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sB(e){e.clearSnapshot()}function lS(e){e.clearMeasurements()}function oB(e){e.isLayoutDirty=!1}function uB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function dS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cB(e){e.resolveTargetDelta()}function fB(e){e.calcProjection()}function lB(e){e.resetSkewAndRotation()}function dB(e){e.removeLeadSnapshot()}function hS(e,t,r){e.translate=gr(t.translate,0,r),e.scale=gr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function pS(e,t,r,n){e.min=gr(t.min,r.min,n),e.max=gr(t.max,r.max,n)}function hB(e,t,r,n){pS(e.x,t.x,r.x,n),pS(e.y,t.y,r.y,n)}function pB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mB={duration:.45,ease:[.4,0,.1,1]},mS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vS=mS("applewebkit/")&&!mS("chrome/")?Math.round:Rn;function bS(e){e.min=vS(e.min),e.max=vS(e.max)}function vB(e){bS(e.x),bS(e.y)}function eC(e,t,r){return e==="position"||e==="preserve-aspect"&&!My(uS(t),uS(r),.2)}const bB=Z8({attachResizeListener:(e,t)=>ls(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cb={current:void 0},tC=Z8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cb.current){const e=new bB({});e.mount(window),e.setOptions({layoutScroll:!0}),Cb.current=e}return Cb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gB={pan:{Feature:Mk},drag:{Feature:Dk,ProjectionNode:tC,MeasureLayout:z8}},Fy={current:null},rC={current:!1};function yB(){if(rC.current=!0,!!T_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fy.current=e.matches;e.addListener(t),t()}else Fy.current=!1}function _B(e,t,r){const{willChange:n}=t;for(const a in t){const i=t[a],s=r[a];if(xn(i))e.addValue(a,i),pp(n)&&n.add(a);else if(xn(s))e.addValue(a,bd(i,{owner:e})),pp(n)&&n.remove(a);else if(s!==i)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(a);e.addValue(a,bd(o!==void 0?o:i,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const gS=new WeakMap,TB=[...m8,An,so],EB=e=>TB.find(p8(e)),nC=Object.keys(md),SB=nC.length,yS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],AB=C_.length;function aC(e){if(e)return e.options.allowProjection!==!1?e.projection:aC(e.parent)}class wB{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.resolveKeyframes=(d,h,p,m)=>new this.KeyframeResolver(d,h,p,m,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tn.render(this.render,!1,!0);const{latestValues:f,renderState:u}=s;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=gm(r),this.isVariantNode=G4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...l}=this.scrapeMotionValuesFromProps(r,{},this);for(const d in l){const h=l[d];f[d]!==void 0&&xn(h)&&(h.set(f[d],!1),pp(c)&&c.add(d))}}mount(t){this.current=t,gS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),rC.current||yB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var t;gS.delete(this.current),this.projection&&this.projection.unmount(),io(this.notifyUpdate),io(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)(t=this.features[r])===null||t===void 0||t.unmount();this.current=null}bindToMotionValue(t,r){const n=Vu.has(t),a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&tn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,i){let s,o;for(let f=0;f<SB;f++){const u=nC[f],{isEnabled:c,Feature:l,ProjectionNode:d,MeasureLayout:h}=md[u];d&&(s=d),c(r)&&(!this.features[u]&&l&&(this.features[u]=new l(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,aC(this.parent));const{layoutId:f,layout:u,drag:c,dragConstraints:l,layoutScroll:d,layoutRoot:h}=r;this.projection.setOptions({layoutId:f,layout:u,alwaysMeasureLayout:!!c||l&&Ic(l),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:h})}return o}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<yS.length;n++){const a=yS[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=_B(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<AB;n++){const a=C_[n],i=this.props[a];(pd(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=bd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(d8(a)||f8(a))?a=parseFloat(a):!EB(a)&&so.test(r)&&(a=S8(t,r)),this.setBaseTarget(t,xn(a)?a.get():a)),xn(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const s=k_(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);s&&(a=s[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xn(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Y_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class iC extends wB{constructor(){super(...arguments),this.KeyframeResolver=A8}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}}function CB(e){return window.getComputedStyle(e)}class IB extends iC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Vu.has(r)){const n=$_(r);return n&&n.default||0}else{const n=CB(t),a=(V4(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return q8(t,r)}build(t,r,n,a){x_(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return L_(t,r,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){Q4(t,r,n,a)}}class PB extends iC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vu.has(r)){const n=$_(r);return n&&n.default||0}return r=Z4.has(r)?r:S_(r),t.getAttribute(r)}measureInstanceViewportBox(){return Nr()}scrapeMotionValuesFromProps(t,r,n){return t8(t,r,n)}build(t,r,n,a){D_(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){e8(t,r,n,a)}mount(t){this.isSVGTag=M_(t.tagName),super.mount(t)}}const NB=(e,t)=>P_(e)?new PB(t,{enableHardwareAcceleration:!1}):new IB(t,{allowProjection:e!==R.Fragment,enableHardwareAcceleration:!0}),OB={layout:{ProjectionNode:tC,MeasureLayout:z8}},xB={...hk,...SM,...gB,...OB},sC=DD((e,t)=>fM(e,t,xB,NB));function oC(){const e=R.useRef(!1);return E_(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function RB(){const e=oC(),[t,r]=R.useState(0),n=R.useCallback(()=>{e.current&&r(t+1)},[t]);return[R.useCallback(()=>tn.postRender(n),[n]),t]}class DB extends R.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MB({children:e,isPresent:t}){const r=R.useId(),n=R.useRef(null),a=R.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=R.useContext(__);return R.useInsertionEffect(()=>{const{width:s,height:o,top:f,left:u}=a.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const c=document.createElement("style");return i&&(c.nonce=i),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${f}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),Z.jsx(DB,{isPresent:t,childRef:n,sizeRef:a,children:R.cloneElement(e,{ref:n})})}const Ib=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s})=>{const o=r8(LB),f=R.useId(),u=R.useMemo(()=>({id:f,initial:t,isPresent:r,custom:a,onExitComplete:c=>{o.set(c,!0);for(const l of o.values())if(!l)return;n&&n()},register:c=>(o.set(c,!1),()=>o.delete(c))}),i?[Math.random()]:[r]);return R.useMemo(()=>{o.forEach((c,l)=>o.set(l,!1))},[r]),R.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),s==="popLayout"&&(e=Z.jsx(MB,{isPresent:r,children:e})),Z.jsx(vm.Provider,{value:u,children:e})};function LB(){return new Map}function kB(e){return R.useEffect(()=>()=>e(),[])}const ko=e=>e.key||"";function BB(e,t){e.forEach(r=>{const n=ko(r);t.set(n,r)})}function FB(e){const t=[];return R.Children.forEach(e,r=>{R.isValidElement(r)&&t.push(r)}),t}const HB=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const o=R.useContext(I_).forceRender||RB()[0],f=oC(),u=FB(e);let c=u;const l=R.useRef(new Map).current,d=R.useRef(c),h=R.useRef(new Map).current,p=R.useRef(!0);if(E_(()=>{p.current=!1,BB(u,h),d.current=c}),kB(()=>{p.current=!0,h.clear(),l.clear()}),p.current)return Z.jsx(Z.Fragment,{children:c.map(g=>Z.jsx(Ib,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:s,children:g},ko(g)))});c=[...c];const m=d.current.map(ko),v=u.map(ko),b=m.length;for(let g=0;g<b;g++){const y=m[g];v.indexOf(y)===-1&&!l.has(y)&&l.set(y,void 0)}return s==="wait"&&l.size&&(c=[]),l.forEach((g,y)=>{if(v.indexOf(y)!==-1)return;const C=h.get(y);if(!C)return;const I=m.indexOf(y);let P=g;if(!P){const O=()=>{l.delete(y);const N=Array.from(h.keys()).filter(S=>!v.includes(S));if(N.forEach(S=>h.delete(S)),d.current=u.filter(S=>{const D=ko(S);return D===y||N.includes(D)}),!l.size){if(f.current===!1)return;o(),n&&n()}};P=Z.jsx(Ib,{isPresent:!1,onExitComplete:O,custom:t,presenceAffectsLayout:i,mode:s,children:C},ko(C)),l.set(y,P)}c.splice(I,0,P)}),c=c.map(g=>{const y=g.key;return l.has(y)?g:Z.jsx(Ib,{isPresent:!0,presenceAffectsLayout:i,mode:s,children:g},ko(g))}),Z.jsx(Z.Fragment,{children:l.size?c:c.map(g=>R.cloneElement(g))})};function _S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Em(e,t,r){return t&&_S(e.prototype,t),r&&_S(e,r),e}function Ma(){return Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(this,arguments)}function $B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Hy(e,t)}function UB(e,t){if(e){if(typeof e=="string")return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}}function TS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function df(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=UB(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ES(e){var t=R.useRef(null);function r(n){!n||n===t.current||(t.current=n,e(n))}return r}function jB(e){var t=R.useRef(e);return R.useMemo(function(){function r(a){typeof a=="function"?t.current=a(t.current):t.current=a}function n(){return t.current}return[n,r]},[])}function GB(){var e=R.useRef([]);return R.useMemo(function(){function t(){return e.current.length>0}function r(){for(var a=df(e.current),i;!(i=a()).done;){var s=i.value;s()}e.current=[]}function n(a){e.current.push(a)}return{hasEventSubscriptions:t,removeAllEventSubscriptions:r,addEventSubscription:n}},[])}var Pb=typeof window<"u"?R.useLayoutEffect:R.useEffect;function KB(e,t){var r=R.useRef(e);return t?(r.current=e,r):(r.current=null,r)}function gd(e){return parseFloat(e.replace("px",""))}function $y(e,t,r){return e<t?t:e>r?r:e}function SS(e){return e!=null}function AS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=df(t),i;!(i=a()).done;){var s=i.value;s&&(typeof s=="function"?s(n):s.current=n)}}}function WB(e,t){if(!(typeof e>"u"))return t||e.ResizeObserver}function uC(e,t){var r=[];if(!e||!t||e===document.body)return r;var n=t.getComputedStyle(e),a=n.overflow,i=n.overflowX,s=n.overflowY;return[a,i,s].some(function(o){return["auto","scroll"].includes(o)})&&r.push(e),[].concat(r,uC(e.parentElement,t))}function t0(e){return"react-laag: Could not find a valid reference for the "+e+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+e+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+e+" when the isOpen prop is set to true"}function qB(e){var t=e.enabled,r=e.onChange,n=e.environment,a=e.ResizeObserverPolyfill,i=e.overflowContainer,s=e.triggerOption,o=WB(n,a);R.useEffect(function(){},[o]);var f=R.useRef(null),u=!!s,c=jB({scrollContainers:[],trigger:null,layer:null}),l=c[0],d=c[1],h=GB(),p=h.hasEventSubscriptions,m=h.addEventSubscription,v=h.removeAllEventSubscriptions,b=R.useCallback(function(){var S=l(),D=S.layer,w=S.trigger,T=S.scrollContainers,x=T[0];if(!D)throw new Error(t0("layer"));if(!w&&!u)throw new Error(t0("trigger"));var _={top:0,left:0};if(x){var M=x.scrollLeft,L=x.scrollTop;_={top:L,left:M}}else{var F=n.scrollX,G=n.scrollY;_={top:G,left:F}}var U={left:0,top:0};if(x){var q=n.getComputedStyle(x),V=q.borderLeftWidth,W=q.borderTopWidth;U={left:gd(V)||0,top:gd(W)||0}}r({layer:D,trigger:w,scrollContainers:T,arrow:f.current},_,U)},[l,r,n,f,u]),g=R.useCallback(function(){var S=l(),D=S.trigger,w=S.layer,T=S.scrollContainers;if(!w)throw new Error(t0("layer"));if(!D&&!u)throw new Error(t0("trigger"));if(o){for(var x=!1,_=function(){if(!x){x=!0;return}b()},M=new o(_),L=0,F=[D,w,document.body];L<F.length;L++){var G=F[L];G&&M.observe(G)}m(function(){for(var Q=0,te=[D,w,document.body];Q<te.length;Q++){var pe=te[Q];pe&&M.unobserve(pe)}M.disconnect()})}for(var U=[n].concat(T),q=function(){var te=W.value;te.addEventListener("scroll",b),m(function(){return te.removeEventListener("scroll",b)})},V=df(U),W;!(W=V()).done;)q()},[l,m,b,n,o,u]),y=R.useCallback(function(N,S){t&&N&&N!==S&&(v(),g(),b())},[v,g,b,t]),C=ES(R.useCallback(function(N){var S=l(),D=S.layer;d(function(w){return Ma({},w,{layer:N})}),y(D,N)},[l,d,y])),I=R.useCallback(function(S){var D=uC(S,n),w=D[0];if(w){var T=n.getComputedStyle(w).position,x=["relative","absolute","fixed"].includes(T)||i;x||(w.style.position="relative")}return D},[n,i]),P=ES(R.useCallback(function(N){var S=I(N),D=l(),w=D.trigger;d(function(T){return Ma({},T,{trigger:N,scrollContainers:S})}),y(w,N)},[l,d,y,I])),O=s==null||s.getParent==null?void 0:s.getParent();return Pb(function(){O&&d(function(N){return Ma({},N,{scrollContainers:I(O)})})},[O,d,I]),Pb(function(){return t&&(p()||g()),function(){p()&&v()}},[t,p,g,v]),Pb(function(){t&&b()}),{triggerRef:P,layerRef:C,arrowRef:f,closestScrollContainer:l().scrollContainers[0]||null}}var cC=R.createContext({});function VB(e){var t=e.children,r=e.registrations,n=R.useCallback(function(i){return r.current.add(i),function(){return r.current.delete(i)}},[r]);return R.createElement(cC.Provider,{value:n},t)}function zB(e,t){for(var r=df(e),n;!(n=r()).done;){var a=n.value.shouldCloseWhenClickedOutside;if(!a(t))return!1}return!0}function YB(e){var t=e.isOpen,r=e.onOutsideClick,n=e.onParentClose,a=R.useRef(null),i=R.useRef(null),s=R.useRef(new Set),o=R.useContext(cC),f=R.useCallback(function(c){var l=c.target,d=a.current&&a.current.contains(l),h=i.current&&i.current.contains(l),p=zB(s.current,c);return h&&p&&s.current.forEach(function(m){var v=m.closeChild;return v()}),!d&&!h&&p},[a,i,s]);return R.useEffect(function(){if(typeof o=="function")return o({shouldCloseWhenClickedOutside:f,closeChild:function(){n&&n()}})},[o,f,n,s]),R.useEffect(function(){var u=typeof o=="function",c=!t||!r||u;if(c)return;function l(d){f(d)&&r()}return document.addEventListener("click",l,!0),function(){return document.removeEventListener("click",l,!0)}},[t,r,f,o]),R.useEffect(function(){t||s.current.forEach(function(u){var c=u.closeChild;return c()})},[t]),{closeOnOutsideClickRefs:{trigger:a,layer:i},registrations:s}}var XB=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],JB={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},QB=function(){function e(r,n,a,i,s,o,f,u,c){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=r,this.opposite=n,this.isHorizontal=a,this.sizeProp=i,this.oppositeSizeProp=s,this.cssProp=o,this.oppositeCssProp=f,this.isCenter=u,this.isPush=c}var t=e.prototype;return t.factor=function(n){return n*(this.isPush?1:-1)},t.isOppositeDirection=function(n){return this.isHorizontal!==n.isHorizontal},e}();function xc(e,t){t===void 0&&(t=!0);var r=["left","right"].includes(e);return new QB(e,t?xc(JB[e],!1):null,r,r?"width":"height",r?"height":"width",r?"left":"top",r?"top":"left",e==="center",!["right","bottom"].includes(e))}var Qr={top:xc("top"),bottom:xc("bottom"),left:xc("left"),right:xc("right")},kr=Ma({},Qr,{center:xc("center")}),r0=["top","left","bottom","right"],X_=function(){function e(t){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,t)}return e.mergeSmallestSides=function(r){var n=r[0],a=r.slice(1);if(!n)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var i=Object.fromEntries(r0.map(function(d){return[d,n[d]]})),s=df(a),o;!(o=s()).done;)for(var f=o.value,u=df(r0),c;!(c=u()).done;){var l=c.value;i[l]=Math.min(i[l],f[l])}return new e(i)},Em(e,[{key:"allSidesArePositive",get:function(){var r=this;return r0.every(function(n){return r[n]>=0})}},{key:"negativeSides",get:function(){var r=this;return Object.fromEntries(r0.filter(function(n){return r[n]<0}).map(function(n){return[n,r[n]]}))}}]),e}();function wS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(n,a){return n+(a?gd(a):0)},0)}function Uy(e){var t=e.top,r=e.left,n=e.right,a=e.bottom,i=e.width,s=e.height;return{top:t,left:r,right:n,bottom:a,width:i,height:s}}var ZB={top:0,left:0,right:0,bottom:0,width:0,height:0},li=function(){e.create=function(n){return new e(n)},e.fromElement=function(n,a){a===void 0&&(a={});var i=a,s=i.withTransform,o=s===void 0?!0:s,f=i.environment,u=f===void 0?window:f,c=i.withScrollbars,l=c===void 0?!0:c,d=Uy(n.getBoundingClientRect()),h=new e(d);if(!o){var p=u.getComputedStyle(n),m=p.width,v=p.height,b=p.boxSizing,g=p.borderLeft,y=p.borderRight,C=p.borderTop,I=p.borderBottom,P=p.paddingLeft,O=p.paddingRight,N=p.paddingTop,S=p.paddingBottom,D=b==="border-box"?gd(m):wS(m,g,y,P,O),w=b==="border-box"?gd(v):wS(v,C,I,N,S);h=new e(Ma({},h,{width:D,height:w}))}if(!l){var T=h.width-n.clientWidth,x=h.height-n.clientHeight;return h.substract({right:T,bottom:x})}return h},e.empty=function(){return new e},e.fromWindow=function(n){var a,i=(a=n==null?void 0:n.document.scrollingElement)!=null?a:n==null?void 0:n.document.documentElement,s=i??{},o=s.clientWidth,f=o===void 0?0:o,u=s.clientHeight,c=u===void 0?0:u;return new e({width:f,height:c,right:f,bottom:c})};function e(r){return r===void 0&&(r={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,ZB,r)}var t=e.prototype;return t.toObject=function(){return Uy(this)},t.merge=function(n){var a=this.toObject();return new e(Ma({},a,typeof n=="function"?n(a):n))},t.substract=function(n){for(var a=this.toObject(),i=Object.entries(n),s=0,o=i;s<o.length;s++){var f=o[s],u=f[0],c=f[1];if(u in Qr){var l=Qr[u];a[u]+=l.factor(c),a[l.isHorizontal?"width":"height"]-=c}else a[u]-=c||0}return new e(a)},t.offsetsTo=function(n){return new X_({top:n.top-this.top,bottom:this.bottom-n.bottom,left:n.left-this.left,right:this.right-n.right})},t.mapSides=function(n){for(var a=this.toObject(),i=Object.values(Qr),s=0,o=i;s<o.length;s++){var f=o[s];a[f.prop]=n(f,a[f.prop])}return new e(a)},Em(e,[{key:"surface",get:function(){return this.width*this.height}}]),e}(),fC=function(){function e(r,n,a,i,s){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=r,this.secondary=n,this.offsets=s,this.setSubjectsBounds(a,i)}var t=e.prototype;return t.setSubjectsBounds=function(n,a){if(!a){this.subjectsBounds=n;return}var i=typeof a=="function"?a(this.primary.prop):a;this.subjectsBounds=n.merge({layer:Ma({},n.layer,i)})},t.getLayerBounds=function(n){if(n===void 0&&(n=0),this._cachedLayerBounds&&n===0)return this._cachedLayerBounds;var a=this.primary,i=this.secondary,s=this.subjectsBounds,o=s.trigger,f=s.layer,u=s.arrow,c=a.isHorizontal,l=a.oppositeCssProp,d=a.oppositeSizeProp,h=a.prop,p=a.opposite,m=li.empty();m[p.prop]=o[h]-a.factor(this.offsets.trigger),m[h]=m[p.prop]-a.factor(f[a.sizeProp]);var v=this.offsets.arrow*2,b=o[l]-(f[d]-u[d])+v,g=o[l]+(o[d]-u[d])-v;if(i.isPush||(b+=f[d],g+=f[d]),i.isCenter){var y=(c?Qr.top:Qr.left).prop,C=(c?Qr.bottom:Qr.right).prop;m[y]=$y(o[y]+o[d]/2-f[d]/2+n,b,g),m[C]=m[y]+f[d]}else{var I=i,P=o[I.prop],O=P<b?b-P:P>g?g-P:0;m[I.prop]=$y(P+n+O,b,g),m[I.opposite.prop]=m[I.prop]+i.factor(f[d])}m.width=m.right-m.left,m.height=m.bottom-m.top;var N=li.create(m);return n===0&&(this._cachedLayerBounds=N),N},t.getLayerCollisionBounds=function(){var n=this.offsets.container;return this.getLayerBounds().mapSides(function(a,i){return i-=a.factor(n)}).merge(function(a){var i=a.width,s=a.height;return{width:i+n*2,height:s+n*2}})},t.getContainerOffsets=function(n){if(this._cachedContainerOffsets&&!n)return this._cachedContainerOffsets;var a=this.subjectsBounds.merge({layer:n||this.getLayerCollisionBounds()}),i=X_.mergeSmallestSides(a.layerOffsetsToScrollContainers);return n||(this._cachedContainerOffsets=i),i},Em(e,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var n=this.secondary.isHorizontal,a=this.subjectsBounds,i=a.triggerHasBiggerWidth,s=a.triggerHasBiggerHeight;return n&&i||!n&&s}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var n=this.getLayerBounds(),a=this.getContainerOffsets(n),i=a.negativeSides;for(var s in i)i[s]=-i[s];return n.substract(i).surface}},{key:"secondaryOffsetSide",get:function(){var n,a,i=this,s=this.getContainerOffsets(),o=(n=(a=Object.entries(s.negativeSides).map(function(u){var c=u[0],l=u[1];return[Qr[c],l]}).filter(function(u){var c=u[0];return i.primary.isOppositeDirection(c)}).sort(function(u,c){var l=u[1],d=c[1];return d-l}))==null?void 0:a[0])!=null?n:[],f=o[0];return f||null}}]),e}(),CS=function(e){$B(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getLayerBounds=function(){var a=this.subjectsBounds,i=a.trigger,s=a.layer,o=li.empty();return o.top=i.top+i.height/2-s.height/2,o.bottom=o.top+s.height,o.left=i.left+i.width/2-s.width/2,o.right=o.left+s.width,o.width=o.right-o.left,o.height=o.bottom-o.top,o},t}(fC);function eF(e,t,r){var n=e.layer,a=e.trigger,i=e.arrow,s=t.primary.oppositeSizeProp,o=t.primary.isHorizontal?["top","bottom"]:["left","right"],f=o[0],u=o[1],c=n[f]+n[s]/2-a[f]-i[s]/2-r,l=n[u]-n[s]/2-a[u]+i[s]/2+r;return(c<0?-c:0)+(l>0?-l:0)}var IS={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function tF(e,t,r){var n;if(t.primary.isCenter)return IS;var a=e.layer,i=e.trigger,s=e.arrow,o=t.primary.oppositeSizeProp,f=i[o]>a[o],u=r+s[o]/2,c=a[o]-s[o]/2-r,l=eF(e,t,r),d=t.primary.prop,h=t.primary.oppositeCssProp,p=f?a[o]/2+l:i[h]+i[o]/2-a[h];return Ma({},IS,(n={},n[d]="100%",n[h]=$y(p,u,c),n))}var PS=function(){function e(r,n,a){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=r,this.config=n,this.subjectsBounds=a}e.getSidesFromPlacementType=function(n){var a=n.split("-"),i=a[0],s=a[1],o=Qr[i],f;return s==="center"?f=kr.center:o.isHorizontal?f=s==="start"?kr.top:kr.bottom:f=s==="start"?kr.left:kr.right,[o,f]},e.create=function(n,a){var i={arrow:a.arrowOffset,container:a.containerOffset,trigger:a.triggerOffset};function s(o){o===void 0&&(o=a.placement);var f=e.getSidesFromPlacementType(o),u=f[0],c=f[1],l=Qr[u.isHorizontal?a.preferY:a.preferX],d=!u.isHorizontal&&n.triggerHasBiggerWidth||u.isHorizontal&&n.triggerHasBiggerHeight;function h(m,v){return new fC(m,v,n,a.layerDimensions,i)}var p=[];return p[0]=h(u,c),p[1]=h(u,c.isCenter?l:kr.center),p[2]=h(u,kr[(c.opposite.isCenter?l.opposite:c.opposite).prop]),p[3]=h(l,d?u:kr[u.opposite.prop]),p[4]=h(l,kr.center),p[5]=h(l,d?kr[u.opposite.prop]:u),p[6]=h(Qr[l.opposite.prop],d?u:kr[u.opposite.prop]),p[7]=h(Qr[l.opposite.prop],kr.center),p[8]=h(Qr[l.opposite.prop],d?kr[u.opposite.prop]:u),p[9]=h(Qr[u.opposite.prop],c),p[10]=h(Qr[u.opposite.prop],c.isCenter?l:kr.center),p[11]=h(Qr[u.opposite.prop],kr[(c.opposite.isCenter?l.opposite:c.opposite).prop]),p=p.filter(function(m){return m.type===a.placement||a.possiblePlacements.includes(m.type)}),p}return a.placement==="center"?new e([new CS(kr.center,kr.center,n,a.layerDimensions,i)].concat(s(a.preferY+"-"+a.preferX)),a,n):new e(s(),a,n)};var t=e.prototype;return t.filterPlacementsBySide=function(n){return this.placements.filter(function(a){return a.primary===n})},t.findFirstPlacementThatFits=function(){return this.placements.find(function(n){return n.fitsContainer})},t.placementWithBiggestVisibleSurface=function(){var n=this.placements.map(function(i){return{placement:i,surface:i.visibleSurface}}).sort(function(i,s){return s.surface-i.surface}),a=n[0].placement;return a},t.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},t.getSecondaryOffset=function(n){var a=this.config,i=a.auto,s=a.snap;if(!i||s||n instanceof CS)return 0;var o=this.filterPlacementsBySide(n.primary),f=o.indexOf(n)===0;if(f&&n.fitsContainer)return 0;var u=o.find(function(m){return!m.fitsContainer});if(!u)return 0;var c=u.secondaryOffsetSide;if(!c)return 0;var l=n.getContainerOffsets(),d=n.secondary,h;n.triggerIsBigger||u===n?h=c.isPush?-1:1:h=d===kr.left||[kr.top,kr.center].includes(d)&&c.isPush?-1:1;var p=l[c.prop];return p*h},t.getStyles=function(n,a,i,s){var o={willChange:"top, left, width, height"},f=tF(this.subjectsBounds.merge({layer:n}),a,this.config.arrowOffset),u=this.config.overflowContainer?Ma({},o,{position:"fixed",top:n.top,left:n.left}):Ma({},o,{position:"absolute",top:n.top-this.subjectsBounds.parent.top+i.top-s.top,left:n.left-this.subjectsBounds.parent.left+i.left-s.left});return{arrow:f,layer:u}},t.getHasDisappeared=function(n){var a=this.config.overflowContainer?this.subjectsBounds.trigger:n,i=X_.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(a,!0)),s=Object.entries(i.negativeSides),o=s.some(function(f){var u=f[0],c=f[1],l=Qr[u];return c<=-a[l.sizeProp]});return o?"full":i.allSidesArePositive?null:"partial"},t.result=function(n,a){var i=this.findSuitablePlacement(),s=this.getSecondaryOffset(i),o=i.getLayerBounds(s),f=this.getStyles(o,i,n,a),u=i.primary.prop;return{styles:f,layerSide:u,placement:i,layerBounds:o,hasDisappeared:this.getHasDisappeared(o)}},e}(),rF=function(){function e(r,n){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=n,Object.assign(this,r)}e.create=function(n,a,i,s,o,f,u,c){var l=li.fromWindow(n);return new e({layer:li.fromElement(a,{environment:n,withTransform:!1}),trigger:c?li.create(Uy(c())):li.fromElement(i),arrow:o?li.fromElement(o):li.empty(),parent:s?li.fromElement(s):l,window:l,scrollContainers:[l].concat(f.map(function(d){return li.fromElement(d,{withScrollbars:!1})}))},u)};var t=e.prototype;return t.merge=function(n){return new e(Ma({},this,n),this.overflowContainer)},t.offsetsToScrollContainers=function(n,a){a===void 0&&(a=!1);var i=this.overflowContainer&&!a?[this.window]:this.scrollContainers;return i.map(function(s){return s.offsetsTo(n)})},Em(e,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),e}(),NS=null,oi={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:XB,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function nF(e){var t,r=e.isOpen,n=r===void 0?!1:r,a=e.overflowContainer,i=a===void 0?oi.overflowContainer:a,s=e.environment,o=s===void 0?typeof window<"u"?window:void 0:s,f=e.ResizeObserver,u=e.placement,c=u===void 0?oi.placement:u,l=e.possiblePlacements,d=l===void 0?oi.possiblePlacements:l,h=e.preferX,p=h===void 0?oi.preferX:h,m=e.preferY,v=m===void 0?oi.preferY:m,b=e.auto,g=b===void 0?oi.auto:b,y=e.snap,C=y===void 0?oi.snap:y,I=e.triggerOffset,P=I===void 0?oi.triggerOffset:I,O=e.containerOffset,N=O===void 0?oi.containerOffset:O,S=e.arrowOffset,D=S===void 0?oi.arrowOffset:S,w=e.container,T=w===void 0?oi.container:w,x=e.layerDimensions,_=x===void 0?null:x,M=e.onDisappear,L=e.onOutsideClick,F=e.onParentClose,G=e.trigger,U=R.useState(function(){return{layerSide:c==="center"?"center":PS.getSidesFromPlacementType(c)[0].prop,styles:{layer:{position:i?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),q=U[0],V=U[1],W=R.useRef(null),Q=KB(q,n),te=R.useRef({cancelled:!1});R.useEffect(function(){return function(){te.current.cancelled=!0}},[]);var pe=R.useCallback(function(it,Ce,De){var Rt=it.arrow,Ft=it.layer,Ue=it.scrollContainers,ct=it.trigger,se=Ue[0],Ee=rF.create(o,Ft,ct,se,Rt,Ue,i,G==null?void 0:G.getBounds),Se={placement:c,possiblePlacements:d,auto:g,layerDimensions:_,arrowOffset:D,containerOffset:N,triggerOffset:P,preferX:p,preferY:v,snap:C,overflowContainer:i},Ne=PS.create(Ee,Se).result(Ce,De),Fe=Ne.hasDisappeared,Me=Ne.layerSide,Je=Ne.styles,Ct={layerSide:Me,styles:Je};if(!Q.current||aF(Q.current,Ct)){Q.current=Ct,te.current.cancelled=!0;var j={cancelled:!1};te.current=j,Promise.resolve().then(function(){j.cancelled||V(Ct)})}SS(Fe)&&SS(M)&&M(Fe)},[D,g,N,o,_,M,i,c,d,p,v,C,P,Q,G]),be=qB({ResizeObserverPolyfill:f,environment:o,enabled:n,overflowContainer:i,onChange:pe,triggerOption:G}),Ie=be.triggerRef,me=be.layerRef,xe=be.arrowRef,We=be.closestScrollContainer,qe=YB({isOpen:n,onOutsideClick:L,onParentClose:F}),$e=qe.closeOnOutsideClickRefs,Ye=qe.registrations,lt={triggerProps:G?{}:{ref:AS(Ie,$e.trigger,W)},layerProps:{ref:AS(me,$e.layer),style:q.styles.layer},arrowProps:{ref:xe,style:q.styles.arrow,layerSide:q.layerSide},layerSide:q.layerSide,triggerBounds:n?G?G.getBounds():(t=W.current)==null?void 0:t.getBoundingClientRect():null,renderLayer:function(it){return typeof document<"u"?c_.createPortal(R.createElement(VB,{registrations:Ye,children:it}),i||!We?iF(T):We):null}};return lt}function aF(e,t){if(e.layerSide!==t.layerSide)return!0;for(var r=["position","top","left","right","bottom"],n=0,a=r;n<a.length;n++){var i=a[n];if(e.styles.layer[i]!==t.styles.layer[i]||e.styles.arrow[i]!==t.styles.arrow[i])return!0}return!1}var OS="layers";function iF(e){var t;if(typeof e=="function"){if(t=e(),!t||!(t instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(e instanceof HTMLElement)t=e;else if(typeof e=="string"){if(t=document.getElementById(e),!t)throw new Error("react-laag: You've passed element with id '"+e+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(NS instanceof HTMLElement)return NS;t=document.getElementById(OS),t||(t=document.createElement("div"),t.id=OS,t.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(t))}return t}var xS;(function(e){e[e.ENTERING=0]="ENTERING",e[e.LEAVING=1]="LEAVING",e[e.IDLE=2]="IDLE"})(xS||(xS={}));var n0={triggerWrapper:"popover-module_triggerWrapper__icwIR",layerWrapper:"popover-module_layerWrapper__YTivx",noBackground:"popover-module_noBackground__P5UB-",layerWrapperOnDialog:"popover-module_layerWrapperOnDialog__fvzSW"},sF=["placement","animation","isOpen","animationProps","triggerElement","children","triggerWrapperClassName","layerClassName","layerStyle","triggerStyle","applyLayerMinWidth","isOnDialog","auto","transparent"],oF=function(t,r){var n,a,i=t.placement,s=i===void 0?"bottom-end":i,o=t.animation,f=o===void 0?!0:o,u=t.isOpen,c=t.animationProps,l=t.triggerElement,d=t.children,h=t.triggerWrapperClassName,p=t.layerClassName,m=t.layerStyle,v=m===void 0?{}:m,b=t.triggerStyle,g=b===void 0?{}:b,y=t.applyLayerMinWidth,C=t.isOnDialog,I=t.auto,P=I===void 0?!0:I,O=t.transparent,N=O===void 0?!1:O,S=Wi(t,sF),D=R.useRef(null),w=nF(Nn({},S,{triggerOffset:S.triggerOffset?S.triggerOffset:8,isOpen:u,placement:s,auto:P})),T=w.renderLayer,x=w.triggerProps,_=w.layerProps,M=w.layerSide,L=w.triggerBounds;J.useImperativeHandle(r,function(){return{triggerRefElement:D.current,layerSide:M,triggerBounds:L}});var F={};f&&c?F=c:f&&(F={initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},transition:{type:"spring",stiffness:800,damping:35}});var G=void 0;if(y&&D.current&&typeof((n=D.current)==null?void 0:n.getBoundingClientRect)=="function"){var U,q;G=(U=D.current)==null||(q=U.getBoundingClientRect())==null?void 0:q.width}return J.createElement(J.Fragment,null,J.createElement("div",Nn({},x,{style:Nn({},g||{}),className:ft(n0.triggerWrapper,h),ref:function(W){x.ref(W),D.current=W}}),l),T(J.createElement(HB,null,u&&J.createElement(sC.div,Nn({},F,_,{style:Nn({},_.style||{},v||{},{minWidth:G}),className:ft(n0.layerWrapper,(a={},a[n0.layerWrapperOnDialog]=C,a[n0.noBackground]=N,a),p)}),d))))},J_=J.forwardRef(oF);J_.displayName="Popover";var fn={container:"dropdown-module_container__iY02y",triggerWrapper:"dropdown-module_triggerWrapper__nVet0",trigger:"dropdown-module_trigger__UgSZo",prefix:"dropdown-module_prefix__1tzuY",suffix:"dropdown-module_suffix__wnVQh",hasPrefix:"dropdown-module_hasPrefix__Asv6b",hasSuffix:"dropdown-module_hasSuffix__i8BUC",label:"dropdown-module_label__ot59M",placeholder:"dropdown-module_placeholder__rh9NL",caption:"dropdown-module_caption__RhvxH",floatLabel:"dropdown-module_floatLabel__xY3H0",floatingLabel:"dropdown-module_floatingLabel__mGFHH",isOpenMenu:"dropdown-module_isOpenMenu__RQDO8",default:"dropdown-module_default__YSK4X",disabled:"dropdown-module_disabled__-z43X",danger:"dropdown-module_danger__HYq-2",success:"dropdown-module_success__ANsTH",primary:"dropdown-module_primary__30JFJ",info:"dropdown-module_info__yk0vn",secondary:"dropdown-module_secondary__1L-Z6",popoverLayer:"dropdown-module_popoverLayer__9IyD6"},RS={menu:"menu-module_menu__i40Wj",default:"menu-module_default__4-xfG"},uF=["className","children","currentActiveKey","onChange"];function cF(e){var t;if(!e)return null;var r=e;return!r||!(r!=null&&r.type)||!(r!=null&&(t=r.type)!=null&&t.MenuElementType)?null:r.type.MenuElementType===no.Item||r.type.MenuElementType===no.Divider?e:null}var fF=function(t,r){var n=t.className,a=t.children,i=t.currentActiveKey,s=t.onChange,o=Wi(t,uF),f=function(d){return function(h){s&&typeof s=="function"&&(h.data=d,s(h))}},u=function(){if(!a)return null;var d=J.Children.toArray(a).map(function(p){return J.isValidElement(p)?J.cloneElement(p):p}),h=null;return h=d.map(function(p){var m=p,v=cF(p);if(!v)return null;if(v.type.MenuElementType===no.Item){var b,g,y,C,I=void 0;if(m.props.onClick&&!m.props.disabled)I=m.props.onClick;else{var P;I=s&&!m.props.disabled?f((P=m.props)==null?void 0:P.data):void 0}var O=Nn({},m.props,{key:((b=m.props)==null||(g=b.data)==null?void 0:g.key)||m.key,active:m.props.active||typeof i<"u"&&i!==null&&i===((y=m.props)==null||(C=y.data)==null?void 0:C.key),onClick:I});return J.cloneElement(m,O)}return v.type.MenuElementType===no.Divider?J.cloneElement(m,m.props):null}),h},c=ft(RS.menu,RS.default,n);return J.createElement("ul",Nn({},o,{ref:r,className:c}),u())},zu=R.forwardRef(fF);zu.Divider=hm;zu.Item=pm;zu.displayName="Menu";var lF={menu:"dropdown-menu-module_menu__WTTys"},dF=function(t,r){var n=t.className,a=t.children,i=t.selectedOption,s=t.style,o=t.menuComponent,f=t.onClickDropdownItem,u=ft(lF.menu,n),c=o||zu,l=function(h){var p=h;p.option=h==null?void 0:h.data,h&&(p.option=h.data),f&&f(p)};return J.createElement("div",{className:u,ref:r,style:s},J.createElement(c,{currentActiveKey:i==null?void 0:i.itemKey,onChange:l},a))},lC=J.forwardRef(dF);lC.displayName="DropdownMenu";var hF=["layerClassName","triggerWrapperClassName","placement"];function DS(e){return e==null}var zf=function(t){var r,n,a=R.useState(!1),i=a[0],s=a[1],o=t.label,f=t.intent,u=f===void 0?qt.Default:f,c=t.className,l=t.prefixIcon,d=t.disabled,h=t.caption,p=t.children,m=t.selectedOption,v=t.closeOnSelect,b=v===void 0?!0:v,g=t.placeholder,y=t.popoverProps,C=y===void 0?{}:y,I=t.id,P=t.closeOnOutsideClick,O=P===void 0?!0:P,N=t.menuClassName,S=t.menuStyle,D=t.triggerClassName,w=t.popoverComponent,T=t.menuComponent,x=t.triggerRender,_=t.onMenuVisibleChange,M=t.onClickOutside,L=t.onChange,F=!!o,G=l&&!F,U=J.useRef(null),q=F&&(!DS(m==null?void 0:m.value)||!DS(g)||i),V=g?J.createElement("span",{className:fn.placeholder},g):null,W=ft(fn.container,fn[u],(r={},r[fn.disabled]=d,r),c),Q=ft(fn.trigger,(n={},n[fn.hasPrefix]=G,n[fn.hasSuffix]=!0,n[fn.floatLabel]=F,n[fn.floatingLabel]=q,n[fn.isOpenMenu]=i,n),D),te=function(Ce){_&&typeof _=="function"&&_(Ce)},pe=function(){O&&(s(!1),te(!1)),M&&typeof M=="function"&&M()},be=function(){d||s(function(Ce){return te(!Ce),!Ce})},Ie=function(){b&&s(!1)},me=function(Ce){var De;if((m==null?void 0:m.value)===(Ce==null||(De=Ce.option)==null?void 0:De.value)||!i){Ie();return}Ie(),L&&typeof L=="function"&&L(Ce),te(!1)},xe=function(){return x&&typeof x=="function"?x({disabled:d,placeholder:g,prefixIcon:l,selectedOption:m,onClick:be}):J.createElement("div",{className:Q,onClick:be},G&&J.createElement("span",{className:fn.prefix},l),J.createElement("span",{className:fn.triggerText},(m==null?void 0:m.label)||V),J.createElement("span",{className:fn.suffix},J.createElement(oD,{size:20})),o&&J.createElement("label",{className:fn.label},o))},We=C.layerClassName,qe=C.triggerWrapperClassName,$e=C.placement,Ye=$e===void 0?"bottom-start":$e,lt=Wi(C,hF),st=w||J_;return J.createElement("div",{ref:U,className:W,id:I},J.createElement(st,Nn({},lt,{layerClassName:ft(fn.popoverLayer,We),triggerWrapperClassName:ft(fn.triggerWrapper,qe),placement:Ye,isOpen:i,triggerElement:xe(),onOutsideClick:pe}),J.createElement(lC,{className:N,style:S,selectedOption:m,menuComponent:T,onClickDropdownItem:me},p)),h&&J.createElement("div",{className:fn.caption},h))};zf.Item=pm;zf.Divider=hm;zf.displayName="Dropdown";var pF=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(r),u=0;u<s.length;u++){var c=s[u];if(!f(c))return!1;var l=t[c],d=r[c];if(i=n?n.call(a,l,d,c):void 0,i===!1||i===void 0&&l!==d)return!1}return!0};const dC=Ts(pF);function hC(e){var t=R.useRef(),r=R.useRef(!1);function n(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];r.current||(en.cancel(t.current),t.current=en(function(){e.apply(void 0,i)}))}return R.useEffect(function(){return r.current=!1,function(){r.current=!0,en.cancel(t.current)}},[]),n}function mF(e){var t=R.useRef([]),r=R.useState({}),n=Be(r,2),a=n[1],i=R.useRef(typeof e=="function"?e():e),s=hC(function(){var f=i.current;t.current.forEach(function(u){f=u(f)}),t.current=[],i.current=f,a({})});function o(f){t.current.push(f),s()}return[i.current,o]}function vF(e,t){var r,n=e.prefixCls,a=e.id,i=e.active,s=e.tab,o=s.key,f=s.tab,u=s.disabled,c=s.closeIcon,l=e.closable,d=e.renderWrapper,h=e.removeAriaLabel,p=e.editable,m=e.onClick,v=e.onRemove,b=e.onFocus,g=e.style,y="".concat(n,"-tab");R.useEffect(function(){return v},[]);var C=p&&l!==!1&&!u;function I(N){u||m(N)}function P(N){N.preventDefault(),N.stopPropagation(),p.onEdit("remove",{key:o,event:N})}var O=R.createElement("div",{key:o,ref:t,className:Nt(y,(r={},ie(r,"".concat(y,"-with-remove"),C),ie(r,"".concat(y,"-active"),i),ie(r,"".concat(y,"-disabled"),u),r)),style:g,onClick:I},R.createElement("div",{role:"tab","aria-selected":i,id:a&&"".concat(a,"-tab-").concat(o),className:"".concat(y,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(o),"aria-disabled":u,tabIndex:u?null:0,onClick:function(S){S.stopPropagation(),I(S)},onKeyDown:function(S){[Or.SPACE,Or.ENTER].includes(S.which)&&(S.preventDefault(),I(S))},onFocus:b},f),C&&R.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(y,"-remove"),onClick:function(S){S.stopPropagation(),P(S)}},c||p.removeIcon||""));return d?d(O):O}const bF=R.forwardRef(vF);var MS={width:0,height:0,left:0,top:0};function gF(e,t,r){return R.useMemo(function(){for(var n,a=new Map,i=t.get((n=e[0])===null||n===void 0?void 0:n.key)||MS,s=i.left+i.width,o=0;o<e.length;o+=1){var f=e[o].key,u=t.get(f);if(!u){var c;u=t.get((c=e[o-1])===null||c===void 0?void 0:c.key)||MS}var l=a.get(f)||Xe({},u);l.right=s-l.left-l.width,a.set(f,l)}return a},[e.map(function(n){return n.key}).join("_"),t,r])}var LS={width:0,height:0,left:0,top:0,right:0};function yF(e,t,r,n,a){var i=a.tabs,s=a.tabPosition,o=a.rtl,f,u,c;["top","bottom"].includes(s)?(f="width",u=o?"right":"left",c=Math.abs(t.left)):(f="height",u="top",c=-t.top);var l=t[f],d=r[f],h=n[f],p=l;return d+h>l&&d<l&&(p=l-h),R.useMemo(function(){if(!i.length)return[0,0];for(var m=i.length,v=m,b=0;b<m;b+=1){var g=e.get(i[b].key)||LS;if(g[u]+g[f]>c+p){v=b-1;break}}for(var y=0,C=m-1;C>=0;C-=1){var I=e.get(i[C].key)||LS;if(I[u]<c){y=C+1;break}}return[y,v]},[e,c,p,s,i.map(function(m){return m.key}).join("_"),o])}var _F=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],pc=void 0;function TF(e,t){var r=e.prefixCls,n=e.invalidate,a=e.item,i=e.renderItem,s=e.responsive,o=e.responsiveDisabled,f=e.registerSize,u=e.itemKey,c=e.className,l=e.style,d=e.children,h=e.display,p=e.order,m=e.component,v=m===void 0?"div":m,b=Dr(e,_F),g=s&&!h;function y(N){f(u,N)}R.useEffect(function(){return function(){y(null)}},[]);var C=i&&a!==pc?i(a):d,I;n||(I={opacity:g?0:1,height:g?0:pc,overflowY:g?"hidden":pc,order:s?p:pc,pointerEvents:g?"none":pc,position:g?"absolute":pc});var P={};g&&(P["aria-hidden"]=!0);var O=R.createElement(v,Wt({className:Nt(!n&&r,c),style:Xe(Xe({},I),l)},P,b,{ref:t}),C);return s&&(O=R.createElement(rp,{onResize:function(S){var D=S.offsetWidth;y(D)},disabled:o},O)),O}var Ql=R.forwardRef(TF);Ql.displayName="Item";function EF(e){if(typeof MessageChannel>"u")en(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function SF(){var e=R.useRef(null),t=function(n){e.current||(e.current=[],EF(function(){c_.unstable_batchedUpdates(function(){e.current.forEach(function(a){a()}),e.current=null})})),e.current.push(n)};return t}function Sl(e,t){var r=R.useState(t),n=Be(r,2),a=n[0],i=n[1],s=I7(function(o){e(function(){i(o)})});return[a,s]}var vp=J.createContext(null),AF=["component"],wF=["className"],CF=["className"],IF=function(t,r){var n=R.useContext(vp);if(!n){var a=t.component,i=a===void 0?"div":a,s=Dr(t,AF);return R.createElement(i,Wt({},s,{ref:r}))}var o=n.className,f=Dr(n,wF),u=t.className,c=Dr(t,CF);return R.createElement(vp.Provider,{value:null},R.createElement(Ql,Wt({ref:r,className:Nt(o,u)},f,c)))},pC=R.forwardRef(IF);pC.displayName="RawItem";var PF=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],mC="responsive",vC="invalidate";function NF(e){return"+ ".concat(e.length," ...")}function OF(e,t){var r=e.prefixCls,n=r===void 0?"rc-overflow":r,a=e.data,i=a===void 0?[]:a,s=e.renderItem,o=e.renderRawItem,f=e.itemKey,u=e.itemWidth,c=u===void 0?10:u,l=e.ssr,d=e.style,h=e.className,p=e.maxCount,m=e.renderRest,v=e.renderRawRest,b=e.suffix,g=e.component,y=g===void 0?"div":g,C=e.itemComponent,I=e.onVisibleChange,P=Dr(e,PF),O=l==="full",N=SF(),S=Sl(N,null),D=Be(S,2),w=D[0],T=D[1],x=w||0,_=Sl(N,new Map),M=Be(_,2),L=M[0],F=M[1],G=Sl(N,0),U=Be(G,2),q=U[0],V=U[1],W=Sl(N,0),Q=Be(W,2),te=Q[0],pe=Q[1],be=Sl(N,0),Ie=Be(be,2),me=Ie[0],xe=Ie[1],We=R.useState(null),qe=Be(We,2),$e=qe[0],Ye=qe[1],lt=R.useState(null),st=Be(lt,2),it=st[0],Ce=st[1],De=R.useMemo(function(){return it===null&&O?Number.MAX_SAFE_INTEGER:it||0},[it,w]),Rt=R.useState(!1),Ft=Be(Rt,2),Ue=Ft[0],ct=Ft[1],se="".concat(n,"-item"),Ee=Math.max(q,te),Se=p===mC,Ne=i.length&&Se,Fe=p===vC,Me=Ne||typeof p=="number"&&i.length>p,Je=R.useMemo(function(){var ve=i;return Ne?w===null&&O?ve=i:ve=i.slice(0,Math.min(i.length,x/c)):typeof p=="number"&&(ve=i.slice(0,p)),ve},[i,c,w,p,Ne]),Ct=R.useMemo(function(){return Ne?i.slice(De+1):i.slice(Je.length)},[i,Je,Ne,De]),j=R.useCallback(function(ve,Te){var Ve;return typeof f=="function"?f(ve):(Ve=f&&(ve==null?void 0:ve[f]))!==null&&Ve!==void 0?Ve:Te},[f]),he=R.useCallback(s||function(ve){return ve},[s]);function ye(ve,Te,Ve){it===ve&&(Te===void 0||Te===$e)||(Ce(ve),Ve||(ct(ve<i.length-1),I==null||I(ve)),Te!==void 0&&Ye(Te))}function Pe(ve,Te){T(Te.clientWidth)}function ee(ve,Te){F(function(Ve){var Dt=new Map(Ve);return Te===null?Dt.delete(ve):Dt.set(ve,Te),Dt})}function le(ve,Te){pe(Te),V(te)}function k(ve,Te){xe(Te)}function _e(ve){return L.get(j(Je[ve],ve))}np(function(){if(x&&typeof Ee=="number"&&Je){var ve=me,Te=Je.length,Ve=Te-1;if(!Te){ye(0,null);return}for(var Dt=0;Dt<Te;Dt+=1){var Mt=_e(Dt);if(O&&(Mt=Mt||0),Mt===void 0){ye(Dt-1,void 0,!0);break}if(ve+=Mt,Ve===0&&ve<=x||Dt===Ve-1&&ve+_e(Ve)<=x){ye(Ve,null);break}else if(ve+Ee>x){ye(Dt-1,ve-Mt-me+te);break}}b&&_e(0)+me>x&&Ye(null)}},[x,L,te,me,j,Je]);var Le=Ue&&!!Ct.length,E={};$e!==null&&Ne&&(E={position:"absolute",left:$e,top:0});var ue={prefixCls:se,responsive:Ne,component:C,invalidate:Fe},ce=o?function(ve,Te){var Ve=j(ve,Te);return R.createElement(vp.Provider,{key:Ve,value:Xe(Xe({},ue),{},{order:Te,item:ve,itemKey:Ve,registerSize:ee,display:Te<=De})},o(ve,Te))}:function(ve,Te){var Ve=j(ve,Te);return R.createElement(Ql,Wt({},ue,{order:Te,key:Ve,item:ve,renderItem:he,itemKey:Ve,registerSize:ee,display:Te<=De}))},B,X={order:Le?De:Number.MAX_SAFE_INTEGER,className:"".concat(se,"-rest"),registerSize:le,display:Le};if(v)v&&(B=R.createElement(vp.Provider,{value:Xe(Xe({},ue),X)},v(Ct)));else{var oe=m||NF;B=R.createElement(Ql,Wt({},ue,X),typeof oe=="function"?oe(Ct):oe)}var Re=R.createElement(y,Wt({className:Nt(!Fe&&n,h),style:d,ref:t},P),Je.map(ce),Me?B:null,b&&R.createElement(Ql,Wt({},ue,{responsive:Se,responsiveDisabled:!Ne,order:De,className:"".concat(se,"-suffix"),registerSize:k,display:!0,style:E}),b));return Se&&(Re=R.createElement(rp,{onResize:Pe,disabled:!Ne},Re)),Re}var gs=R.forwardRef(OF);gs.displayName="Overflow";gs.Item=pC;gs.RESPONSIVE=mC;gs.INVALIDATE=vC;function bC(e,t){var r=Xe({},e);return Array.isArray(t)&&t.forEach(function(n){delete r[n]}),r}var xF=["children","locked"],gi=R.createContext(null);function RF(e,t){var r=Xe({},e);return Object.keys(t).forEach(function(n){var a=t[n];a!==void 0&&(r[n]=a)}),r}function yd(e){var t=e.children,r=e.locked,n=Dr(e,xF),a=R.useContext(gi),i=P7(function(){return RF(a,n)},[a,n],function(s,o){return!r&&(s[0]!==o[0]||!dC(s[1],o[1]))});return R.createElement(gi.Provider,{value:i},t)}function gC(e,t,r,n){var a=R.useContext(gi),i=a.activeKey,s=a.onActive,o=a.onInactive,f={active:i===e};return t||(f.onMouseEnter=function(u){r==null||r({key:e,domEvent:u}),s(e)},f.onMouseLeave=function(u){n==null||n({key:e,domEvent:u}),o(e)}),f}var DF=["item"];function bp(e){var t=e.item,r=Dr(e,DF);return Object.defineProperty(r,"item",{get:function(){return s4(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),r}function yC(e){var t=e.icon,r=e.props,n=e.children,a;return typeof t=="function"?a=R.createElement(t,Xe({},r)):a=t,a||n||null}function _C(e){var t=R.useContext(gi),r=t.mode,n=t.rtl,a=t.inlineIndent;if(r!=="inline")return null;var i=e;return n?{paddingRight:i*a}:{paddingLeft:i*a}}var MF=[],TC=R.createContext(null);function Sm(){return R.useContext(TC)}var EC=R.createContext(MF);function fh(e){var t=R.useContext(EC);return R.useMemo(function(){return e!==void 0?[].concat(zt(t),[e]):t},[t,e])}var SC=R.createContext(null),AC=R.createContext(null);function Q_(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function wC(e){var t=R.useContext(AC);return Q_(t,e)}var Z_=R.createContext({}),LF=["title","attribute","elementRef"],kF=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],BF=["active"],FF=function(e){rh(r,e);var t=o4(r);function r(){return qr(this,r),t.apply(this,arguments)}return Vr(r,[{key:"render",value:function(){var a=this.props,i=a.title,s=a.attribute,o=a.elementRef,f=Dr(a,LF),u=bC(f,["eventKey"]);return s4(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),R.createElement(gs.Item,Wt({},s,{title:typeof i=="string"?i:void 0},u,{ref:o}))}}]),r}(R.Component),HF=function(t){var r,n=t.style,a=t.className,i=t.eventKey;t.warnKey;var s=t.disabled,o=t.itemIcon,f=t.children,u=t.role,c=t.onMouseEnter,l=t.onMouseLeave,d=t.onClick,h=t.onKeyDown,p=t.onFocus,m=Dr(t,kF),v=wC(i),b=R.useContext(gi),g=b.prefixCls,y=b.onItemClick,C=b.disabled,I=b.overflowDisabled,P=b.itemIcon,O=b.selectedKeys,N=b.onActive,S=R.useContext(Z_),D=S._internalRenderMenuItem,w="".concat(g,"-item"),T=R.useRef(),x=R.useRef(),_=C||s,M=fh(i),L=function(xe){return{key:i,keyPath:zt(M).reverse(),item:T.current,domEvent:xe}},F=o||P,G=gC(i,_,c,l),U=G.active,q=Dr(G,BF),V=O.includes(i),W=_C(M.length),Q=function(xe){if(!_){var We=L(xe);d==null||d(bp(We)),y(We)}},te=function(xe){if(h==null||h(xe),xe.which===Or.ENTER){var We=L(xe);d==null||d(bp(We)),y(We)}},pe=function(xe){N(i),p==null||p(xe)},be={};t.role==="option"&&(be["aria-selected"]=V);var Ie=R.createElement(FF,Wt({ref:T,elementRef:x,role:u===null?"none":u||"menuitem",tabIndex:s?null:-1,"data-menu-id":I&&v?null:v},m,q,be,{component:"li","aria-disabled":s,style:Xe(Xe({},W),n),className:Nt(w,(r={},ie(r,"".concat(w,"-active"),U),ie(r,"".concat(w,"-selected"),V),ie(r,"".concat(w,"-disabled"),_),r),a),onClick:Q,onKeyDown:te,onFocus:pe}),f,R.createElement(yC,{props:Xe(Xe({},t),{},{isSelected:V}),icon:F}));return D&&(Ie=D(Ie,t,{selected:V})),Ie};function Am(e){var t=e.eventKey,r=Sm(),n=fh(t);return R.useEffect(function(){if(r)return r.registerPath(t,n),function(){r.unregisterPath(t,n)}},[n]),r?null:R.createElement(HF,e)}var $F=["label","children","key","type"];function e2(e,t){return u4(e).map(function(r,n){if(R.isValidElement(r)){var a,i,s=r.key,o=(a=(i=r.props)===null||i===void 0?void 0:i.eventKey)!==null&&a!==void 0?a:s,f=o==null;f&&(o="tmp_key-".concat([].concat(zt(t),[n]).join("-")));var u={key:o,eventKey:o};return R.cloneElement(r,u)}return r})}function jy(e){return(e||[]).map(function(t,r){if(t&&Hi(t)==="object"){var n=t.label,a=t.children,i=t.key,s=t.type,o=Dr(t,$F),f=i??"tmp-".concat(r);return a||s==="group"?s==="group"?R.createElement(KC,Wt({key:f},o,{title:n}),jy(a)):R.createElement(o2,Wt({key:f},o,{title:n}),jy(a)):s==="divider"?R.createElement(WC,Wt({key:f},o)):R.createElement(Am,Wt({key:f},o),n)}return null}).filter(function(t){return t})}function UF(e,t,r){var n=e;return t&&(n=jy(t)),e2(n,r)}function Ac(e){var t=R.useRef(e);t.current=e;var r=R.useCallback(function(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(i))},[]);return e?r:void 0}var jF=["className","children"],GF=function(t,r){var n=t.className,a=t.children,i=Dr(t,jF),s=R.useContext(gi),o=s.prefixCls,f=s.mode,u=s.rtl;return R.createElement("ul",Wt({className:Nt(o,u&&"".concat(o,"-rtl"),"".concat(o,"-sub"),"".concat(o,"-").concat(f==="inline"?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:r}),a)},t2=R.forwardRef(GF);t2.displayName="SubMenuList";function KF(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function WF(e,t,r){var n=e[t]||{};return Xe(Xe({},n),r)}function qF(e,t,r,n){for(var a=r.points,i=Object.keys(e),s=0;s<i.length;s+=1){var o=i[s];if(KF(e[o].points,a,n))return"".concat(t,"-placement-").concat(o)}return""}function CC(e){var t=e.prefixCls,r=e.motion,n=e.animation,a=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:a?{motionName:a}:null)}function VF(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,a=e.mask,i=e.maskMotion,s=e.maskAnimation,o=e.maskTransitionName;if(!a)return null;var f={};return(i||o||s)&&(f=Xe({motionAppear:!0},CC({motion:i,prefixCls:t,transitionName:o,animation:s}))),R.createElement(im,Wt({},f,{visible:r,removeOnLeave:!0}),function(u){var c=u.className;return R.createElement("div",{style:{zIndex:n},className:Nt("".concat(t,"-mask"),c)})})}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){zF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gy(e){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}function zF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Al,YF={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function gp(){if(Al!==void 0)return Al;Al="";var e=document.createElement("p").style,t="Transform";for(var r in YF)r+t in e&&(Al=r);return Al}function IC(){return gp()?"".concat(gp(),"TransitionProperty"):"transitionProperty"}function wm(){return gp()?"".concat(gp(),"Transform"):"transform"}function FS(e,t){var r=IC();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function Nb(e,t){var r=wm();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function XF(e){return e.style.transitionProperty||e.style[IC()]}function JF(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(wm());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var QF=/matrix\((.*)\)/,ZF=/matrix3d\((.*)\)/;function eH(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(wm());if(n&&n!=="none"){var a,i=n.match(QF);if(i)i=i[1],a=i.split(",").map(function(o){return parseFloat(o,10)}),a[4]=t.x,a[5]=t.y,Nb(e,"matrix(".concat(a.join(","),")"));else{var s=n.match(ZF)[1];a=s.split(",").map(function(o){return parseFloat(o,10)}),a[12]=t.x,a[13]=t.y,Nb(e,"matrix3d(".concat(a.join(","),")"))}}else Nb(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var tH=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,lh;function HS(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function jc(e,t,r){var n=r;if(Gy(t)==="object"){for(var a in t)t.hasOwnProperty(a)&&jc(e,a,t[a]);return}if(typeof n<"u"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return lh(e,t)}function rH(e){var t,r,n,a=e.ownerDocument,i=a.body,s=a&&a.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=s.clientLeft||i.clientLeft||0,n-=s.clientTop||i.clientTop||0,{left:r,top:n}}function PC(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var a=e.document;r=a.documentElement[n],typeof r!="number"&&(r=a.body[n])}return r}function NC(e){return PC(e)}function OC(e){return PC(e,!0)}function _d(e){var t=rH(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=NC(n),t.top+=OC(n),t}function r2(e){return e!=null&&e==e.window}function xC(e){return r2(e)?e.document:e.nodeType===9?e:e.ownerDocument}function nH(e,t,r){var n=r,a="",i=xC(e);return n=n||i.defaultView.getComputedStyle(e,null),n&&(a=n.getPropertyValue(t)||n[t]),a}var aH=new RegExp("^(".concat(tH,")(?!px)[a-z%]+$"),"i"),iH=/^(top|right|bottom|left)$/,Ob="currentStyle",xb="runtimeStyle",No="left",sH="px";function oH(e,t){var r=e[Ob]&&e[Ob][t];if(aH.test(r)&&!iH.test(t)){var n=e.style,a=n[No],i=e[xb][No];e[xb][No]=e[Ob][No],n[No]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+sH,n[No]=a,e[xb][No]=i}return r===""?"auto":r}typeof window<"u"&&(lh=window.getComputedStyle?nH:oH);function a0(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function $S(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function US(e,t,r){jc(e,"position")==="static"&&(e.style.position="relative");var n=-999,a=-999,i=a0("left",r),s=a0("top",r),o=$S(i),f=$S(s);i!=="left"&&(n=999),s!=="top"&&(a=999);var u="",c=_d(e);("left"in t||"top"in t)&&(u=XF(e)||"",FS(e,"none")),"left"in t&&(e.style[o]="",e.style[i]="".concat(n,"px")),"top"in t&&(e.style[f]="",e.style[s]="".concat(a,"px")),HS(e);var l=_d(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=a0(h,r),m=h==="left"?n:a,v=c[h]-l[h];p===h?d[p]=m+v:d[p]=m-v}jc(e,d),HS(e),("left"in t||"top"in t)&&FS(e,u);var b={};for(var g in t)if(t.hasOwnProperty(g)){var y=a0(g,r),C=t[g]-c[g];g===y?b[y]=d[y]+C:b[y]=d[y]-C}jc(e,b)}function uH(e,t){var r=_d(e),n=JF(e),a={x:n.x,y:n.y};"left"in t&&(a.x=n.x+t.left-r.left),"top"in t&&(a.y=n.y+t.top-r.top),eH(e,a)}function cH(e,t,r){if(r.ignoreShake){var n=_d(e),a=n.left.toFixed(0),i=n.top.toFixed(0),s=t.left.toFixed(0),o=t.top.toFixed(0);if(a===s&&i===o)return}r.useCssRight||r.useCssBottom?US(e,t,r):r.useCssTransform&&wm()in document.body.style?uH(e,t):US(e,t,r)}function n2(e,t){for(var r=0;r<e.length;r++)t(e[r])}function RC(e){return lh(e,"boxSizing")==="border-box"}var fH=["margin","border","padding"],Ky=-1,lH=2,Wy=1,dH=0;function hH(e,t,r){var n={},a=e.style,i;for(i in t)t.hasOwnProperty(i)&&(n[i]=a[i],a[i]=t[i]);r.call(e);for(i in t)t.hasOwnProperty(i)&&(a[i]=n[i])}function Gl(e,t,r){var n=0,a,i,s;for(i=0;i<t.length;i++)if(a=t[i],a)for(s=0;s<r.length;s++){var o=void 0;a==="border"?o="".concat(a).concat(r[s],"Width"):o=a+r[s],n+=parseFloat(lh(e,o))||0}return n}var Bi={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};n2(["Width","Height"],function(e){Bi["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Bi["viewport".concat(e)](r))},Bi["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,a=n.body,i=n.documentElement,s=i[r];return n.compatMode==="CSS1Compat"&&s||a&&a[r]||s}});function jS(e,t,r){var n=r;if(r2(e))return t==="width"?Bi.viewportWidth(e):Bi.viewportHeight(e);if(e.nodeType===9)return t==="width"?Bi.docWidth(e):Bi.docHeight(e);var a=t==="width"?["Left","Right"]:["Top","Bottom"],i=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),s=RC(e),o=0;(i==null||i<=0)&&(i=void 0,o=lh(e,t),(o==null||Number(o)<0)&&(o=e.style[t]||0),o=Math.floor(parseFloat(o))||0),n===void 0&&(n=s?Wy:Ky);var f=i!==void 0||s,u=i||o;return n===Ky?f?u-Gl(e,["border","padding"],a):o:f?n===Wy?u:u+(n===lH?-Gl(e,["border"],a):Gl(e,["margin"],a)):o+Gl(e,fH.slice(n),a)}var pH={position:"absolute",visibility:"hidden",display:"block"};function GS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=t[0];return a.offsetWidth!==0?n=jS.apply(void 0,t):hH(a,pH,function(){n=jS.apply(void 0,t)}),n}n2(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Bi["outer".concat(t)]=function(n,a){return n&&GS(n,e,a?dH:Wy)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Bi[e]=function(n,a){var i=a;if(i!==void 0){if(n){var s=RC(n);return s&&(i+=Gl(n,["padding","border"],r)),jc(n,e,i)}return}return n&&GS(n,e,Ky)}});function DC(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Et={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:xC,offset:function(t,r,n){if(typeof r<"u")cH(t,r,n||{});else return _d(t)},isWindow:r2,each:n2,css:jc,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var a=t.overflow;if(a)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:DC,getWindowScrollLeft:function(t){return NC(t)},getWindowScrollTop:function(t){return OC(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Et.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};DC(Et,Bi);var Rb=Et.getParent;function qy(e){if(Et.isWindow(e)||e.nodeType===9)return null;var t=Et.getDocument(e),r=t.body,n,a=Et.css(e,"position"),i=a==="fixed"||a==="absolute";if(!i)return e.nodeName.toLowerCase()==="html"?null:Rb(e);for(n=Rb(e);n&&n!==r&&n.nodeType!==9;n=Rb(n))if(a=Et.css(n,"position"),a!=="static")return n;return null}var KS=Et.getParent;function mH(e){if(Et.isWindow(e)||e.nodeType===9)return!1;var t=Et.getDocument(e),r=t.body,n=null;for(n=KS(e);n&&n!==r&&n!==t;n=KS(n)){var a=Et.css(n,"position");if(a==="fixed")return!0}return!1}function a2(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=qy(e),a=Et.getDocument(e),i=a.defaultView||a.parentWindow,s=a.body,o=a.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==s&&n!==o&&Et.css(n,"overflow")!=="visible"){var f=Et.offset(n);f.left+=n.clientLeft,f.top+=n.clientTop,r.top=Math.max(r.top,f.top),r.right=Math.min(r.right,f.left+n.clientWidth),r.bottom=Math.min(r.bottom,f.top+n.clientHeight),r.left=Math.max(r.left,f.left)}else if(n===s||n===o)break;n=qy(n)}var u=null;if(!Et.isWindow(e)&&e.nodeType!==9){u=e.style.position;var c=Et.css(e,"position");c==="absolute"&&(e.style.position="fixed")}var l=Et.getWindowScrollLeft(i),d=Et.getWindowScrollTop(i),h=Et.viewportWidth(i),p=Et.viewportHeight(i),m=o.scrollWidth,v=o.scrollHeight,b=window.getComputedStyle(s);if(b.overflowX==="hidden"&&(m=i.innerWidth),b.overflowY==="hidden"&&(v=i.innerHeight),e.style&&(e.style.position=u),t||mH(e))r.left=Math.max(r.left,l),r.top=Math.max(r.top,d),r.right=Math.min(r.right,l+h),r.bottom=Math.min(r.bottom,d+p);else{var g=Math.max(m,l+h);r.right=Math.min(r.right,g);var y=Math.max(v,d+p);r.bottom=Math.min(r.bottom,y)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function vH(e,t,r,n){var a=Et.clone(e),i={width:t.width,height:t.height};return n.adjustX&&a.left<r.left&&(a.left=r.left),n.resizeWidth&&a.left>=r.left&&a.left+i.width>r.right&&(i.width-=a.left+i.width-r.right),n.adjustX&&a.left+i.width>r.right&&(a.left=Math.max(r.right-i.width,r.left)),n.adjustY&&a.top<r.top&&(a.top=r.top),n.resizeHeight&&a.top>=r.top&&a.top+i.height>r.bottom&&(i.height-=a.top+i.height-r.bottom),n.adjustY&&a.top+i.height>r.bottom&&(a.top=Math.max(r.bottom-i.height,r.top)),Et.mix(a,i)}function i2(e){var t,r,n;if(!Et.isWindow(e)&&e.nodeType!==9)t=Et.offset(e),r=Et.outerWidth(e),n=Et.outerHeight(e);else{var a=Et.getWindow(e);t={left:Et.getWindowScrollLeft(a),top:Et.getWindowScrollTop(a)},r=Et.viewportWidth(a),n=Et.viewportHeight(a)}return t.width=r,t.height=n,t}function WS(e,t){var r=t.charAt(0),n=t.charAt(1),a=e.width,i=e.height,s=e.left,o=e.top;return r==="c"?o+=i/2:r==="b"&&(o+=i),n==="c"?s+=a/2:n==="r"&&(s+=a),{left:s,top:o}}function i0(e,t,r,n,a){var i=WS(t,r[1]),s=WS(e,r[0]),o=[s.left-i.left,s.top-i.top];return{left:Math.round(e.left-o[0]+n[0]-a[0]),top:Math.round(e.top-o[1]+n[1]-a[1])}}function qS(e,t,r){return e.left<r.left||e.left+t.width>r.right}function VS(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function bH(e,t,r){return e.left>r.right||e.left+t.width<r.left}function gH(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function s0(e,t,r){var n=[];return Et.each(e,function(a){n.push(a.replace(t,function(i){return r[i]}))}),n}function o0(e,t){return e[t]=-e[t],e}function zS(e,t){var r;return/%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function YS(e,t){e[0]=zS(e[0],t.width),e[1]=zS(e[1],t.height)}function MC(e,t,r,n){var a=r.points,i=r.offset||[0,0],s=r.targetOffset||[0,0],o=r.overflow,f=r.source||e;i=[].concat(i),s=[].concat(s),o=o||{};var u={},c=0,l=!!(o&&o.alwaysByViewport),d=a2(f,l),h=i2(f);YS(i,h),YS(s,t);var p=i0(h,t,a,i,s),m=Et.merge(h,p);if(d&&(o.adjustX||o.adjustY)&&n){if(o.adjustX&&qS(p,h,d)){var v=s0(a,/[lr]/gi,{l:"r",r:"l"}),b=o0(i,0),g=o0(s,0),y=i0(h,t,v,b,g);bH(y,h,d)||(c=1,a=v,i=b,s=g)}if(o.adjustY&&VS(p,h,d)){var C=s0(a,/[tb]/gi,{t:"b",b:"t"}),I=o0(i,1),P=o0(s,1),O=i0(h,t,C,I,P);gH(O,h,d)||(c=1,a=C,i=I,s=P)}c&&(p=i0(h,t,a,i,s),Et.mix(m,p));var N=qS(p,h,d),S=VS(p,h,d);if(N||S){var D=a;N&&(D=s0(a,/[lr]/gi,{l:"r",r:"l"})),S&&(D=s0(a,/[tb]/gi,{t:"b",b:"t"})),a=D,i=r.offset||[0,0],s=r.targetOffset||[0,0]}u.adjustX=o.adjustX&&N,u.adjustY=o.adjustY&&S,(u.adjustX||u.adjustY)&&(m=vH(p,h,d,u))}return m.width!==h.width&&Et.css(f,"width",Et.width(f)+m.width-h.width),m.height!==h.height&&Et.css(f,"height",Et.height(f)+m.height-h.height),Et.offset(f,{left:m.left,top:m.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:a,offset:i,targetOffset:s,overflow:u}}function yH(e,t){var r=a2(e,t),n=i2(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function s2(e,t,r){var n=r.target||t,a=i2(n),i=!yH(n,r.overflow&&r.overflow.alwaysByViewport);return MC(e,a,r,i)}s2.__getOffsetParent=qy;s2.__getVisibleRectForElement=a2;function _H(e,t,r){var n,a,i=Et.getDocument(e),s=i.defaultView||i.parentWindow,o=Et.getWindowScrollLeft(s),f=Et.getWindowScrollTop(s),u=Et.viewportWidth(s),c=Et.viewportHeight(s);"pageX"in t?n=t.pageX:n=o+t.clientX,"pageY"in t?a=t.pageY:a=f+t.clientY;var l={left:n,top:a,width:0,height:0},d=n>=0&&n<=o+u&&a>=0&&a<=f+c,h=[r.points[0],"cc"];return MC(e,l,BS(BS({},r),{},{points:h}),d)}const TH=function(e,t){var r=J.useRef(!1),n=J.useRef(null);function a(){window.clearTimeout(n.current)}function i(s){if(a(),!r.current||s===!0){if(e(s)===!1)return;r.current=!0,n.current=window.setTimeout(function(){r.current=!1},t)}else n.current=window.setTimeout(function(){r.current=!1,i()},t)}return[i,function(){r.current=!1,a()}]};function EH(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function SH(e,t){e!==document.activeElement&&N0(t,e)&&typeof e.focus=="function"&&e.focus()}function XS(e,t){var r=null,n=null;function a(s){var o=Be(s,1),f=o[0].target;if(document.documentElement.contains(f)){var u=f.getBoundingClientRect(),c=u.width,l=u.height,d=Math.floor(c),h=Math.floor(l);(r!==d||n!==h)&&Promise.resolve().then(function(){t({width:d,height:h})}),r=d,n=h}}var i=new N7(a);return e&&i.observe(e),function(){i.disconnect()}}function JS(e){return typeof e!="function"?null:e()}function QS(e){return Hi(e)!=="object"||!e?null:e}var AH=function(t,r){var n=t.children,a=t.disabled,i=t.target,s=t.align,o=t.onAlign,f=t.monitorWindowResize,u=t.monitorBufferTime,c=u===void 0?0:u,l=J.useRef({}),d=J.useRef(),h=J.Children.only(n),p=J.useRef({});p.current.disabled=a,p.current.target=i,p.current.align=s,p.current.onAlign=o;var m=TH(function(){var w=p.current,T=w.disabled,x=w.target,_=w.align,M=w.onAlign,L=d.current;if(!T&&x&&L){var F,G=JS(x),U=QS(x);l.current.element=G,l.current.point=U,l.current.align=_;var q=document,V=q.activeElement;return G&&f4(G)?F=s2(L,G,_):U&&(F=_H(L,U,_)),SH(V,L),M&&F&&M(L,F),!0}return!1},c),v=Be(m,2),b=v[0],g=v[1],y=J.useState(),C=Be(y,2),I=C[0],P=C[1],O=J.useState(),N=Be(O,2),S=N[0],D=N[1];return np(function(){P(JS(i)),D(QS(i))}),J.useEffect(function(){(l.current.element!==I||!EH(l.current.point,S)||!O7(l.current.align,s))&&b()}),J.useEffect(function(){var w=XS(d.current,b);return w},[d.current]),J.useEffect(function(){var w=XS(I,b);return w},[I]),J.useEffect(function(){a?g():b()},[a]),J.useEffect(function(){if(f){var w=Hl(window,"resize",b);return w.remove}},[f]),J.useEffect(function(){return function(){g()}},[]),J.useImperativeHandle(r,function(){return{forceAlign:function(){return b(!0)}}}),J.isValidElement(h)&&(h=J.cloneElement(h,{ref:c4(h.ref,d)})),h},LC=J.forwardRef(AH);LC.displayName="Align";function Vy(){Vy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(L,F,G){L[F]=G.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function u(L,F,G){return Object.defineProperty(L,F,{value:G,enumerable:!0,configurable:!0,writable:!0}),L[F]}try{u({},"")}catch{u=function(G,U,q){return G[U]=q}}function c(L,F,G,U){var q=F&&F.prototype instanceof b?F:b,V=Object.create(q.prototype),W=new _(U||[]);return a(V,"_invoke",{value:D(L,G,W)}),V}function l(L,F,G){try{return{type:"normal",arg:L.call(F,G)}}catch(U){return{type:"throw",arg:U}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function b(){}function g(){}function y(){}var C={};u(C,s,function(){return this});var I=Object.getPrototypeOf,P=I&&I(I(M([])));P&&P!==r&&n.call(P,s)&&(C=P);var O=y.prototype=b.prototype=Object.create(C);function N(L){["next","throw","return"].forEach(function(F){u(L,F,function(G){return this._invoke(F,G)})})}function S(L,F){function G(q,V,W,Q){var te=l(L[q],L,V);if(te.type!=="throw"){var pe=te.arg,be=pe.value;return be&&Hi(be)=="object"&&n.call(be,"__await")?F.resolve(be.__await).then(function(Ie){G("next",Ie,W,Q)},function(Ie){G("throw",Ie,W,Q)}):F.resolve(be).then(function(Ie){pe.value=Ie,W(pe)},function(Ie){return G("throw",Ie,W,Q)})}Q(te.arg)}var U;a(this,"_invoke",{value:function(V,W){function Q(){return new F(function(te,pe){G(V,W,te,pe)})}return U=U?U.then(Q,Q):Q()}})}function D(L,F,G){var U=d;return function(q,V){if(U===p)throw new Error("Generator is already running");if(U===m){if(q==="throw")throw V;return{value:e,done:!0}}for(G.method=q,G.arg=V;;){var W=G.delegate;if(W){var Q=w(W,G);if(Q){if(Q===v)continue;return Q}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(U===d)throw U=m,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);U=p;var te=l(L,F,G);if(te.type==="normal"){if(U=G.done?m:h,te.arg===v)continue;return{value:te.arg,done:G.done}}te.type==="throw"&&(U=m,G.method="throw",G.arg=te.arg)}}}function w(L,F){var G=F.method,U=L.iterator[G];if(U===e)return F.delegate=null,G==="throw"&&L.iterator.return&&(F.method="return",F.arg=e,w(L,F),F.method==="throw")||G!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+G+"' method")),v;var q=l(U,L.iterator,F.arg);if(q.type==="throw")return F.method="throw",F.arg=q.arg,F.delegate=null,v;var V=q.arg;return V?V.done?(F[L.resultName]=V.value,F.next=L.nextLoc,F.method!=="return"&&(F.method="next",F.arg=e),F.delegate=null,v):V:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,v)}function T(L){var F={tryLoc:L[0]};1 in L&&(F.catchLoc=L[1]),2 in L&&(F.finallyLoc=L[2],F.afterLoc=L[3]),this.tryEntries.push(F)}function x(L){var F=L.completion||{};F.type="normal",delete F.arg,L.completion=F}function _(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(T,this),this.reset(!0)}function M(L){if(L||L===""){var F=L[s];if(F)return F.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var G=-1,U=function q(){for(;++G<L.length;)if(n.call(L,G))return q.value=L[G],q.done=!1,q;return q.value=e,q.done=!0,q};return U.next=U}}throw new TypeError(Hi(L)+" is not iterable")}return g.prototype=y,a(O,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,f,"GeneratorFunction"),t.isGeneratorFunction=function(L){var F=typeof L=="function"&&L.constructor;return!!F&&(F===g||(F.displayName||F.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,y):(L.__proto__=y,u(L,f,"GeneratorFunction")),L.prototype=Object.create(O),L},t.awrap=function(L){return{__await:L}},N(S.prototype),u(S.prototype,o,function(){return this}),t.AsyncIterator=S,t.async=function(L,F,G,U,q){q===void 0&&(q=Promise);var V=new S(c(L,F,G,U),q);return t.isGeneratorFunction(F)?V:V.next().then(function(W){return W.done?W.value:V.next()})},N(O),u(O,f,"Generator"),u(O,s,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(L){var F=Object(L),G=[];for(var U in F)G.push(U);return G.reverse(),function q(){for(;G.length;){var V=G.pop();if(V in F)return q.value=V,q.done=!1,q}return q.done=!0,q}},t.values=M,_.prototype={constructor:_,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!F)for(var G in this)G.charAt(0)==="t"&&n.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=e)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var G=this;function U(pe,be){return W.type="throw",W.arg=F,G.next=pe,be&&(G.method="next",G.arg=e),!!be}for(var q=this.tryEntries.length-1;q>=0;--q){var V=this.tryEntries[q],W=V.completion;if(V.tryLoc==="root")return U("end");if(V.tryLoc<=this.prev){var Q=n.call(V,"catchLoc"),te=n.call(V,"finallyLoc");if(Q&&te){if(this.prev<V.catchLoc)return U(V.catchLoc,!0);if(this.prev<V.finallyLoc)return U(V.finallyLoc)}else if(Q){if(this.prev<V.catchLoc)return U(V.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return U(V.finallyLoc)}}}},abrupt:function(F,G){for(var U=this.tryEntries.length-1;U>=0;--U){var q=this.tryEntries[U];if(q.tryLoc<=this.prev&&n.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var V=q;break}}V&&(F==="break"||F==="continue")&&V.tryLoc<=G&&G<=V.finallyLoc&&(V=null);var W=V?V.completion:{};return W.type=F,W.arg=G,V?(this.method="next",this.next=V.finallyLoc,v):this.complete(W)},complete:function(F,G){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&G&&(this.next=G),v},finish:function(F){for(var G=this.tryEntries.length-1;G>=0;--G){var U=this.tryEntries[G];if(U.finallyLoc===F)return this.complete(U.completion,U.afterLoc),x(U),v}},catch:function(F){for(var G=this.tryEntries.length-1;G>=0;--G){var U=this.tryEntries[G];if(U.tryLoc===F){var q=U.completion;if(q.type==="throw"){var V=q.arg;x(U)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(F,G,U){return this.delegate={iterator:M(F),resultName:G,nextLoc:U},this.method==="next"&&(this.arg=e),v}},t}function ZS(e,t,r,n,a,i,s){try{var o=e[i](s),f=o.value}catch(u){r(u);return}o.done?t(f):Promise.resolve(f).then(n,a)}function Ke(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(f){ZS(i,n,a,s,o,"next",f)}function o(f){ZS(i,n,a,s,o,"throw",f)}s(void 0)})}}var eA=["measure","alignPre","align",null,"motion"];const wH=function(e,t){var r=x7(null),n=Be(r,2),a=n[0],i=n[1],s=R.useRef();function o(c){i(c,!0)}function f(){en.cancel(s.current)}function u(c){f(),s.current=en(function(){o(function(l){switch(a){case"align":return"motion";case"motion":return"stable"}return l}),c==null||c()})}return R.useEffect(function(){o("measure")},[e]),R.useEffect(function(){switch(a){case"measure":t();break}a&&(s.current=en(Ke(Vy().mark(function c(){var l,d;return Vy().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:l=eA.indexOf(a),d=eA[l+1],d&&l!==-1&&o(d);case 3:case"end":return p.stop()}},c)}))))},[a]),R.useEffect(function(){return function(){f()}},[]),[a,u]},CH=function(e){var t=R.useState({width:0,height:0}),r=Be(t,2),n=r[0],a=r[1];function i(o){var f=o.offsetWidth,u=o.offsetHeight,c=o.getBoundingClientRect(),l=c.width,d=c.height;Math.abs(f-l)<1&&Math.abs(u-d)<1&&(f=l,u=d),a({width:f,height:u})}var s=R.useMemo(function(){var o={};if(e){var f=n.width,u=n.height;e.indexOf("height")!==-1&&u?o.height=u:e.indexOf("minHeight")!==-1&&u&&(o.minHeight=u),e.indexOf("width")!==-1&&f?o.width=f:e.indexOf("minWidth")!==-1&&f&&(o.minWidth=f)}return o},[e,n]);return[s,i]};var kC=R.forwardRef(function(e,t){var r=e.visible,n=e.prefixCls,a=e.className,i=e.style,s=e.children,o=e.zIndex,f=e.stretch,u=e.destroyPopupOnHide,c=e.forceRender,l=e.align,d=e.point,h=e.getRootDomNode,p=e.getClassNameFromAlign,m=e.onAlign,v=e.onMouseEnter,b=e.onMouseLeave,g=e.onMouseDown,y=e.onTouchStart,C=e.onClick,I=R.useRef(),P=R.useRef(),O=R.useState(),N=Be(O,2),S=N[0],D=N[1],w=CH(f),T=Be(w,2),x=T[0],_=T[1];function M(){f&&_(h())}var L=wH(r,M),F=Be(L,2),G=F[0],U=F[1],q=R.useState(0),V=Be(q,2),W=V[0],Q=V[1],te=R.useRef();np(function(){G==="alignPre"&&Q(0)},[G]);function pe(){return d||h}function be(){var Ye;(Ye=I.current)===null||Ye===void 0||Ye.forceAlign()}function Ie(Ye,lt){var st=p(lt);S!==st&&D(st),Q(function(it){return it+1}),G==="align"&&(m==null||m(Ye,lt))}np(function(){G==="align"&&(W<3?be():U(function(){var Ye;(Ye=te.current)===null||Ye===void 0||Ye.call(te)}))},[W]);var me=Xe({},CC(e));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(Ye){var lt=me[Ye];me[Ye]=function(st,it){return U(),lt==null?void 0:lt(st,it)}});function xe(){return new Promise(function(Ye){te.current=Ye})}R.useEffect(function(){!me.motionName&&G==="motion"&&U()},[me.motionName,G]),R.useImperativeHandle(t,function(){return{forceAlign:be,getElement:function(){return P.current}}});var We=Xe(Xe({},x),{},{zIndex:o,opacity:G==="motion"||G==="stable"||!r?void 0:0,pointerEvents:!r&&G!=="stable"?"none":void 0},i),qe=!0;l!=null&&l.points&&(G==="align"||G==="stable")&&(qe=!1);var $e=s;return R.Children.count(s)>1&&($e=R.createElement("div",{className:"".concat(n,"-content")},s)),R.createElement(im,Wt({visible:r,ref:P,leavedClassName:"".concat(n,"-hidden")},me,{onAppearPrepare:xe,onEnterPrepare:xe,removeOnLeave:u,forceRender:c}),function(Ye,lt){var st=Ye.className,it=Ye.style,Ce=Nt(n,a,S,st);return R.createElement(LC,{target:pe(),key:"popup",ref:I,monitorWindowResize:!0,disabled:qe,align:l,onAlign:Ie},R.createElement("div",{ref:lt,className:Ce,onMouseEnter:v,onMouseLeave:b,onMouseDownCapture:g,onTouchStartCapture:y,onClick:C,style:Xe(Xe({},it),We)},$e))})});kC.displayName="PopupInner";var BC=R.forwardRef(function(e,t){var r=e.prefixCls,n=e.visible,a=e.zIndex,i=e.children,s=e.mobile;s=s===void 0?{}:s;var o=s.popupClassName,f=s.popupStyle,u=s.popupMotion,c=u===void 0?{}:u,l=s.popupRender,d=e.onClick,h=R.useRef();R.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return h.current}}});var p=Xe({zIndex:a},f),m=i;return R.Children.count(i)>1&&(m=R.createElement("div",{className:"".concat(r,"-content")},i)),l&&(m=l(m)),R.createElement(im,Wt({visible:n,ref:h,removeOnLeave:!0},c),function(v,b){var g=v.className,y=v.style,C=Nt(r,o,g);return R.createElement("div",{ref:b,className:C,onClick:d,style:Xe(Xe({},y),p)},m)})});BC.displayName="MobilePopupInner";var IH=["visible","mobile"],FC=R.forwardRef(function(e,t){var r=e.visible,n=e.mobile,a=Dr(e,IH),i=R.useState(r),s=Be(i,2),o=s[0],f=s[1],u=R.useState(!1),c=Be(u,2),l=c[0],d=c[1],h=Xe(Xe({},a),{},{visible:o});R.useEffect(function(){f(r),r&&n&&d(B4())},[r,n]);var p=l?R.createElement(BC,Wt({},h,{mobile:n,ref:t})):R.createElement(kC,Wt({},h,{ref:t}));return R.createElement("div",null,R.createElement(VF,h),p)});FC.displayName="Popup";var tA=R.createContext(null);function Db(){}function PH(){return""}function NH(e){return e?e.ownerDocument:window.document}var OH=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function xH(e){var t=function(r){rh(a,r);var n=o4(a);function a(i){var s;qr(this,a),s=n.call(this,i),ie(At(s),"popupRef",R.createRef()),ie(At(s),"triggerRef",R.createRef()),ie(At(s),"portalContainer",void 0),ie(At(s),"attachId",void 0),ie(At(s),"clickOutsideHandler",void 0),ie(At(s),"touchOutsideHandler",void 0),ie(At(s),"contextMenuOutsideHandler1",void 0),ie(At(s),"contextMenuOutsideHandler2",void 0),ie(At(s),"mouseDownTimeout",void 0),ie(At(s),"focusTime",void 0),ie(At(s),"preClickTime",void 0),ie(At(s),"preTouchTime",void 0),ie(At(s),"delayTimer",void 0),ie(At(s),"hasPopupMouseDown",void 0),ie(At(s),"onMouseEnter",function(f){var u=s.props.mouseEnterDelay;s.fireEvents("onMouseEnter",f),s.delaySetPopupVisible(!0,u,u?null:f)}),ie(At(s),"onMouseMove",function(f){s.fireEvents("onMouseMove",f),s.setPoint(f)}),ie(At(s),"onMouseLeave",function(f){s.fireEvents("onMouseLeave",f),s.delaySetPopupVisible(!1,s.props.mouseLeaveDelay)}),ie(At(s),"onPopupMouseEnter",function(){s.clearDelayTimer()}),ie(At(s),"onPopupMouseLeave",function(f){var u;f.relatedTarget&&!f.relatedTarget.setTimeout&&N0((u=s.popupRef.current)===null||u===void 0?void 0:u.getElement(),f.relatedTarget)||s.delaySetPopupVisible(!1,s.props.mouseLeaveDelay)}),ie(At(s),"onFocus",function(f){s.fireEvents("onFocus",f),s.clearDelayTimer(),s.isFocusToShow()&&(s.focusTime=Date.now(),s.delaySetPopupVisible(!0,s.props.focusDelay))}),ie(At(s),"onMouseDown",function(f){s.fireEvents("onMouseDown",f),s.preClickTime=Date.now()}),ie(At(s),"onTouchStart",function(f){s.fireEvents("onTouchStart",f),s.preTouchTime=Date.now()}),ie(At(s),"onBlur",function(f){s.fireEvents("onBlur",f),s.clearDelayTimer(),s.isBlurToHide()&&s.delaySetPopupVisible(!1,s.props.blurDelay)}),ie(At(s),"onContextMenu",function(f){f.preventDefault(),s.fireEvents("onContextMenu",f),s.setPopupVisible(!0,f)}),ie(At(s),"onContextMenuClose",function(){s.isContextMenuToShow()&&s.close()}),ie(At(s),"onClick",function(f){if(s.fireEvents("onClick",f),s.focusTime){var u;if(s.preClickTime&&s.preTouchTime?u=Math.min(s.preClickTime,s.preTouchTime):s.preClickTime?u=s.preClickTime:s.preTouchTime&&(u=s.preTouchTime),Math.abs(u-s.focusTime)<20)return;s.focusTime=0}s.preClickTime=0,s.preTouchTime=0,s.isClickToShow()&&(s.isClickToHide()||s.isBlurToHide())&&f&&f.preventDefault&&f.preventDefault();var c=!s.state.popupVisible;(s.isClickToHide()&&!c||c&&s.isClickToShow())&&s.setPopupVisible(!s.state.popupVisible,f)}),ie(At(s),"onPopupMouseDown",function(){if(s.hasPopupMouseDown=!0,clearTimeout(s.mouseDownTimeout),s.mouseDownTimeout=window.setTimeout(function(){s.hasPopupMouseDown=!1},0),s.context){var f;(f=s.context).onPopupMouseDown.apply(f,arguments)}}),ie(At(s),"onDocumentClick",function(f){if(!(s.props.mask&&!s.props.maskClosable)){var u=f.target,c=s.getRootDomNode(),l=s.getPopupDomNode();(!N0(c,u)||s.isContextMenuOnly())&&!N0(l,u)&&!s.hasPopupMouseDown&&s.close()}}),ie(At(s),"getRootDomNode",function(){var f=s.props.getTriggerDOMNode;if(f)return f(s.triggerRef.current);try{var u=R7(s.triggerRef.current);if(u)return u}catch{}return X9.findDOMNode(At(s))}),ie(At(s),"getPopupClassNameFromAlign",function(f){var u=[],c=s.props,l=c.popupPlacement,d=c.builtinPlacements,h=c.prefixCls,p=c.alignPoint,m=c.getPopupClassNameFromAlign;return l&&d&&u.push(qF(d,h,f,p)),m&&u.push(m(f)),u.join(" ")}),ie(At(s),"getComponent",function(){var f=s.props,u=f.prefixCls,c=f.destroyPopupOnHide,l=f.popupClassName,d=f.onPopupAlign,h=f.popupMotion,p=f.popupAnimation,m=f.popupTransitionName,v=f.popupStyle,b=f.mask,g=f.maskAnimation,y=f.maskTransitionName,C=f.maskMotion,I=f.zIndex,P=f.popup,O=f.stretch,N=f.alignPoint,S=f.mobile,D=f.forceRender,w=f.onPopupClick,T=s.state,x=T.popupVisible,_=T.point,M=s.getPopupAlign(),L={};return s.isMouseEnterToShow()&&(L.onMouseEnter=s.onPopupMouseEnter),s.isMouseLeaveToHide()&&(L.onMouseLeave=s.onPopupMouseLeave),L.onMouseDown=s.onPopupMouseDown,L.onTouchStart=s.onPopupMouseDown,R.createElement(FC,Wt({prefixCls:u,destroyPopupOnHide:c,visible:x,point:N&&_,className:l,align:M,onAlign:d,animation:p,getClassNameFromAlign:s.getPopupClassNameFromAlign},L,{stretch:O,getRootDomNode:s.getRootDomNode,style:v,mask:b,zIndex:I,transitionName:m,maskAnimation:g,maskTransitionName:y,maskMotion:C,ref:s.popupRef,motion:h,mobile:S,forceRender:D,onClick:w}),typeof P=="function"?P():P)}),ie(At(s),"attachParent",function(f){en.cancel(s.attachId);var u=s.props,c=u.getPopupContainer,l=u.getDocument,d=s.getRootDomNode(),h;c?(d||c.length===0)&&(h=c(d)):h=l(s.getRootDomNode()).body,h?h.appendChild(f):s.attachId=en(function(){s.attachParent(f)})}),ie(At(s),"getContainer",function(){if(!s.portalContainer){var f=s.props.getDocument,u=f(s.getRootDomNode()).createElement("div");u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.width="100%",s.portalContainer=u}return s.attachParent(s.portalContainer),s.portalContainer}),ie(At(s),"setPoint",function(f){var u=s.props.alignPoint;!u||!f||s.setState({point:{pageX:f.pageX,pageY:f.pageY}})}),ie(At(s),"handlePortalUpdate",function(){s.state.prevPopupVisible!==s.state.popupVisible&&s.props.afterPopupVisibleChange(s.state.popupVisible)}),ie(At(s),"triggerContextValue",{onPopupMouseDown:s.onPopupMouseDown});var o;return"popupVisible"in i?o=!!i.popupVisible:o=!!i.defaultPopupVisible,s.state={prevPopupVisible:o,popupVisible:o},OH.forEach(function(f){s["fire".concat(f)]=function(u){s.fireEvents(f,u)}}),s}return Vr(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var s=this.props,o=this.state;if(o.popupVisible){var f;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(f=s.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Hl(f,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(f=f||s.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Hl(f,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(f=f||s.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Hl(f,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Hl(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),en.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var s;return((s=this.popupRef.current)===null||s===void 0?void 0:s.getElement())||null}},{key:"getPopupAlign",value:function(){var s=this.props,o=s.popupPlacement,f=s.popupAlign,u=s.builtinPlacements;return o&&u?WF(u,o,f):f}},{key:"setPopupVisible",value:function(s,o){var f=this.props.alignPoint,u=this.state.popupVisible;this.clearDelayTimer(),u!==s&&("popupVisible"in this.props||this.setState({popupVisible:s,prevPopupVisible:u}),this.props.onPopupVisibleChange(s)),f&&o&&s&&this.setPoint(o)}},{key:"delaySetPopupVisible",value:function(s,o,f){var u=this,c=o*1e3;if(this.clearDelayTimer(),c){var l=f?{pageX:f.pageX,pageY:f.pageY}:null;this.delayTimer=window.setTimeout(function(){u.setPopupVisible(s,l),u.clearDelayTimer()},c)}else this.setPopupVisible(s,f)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(s){var o=this.props.children.props,f=this.props;return o[s]&&f[s]?this["fire".concat(s)]:o[s]||f[s]}},{key:"isClickToShow",value:function(){var s=this.props,o=s.action,f=s.showAction;return o.indexOf("click")!==-1||f.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var s=this.props.action;return s==="contextMenu"||s.length===1&&s[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var s=this.props,o=s.action,f=s.showAction;return o.indexOf("contextMenu")!==-1||f.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var s=this.props,o=s.action,f=s.hideAction;return o.indexOf("click")!==-1||f.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var s=this.props,o=s.action,f=s.showAction;return o.indexOf("hover")!==-1||f.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var s=this.props,o=s.action,f=s.hideAction;return o.indexOf("hover")!==-1||f.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var s=this.props,o=s.action,f=s.showAction;return o.indexOf("focus")!==-1||f.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var s=this.props,o=s.action,f=s.hideAction;return o.indexOf("focus")!==-1||f.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var s;(s=this.popupRef.current)===null||s===void 0||s.forceAlign()}}},{key:"fireEvents",value:function(s,o){var f=this.props.children.props[s];f&&f(o);var u=this.props[s];u&&u(o)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var s=this.state.popupVisible,o=this.props,f=o.children,u=o.forceRender,c=o.alignPoint,l=o.className,d=o.autoDestroy,h=R.Children.only(f),p={key:"trigger"};this.isContextMenuToShow()?p.onContextMenu=this.onContextMenu:p.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(p.onClick=this.onClick,p.onMouseDown=this.onMouseDown,p.onTouchStart=this.onTouchStart):(p.onClick=this.createTwoChains("onClick"),p.onMouseDown=this.createTwoChains("onMouseDown"),p.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(p.onMouseEnter=this.onMouseEnter,c&&(p.onMouseMove=this.onMouseMove)):p.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?p.onMouseLeave=this.onMouseLeave:p.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(p.onFocus=this.onFocus,p.onBlur=this.onBlur):(p.onFocus=this.createTwoChains("onFocus"),p.onBlur=this.createTwoChains("onBlur"));var m=Nt(h&&h.props&&h.props.className,l);m&&(p.className=m);var v=Xe({},p);D7(h)&&(v.ref=c4(this.triggerRef,h.ref));var b=R.cloneElement(h,v),g;return(s||this.popupRef.current||u)&&(g=R.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!s&&d&&(g=null),R.createElement(tA.Provider,{value:this.triggerContextValue},b,g)}}],[{key:"getDerivedStateFromProps",value:function(s,o){var f=s.popupVisible,u={};return f!==void 0&&o.popupVisible!==f&&(u.popupVisible=f,u.prevPopupVisible=o.popupVisible),u}}]),a}(R.Component);return ie(t,"contextType",tA),ie(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:PH,getDocument:NH,onPopupVisibleChange:Db,afterPopupVisibleChange:Db,onPopupAlign:Db,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}const HC=xH(M7);var Vs={adjustX:1,adjustY:1},RH={topLeft:{points:["bl","tl"],overflow:Vs,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Vs,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Vs,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Vs,offset:[4,0]}},DH={topLeft:{points:["bl","tl"],overflow:Vs,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Vs,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Vs,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Vs,offset:[4,0]}};function $C(e,t,r){if(t)return t;if(r)return r[e]||r.other}var MH={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function LH(e){var t=e.prefixCls,r=e.visible,n=e.children,a=e.popup,i=e.popupClassName,s=e.popupOffset,o=e.disabled,f=e.mode,u=e.onVisibleChange,c=R.useContext(gi),l=c.getPopupContainer,d=c.rtl,h=c.subMenuOpenDelay,p=c.subMenuCloseDelay,m=c.builtinPlacements,v=c.triggerSubMenuAction,b=c.forceSubMenuRender,g=c.rootClassName,y=c.motion,C=c.defaultMotions,I=R.useState(!1),P=Be(I,2),O=P[0],N=P[1],S=d?Xe(Xe({},DH),m):Xe(Xe({},RH),m),D=MH[f],w=$C(f,y,C),T=Xe(Xe({},w),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),x=R.useRef();return R.useEffect(function(){return x.current=en(function(){N(r)}),function(){en.cancel(x.current)}},[r]),R.createElement(HC,{prefixCls:t,popupClassName:Nt("".concat(t,"-popup"),ie({},"".concat(t,"-rtl"),d),i,g),stretch:f==="horizontal"?"minWidth":null,getPopupContainer:l,builtinPlacements:S,popupPlacement:D,popupVisible:O,popup:a,popupAlign:s&&{offset:s},action:o?[]:[v],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:u,forceRender:b,popupMotion:T},n)}function kH(e){var t=e.id,r=e.open,n=e.keyPath,a=e.children,i="inline",s=R.useContext(gi),o=s.prefixCls,f=s.forceSubMenuRender,u=s.motion,c=s.defaultMotions,l=s.mode,d=R.useRef(!1);d.current=l===i;var h=R.useState(!d.current),p=Be(h,2),m=p[0],v=p[1],b=d.current?r:!1;R.useEffect(function(){d.current&&v(!1)},[l]);var g=Xe({},$C(i,u,c));n.length>1&&(g.motionAppear=!1);var y=g.onVisibleChanged;return g.onVisibleChanged=function(C){return!d.current&&!C&&v(!0),y==null?void 0:y(C)},m?null:R.createElement(yd,{mode:i,locked:!d.current},R.createElement(im,Wt({visible:b},g,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(o,"-hidden")}),function(C){var I=C.className,P=C.style;return R.createElement(t2,{id:t,className:I,style:P},a)}))}var BH=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],FH=["active"],HH=function(t){var r,n=t.style,a=t.className,i=t.title,s=t.eventKey;t.warnKey;var o=t.disabled,f=t.internalPopupClose,u=t.children,c=t.itemIcon,l=t.expandIcon,d=t.popupClassName,h=t.popupOffset,p=t.onClick,m=t.onMouseEnter,v=t.onMouseLeave,b=t.onTitleClick,g=t.onTitleMouseEnter,y=t.onTitleMouseLeave,C=Dr(t,BH),I=wC(s),P=R.useContext(gi),O=P.prefixCls,N=P.mode,S=P.openKeys,D=P.disabled,w=P.overflowDisabled,T=P.activeKey,x=P.selectedKeys,_=P.itemIcon,M=P.expandIcon,L=P.onItemClick,F=P.onOpenChange,G=P.onActive,U=R.useContext(Z_),q=U._internalRenderSubMenuItem,V=R.useContext(SC),W=V.isSubPathKey,Q=fh(),te="".concat(O,"-submenu"),pe=D||o,be=R.useRef(),Ie=R.useRef(),me=c||_,xe=l||M,We=S.includes(s),qe=!w&&We,$e=W(x,s),Ye=gC(s,pe,g,y),lt=Ye.active,st=Dr(Ye,FH),it=R.useState(!1),Ce=Be(it,2),De=Ce[0],Rt=Ce[1],Ft=function(ee){pe||Rt(ee)},Ue=function(ee){Ft(!0),m==null||m({key:s,domEvent:ee})},ct=function(ee){Ft(!1),v==null||v({key:s,domEvent:ee})},se=R.useMemo(function(){return lt||(N!=="inline"?De||W([T],s):!1)},[N,lt,T,De,s,W]),Ee=_C(Q.length),Se=function(ee){pe||(b==null||b({key:s,domEvent:ee}),N==="inline"&&F(s,!We))},Ne=Ac(function(Pe){p==null||p(bp(Pe)),L(Pe)}),Fe=function(ee){N!=="inline"&&F(s,ee)},Me=function(){G(s)},Je=I&&"".concat(I,"-popup"),Ct=R.createElement("div",Wt({role:"menuitem",style:Ee,className:"".concat(te,"-title"),tabIndex:pe?null:-1,ref:be,title:typeof i=="string"?i:null,"data-menu-id":w&&I?null:I,"aria-expanded":qe,"aria-haspopup":!0,"aria-controls":Je,"aria-disabled":pe,onClick:Se,onFocus:Me},st),i,R.createElement(yC,{icon:N!=="horizontal"?xe:null,props:Xe(Xe({},t),{},{isOpen:qe,isSubMenu:!0})},R.createElement("i",{className:"".concat(te,"-arrow")}))),j=R.useRef(N);if(N!=="inline"&&(j.current=Q.length>1?"vertical":N),!w){var he=j.current;Ct=R.createElement(LH,{mode:he,prefixCls:te,visible:!f&&qe&&N!=="inline",popupClassName:d,popupOffset:h,popup:R.createElement(yd,{mode:he==="horizontal"?"vertical":he},R.createElement(t2,{id:Je,ref:Ie},u)),disabled:pe,onVisibleChange:Fe},Ct)}var ye=R.createElement(gs.Item,Wt({role:"none"},C,{component:"li",style:n,className:Nt(te,"".concat(te,"-").concat(N),a,(r={},ie(r,"".concat(te,"-open"),qe),ie(r,"".concat(te,"-active"),se),ie(r,"".concat(te,"-selected"),$e),ie(r,"".concat(te,"-disabled"),pe),r)),onMouseEnter:Ue,onMouseLeave:ct}),Ct,!w&&R.createElement(kH,{id:Je,open:qe,keyPath:Q},u));return q&&(ye=q(ye,t,{selected:$e,active:se,open:qe,disabled:pe})),R.createElement(yd,{onItemClick:Ne,mode:N==="horizontal"?"vertical":N,itemIcon:me,expandIcon:xe},ye)};function o2(e){var t=e.eventKey,r=e.children,n=fh(t),a=e2(r,n),i=Sm();R.useEffect(function(){if(i)return i.registerPath(t,n),function(){i.unregisterPath(t,n)}},[n]);var s;return i?s=a:s=R.createElement(HH,e,a),R.createElement(EC.Provider,{value:n},s)}function rA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(f4(e)){var r=e.nodeName.toLowerCase(),n=["input","select","textarea","button"].includes(r)||e.isContentEditable||r==="a"&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),i=Number(a),s=null;return a&&!Number.isNaN(i)?s=i:n&&s===null&&(s=0),n&&e.disabled&&(s=null),s!==null&&(s>=0||t&&s<0)}return!1}function UC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=zt(e.querySelectorAll("*")).filter(function(n){return rA(n,t)});return rA(e,t)&&r.unshift(e),r}var zy=Or.LEFT,Yy=Or.RIGHT,Xy=Or.UP,M0=Or.DOWN,L0=Or.ENTER,jC=Or.ESC,wl=Or.HOME,Cl=Or.END,nA=[Xy,M0,zy,Yy];function $H(e,t,r,n){var a,i,s,o,f="prev",u="next",c="children",l="parent";if(e==="inline"&&n===L0)return{inlineTrigger:!0};var d=(a={},ie(a,Xy,f),ie(a,M0,u),a),h=(i={},ie(i,zy,r?u:f),ie(i,Yy,r?f:u),ie(i,M0,c),ie(i,L0,c),i),p=(s={},ie(s,Xy,f),ie(s,M0,u),ie(s,L0,c),ie(s,jC,l),ie(s,zy,r?c:l),ie(s,Yy,r?l:c),s),m={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p},v=(o=m["".concat(e).concat(t?"":"Sub")])===null||o===void 0?void 0:o[n];switch(v){case f:return{offset:-1,sibling:!0};case u:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}function UH(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function jH(e,t){for(var r=e||document.activeElement;r;){if(t.has(r))return r;r=r.parentElement}return null}function GC(e,t){var r=UC(e,!0);return r.filter(function(n){return t.has(n)})}function aA(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var a=GC(e,t),i=a.length,s=a.findIndex(function(o){return r===o});return n<0?s===-1?s=i-1:s-=1:n>0&&(s+=1),s=(s+i)%i,a[s]}function GH(e,t,r,n,a,i,s,o,f,u){var c=R.useRef(),l=R.useRef();l.current=t;var d=function(){en.cancel(c.current)};return R.useEffect(function(){return function(){d()}},[]),function(h){var p=h.which;if([].concat(nA,[L0,jC,wl,Cl]).includes(p)){var m,v,b,g=function(){m=new Set,v=new Map,b=new Map;var M=i();return M.forEach(function(L){var F=document.querySelector("[data-menu-id='".concat(Q_(n,L),"']"));F&&(m.add(F),b.set(F,L),v.set(L,F))}),m};g();var y=v.get(t),C=jH(y,m),I=b.get(C),P=$H(e,s(I,!0).length===1,r,p);if(!P&&p!==wl&&p!==Cl)return;(nA.includes(p)||[wl,Cl].includes(p))&&h.preventDefault();var O=function(M){if(M){var L=M,F=M.querySelector("a");F!=null&&F.getAttribute("href")&&(L=F);var G=b.get(M);o(G),d(),c.current=en(function(){l.current===G&&L.focus()})}};if([wl,Cl].includes(p)||P.sibling||!C){var N;!C||e==="inline"?N=a.current:N=UH(C);var S,D=GC(N,m);p===wl?S=D[0]:p===Cl?S=D[D.length-1]:S=aA(N,m,C,P.offset),O(S)}else if(P.inlineTrigger)f(I);else if(P.offset>0)f(I,!0),d(),c.current=en(function(){g();var _=C.getAttribute("aria-controls"),M=document.getElementById(_),L=aA(M,m);O(L)},5);else if(P.offset<0){var w=s(I,!0),T=w[w.length-2],x=v.get(T);f(T,!1),O(x)}}u==null||u(h)}}var KH=Math.random().toFixed(5).toString().slice(2),iA=0;function WH(e){var t=$c(e,{value:e}),r=Be(t,2),n=r[0],a=r[1];return R.useEffect(function(){iA+=1;var i="".concat(KH,"-").concat(iA);a("rc-menu-uuid-".concat(i))},[]),n}function qH(e){Promise.resolve().then(e)}var u2="__RC_UTIL_PATH_SPLIT__",sA=function(t){return t.join(u2)},VH=function(t){return t.split(u2)},Jy="rc-menu-more";function zH(){var e=R.useState({}),t=Be(e,2),r=t[1],n=R.useRef(new Map),a=R.useRef(new Map),i=R.useState([]),s=Be(i,2),o=s[0],f=s[1],u=R.useRef(0),c=R.useRef(!1),l=function(){c.current||r({})},d=R.useCallback(function(y,C){var I=sA(C);a.current.set(I,y),n.current.set(y,I),u.current+=1;var P=u.current;qH(function(){P===u.current&&l()})},[]),h=R.useCallback(function(y,C){var I=sA(C);a.current.delete(I),n.current.delete(y)},[]),p=R.useCallback(function(y){f(y)},[]),m=R.useCallback(function(y,C){var I=n.current.get(y)||"",P=VH(I);return C&&o.includes(P[0])&&P.unshift(Jy),P},[o]),v=R.useCallback(function(y,C){return y.some(function(I){var P=m(I,!0);return P.includes(C)})},[m]),b=function(){var C=zt(n.current.keys());return o.length&&C.push(Jy),C},g=R.useCallback(function(y){var C="".concat(n.current.get(y)).concat(u2),I=new Set;return zt(a.current.keys()).forEach(function(P){P.startsWith(C)&&I.add(a.current.get(P))}),I},[]);return R.useEffect(function(){return function(){c.current=!0}},[]),{registerPath:d,unregisterPath:h,refreshOverflowKeys:p,isSubPathKey:v,getKeyPath:m,getKeys:b,getSubPathKeys:g}}var YH=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],mc=[],XH=R.forwardRef(function(e,t){var r,n,a=e.prefixCls,i=a===void 0?"rc-menu":a,s=e.rootClassName,o=e.style,f=e.className,u=e.tabIndex,c=u===void 0?0:u,l=e.items,d=e.children,h=e.direction,p=e.id,m=e.mode,v=m===void 0?"vertical":m,b=e.inlineCollapsed,g=e.disabled,y=e.disabledOverflow,C=e.subMenuOpenDelay,I=C===void 0?.1:C,P=e.subMenuCloseDelay,O=P===void 0?.1:P,N=e.forceSubMenuRender,S=e.defaultOpenKeys,D=e.openKeys,w=e.activeKey,T=e.defaultActiveFirst,x=e.selectable,_=x===void 0?!0:x,M=e.multiple,L=M===void 0?!1:M,F=e.defaultSelectedKeys,G=e.selectedKeys,U=e.onSelect,q=e.onDeselect,V=e.inlineIndent,W=V===void 0?24:V,Q=e.motion,te=e.defaultMotions,pe=e.triggerSubMenuAction,be=pe===void 0?"hover":pe,Ie=e.builtinPlacements,me=e.itemIcon,xe=e.expandIcon,We=e.overflowedIndicator,qe=We===void 0?"...":We,$e=e.overflowedIndicatorPopupClassName,Ye=e.getPopupContainer,lt=e.onClick,st=e.onOpenChange,it=e.onKeyDown;e.openAnimation,e.openTransitionName;var Ce=e._internalRenderMenuItem,De=e._internalRenderSubMenuItem,Rt=Dr(e,YH),Ft=R.useMemo(function(){return UF(d,l,mc)},[d,l]),Ue=R.useState(!1),ct=Be(Ue,2),se=ct[0],Ee=ct[1],Se=R.useRef(),Ne=WH(p),Fe=h==="rtl",Me=R.useMemo(function(){return(v==="inline"||v==="vertical")&&b?["vertical",b]:[v,!1]},[v,b]),Je=Be(Me,2),Ct=Je[0],j=Je[1],he=R.useState(0),ye=Be(he,2),Pe=ye[0],ee=ye[1],le=Pe>=Ft.length-1||Ct!=="horizontal"||y,k=$c(S,{value:D,postState:function(jt){return jt||mc}}),_e=Be(k,2),Le=_e[0],E=_e[1],ue=function(jt){E(jt),st==null||st(jt)},ce=R.useState(Le),B=Be(ce,2),X=B[0],oe=B[1],Re=Ct==="inline",ve=R.useRef(!1);R.useEffect(function(){Re&&oe(Le)},[Le]),R.useEffect(function(){ve.current&&(Re?E(X):ue(mc))},[Re]),R.useEffect(function(){return ve.current=!0,function(){ve.current=!1}},[]);var Te=zH(),Ve=Te.registerPath,Dt=Te.unregisterPath,Mt=Te.refreshOverflowKeys,It=Te.isSubPathKey,rr=Te.getKeyPath,yr=Te.getKeys,Mr=Te.getSubPathKeys,_r=R.useMemo(function(){return{registerPath:Ve,unregisterPath:Dt}},[Ve,Dt]),si=R.useMemo(function(){return{isSubPathKey:It}},[It]);R.useEffect(function(){Mt(le?mc:Ft.slice(Pe+1).map(function(er){return er.key}))},[Pe,le]);var Zt=$c(w||T&&((r=Ft[0])===null||r===void 0?void 0:r.key),{value:w}),Lr=Be(Zt,2),Gt=Lr[0],Hr=Lr[1],vr=Ac(function(er){Hr(er)}),zi=Ac(function(){Hr(void 0)});R.useImperativeHandle(t,function(){return{list:Se.current,focus:function(jt){var Jt,$r=Gt??((Jt=Ft.find(function(eb){return!eb.props.disabled}))===null||Jt===void 0?void 0:Jt.key);if($r){var Hn,Xi,Ao;(Hn=Se.current)===null||Hn===void 0||(Xi=Hn.querySelector("li[data-menu-id='".concat(Q_(Ne,$r),"']")))===null||Xi===void 0||(Ao=Xi.focus)===null||Ao===void 0||Ao.call(Xi,jt)}}}});var fc=$c(F||[],{value:G,postState:function(jt){return Array.isArray(jt)?jt:jt==null?mc:[jt]}}),Ht=Be(fc,2),Ot=Ht[0],br=Ht[1],_n=function(jt){if(_){var Jt=jt.key,$r=Ot.includes(Jt),Hn;L?$r?Hn=Ot.filter(function(Ao){return Ao!==Jt}):Hn=[].concat(zt(Ot),[Jt]):Hn=[Jt],br(Hn);var Xi=Xe(Xe({},jt),{},{selectedKeys:Hn});$r?q==null||q(Xi):U==null||U(Xi)}!L&&Le.length&&Ct!=="inline"&&ue(mc)},da=Ac(function(er){lt==null||lt(bp(er)),_n(er)}),Ei=Ac(function(er,jt){var Jt=Le.filter(function(Hn){return Hn!==er});if(jt)Jt.push(er);else if(Ct!=="inline"){var $r=Mr(er);Jt=Jt.filter(function(Hn){return!$r.has(Hn)})}dC(Le,Jt)||ue(Jt)}),Si=Ac(Ye),So=function(jt,Jt){var $r=Jt??!Le.includes(jt);Ei(jt,$r)},lc=GH(Ct,Gt,Fe,Ne,Se,yr,rr,Hr,So,it);R.useEffect(function(){Ee(!0)},[]);var Yi=R.useMemo(function(){return{_internalRenderMenuItem:Ce,_internalRenderSubMenuItem:De}},[Ce,De]),dc=Ct!=="horizontal"||y?Ft:Ft.map(function(er,jt){return R.createElement(yd,{key:er.key,overflowDisabled:jt>Pe},er)}),yl=R.createElement(gs,Wt({id:p,ref:Se,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:Am,className:Nt(i,"".concat(i,"-root"),"".concat(i,"-").concat(Ct),f,(n={},ie(n,"".concat(i,"-inline-collapsed"),j),ie(n,"".concat(i,"-rtl"),Fe),n),s),dir:h,style:o,role:"menu",tabIndex:c,data:dc,renderRawItem:function(jt){return jt},renderRawRest:function(jt){var Jt=jt.length,$r=Jt?Ft.slice(-Jt):null;return R.createElement(o2,{eventKey:Jy,title:qe,disabled:le,internalPopupClose:Jt===0,popupClassName:$e},$r)},maxCount:Ct!=="horizontal"||y?gs.INVALIDATE:gs.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(jt){ee(jt)},onKeyDown:lc},Rt));return R.createElement(Z_.Provider,{value:Yi},R.createElement(AC.Provider,{value:Ne},R.createElement(yd,{prefixCls:i,rootClassName:s,mode:Ct,openKeys:Le,rtl:Fe,disabled:g,motion:se?Q:null,defaultMotions:se?te:null,activeKey:Gt,onActive:vr,onInactive:zi,selectedKeys:Ot,inlineIndent:W,subMenuOpenDelay:I,subMenuCloseDelay:O,forceSubMenuRender:N,builtinPlacements:Ie,triggerSubMenuAction:be,getPopupContainer:Si,itemIcon:me,expandIcon:xe,onItemClick:da,onOpenChange:Ei},R.createElement(SC.Provider,{value:si},yl),R.createElement("div",{style:{display:"none"},"aria-hidden":!0},R.createElement(TC.Provider,{value:_r},Ft)))))}),JH=["className","title","eventKey","children"],QH=["children"],ZH=function(t){var r=t.className,n=t.title;t.eventKey;var a=t.children,i=Dr(t,JH),s=R.useContext(gi),o=s.prefixCls,f="".concat(o,"-item-group");return R.createElement("li",Wt({},i,{onClick:function(c){return c.stopPropagation()},className:Nt(f,r)}),R.createElement("div",{className:"".concat(f,"-title"),title:typeof n=="string"?n:void 0},n),R.createElement("ul",{className:"".concat(f,"-list")},a))};function KC(e){var t=e.children,r=Dr(e,QH),n=fh(r.eventKey),a=e2(t,n),i=Sm();return i?a:R.createElement(ZH,bC(r,["warnKey"]),a)}function WC(e){var t=e.className,r=e.style,n=R.useContext(gi),a=n.prefixCls,i=Sm();return i?null:R.createElement("li",{className:Nt("".concat(a,"-item-divider"),t),style:r})}var dh=XH;dh.Item=Am;dh.SubMenu=o2;dh.ItemGroup=KC;dh.Divider=WC;var vc={adjustX:1,adjustY:1},bc=[0,0],e$={topLeft:{points:["bl","tl"],overflow:vc,offset:[0,-4],targetOffset:bc},topCenter:{points:["bc","tc"],overflow:vc,offset:[0,-4],targetOffset:bc},topRight:{points:["br","tr"],overflow:vc,offset:[0,-4],targetOffset:bc},bottomLeft:{points:["tl","bl"],overflow:vc,offset:[0,4],targetOffset:bc},bottomCenter:{points:["tc","bc"],overflow:vc,offset:[0,4],targetOffset:bc},bottomRight:{points:["tr","br"],overflow:vc,offset:[0,4],targetOffset:bc}},t$=Or.ESC,r$=Or.TAB;function n$(e){var t=e.visible,r=e.setTriggerVisible,n=e.triggerRef,a=e.onVisibleChange,i=e.autoFocus,s=R.useRef(!1),o=function(){if(t&&n.current){var l,d,h,p;(l=n.current)===null||l===void 0||(d=l.triggerRef)===null||d===void 0||(h=d.current)===null||h===void 0||(p=h.focus)===null||p===void 0||p.call(h),r(!1),typeof a=="function"&&a(!1)}},f=function(){var l,d,h,p,m=UC((l=n.current)===null||l===void 0||(d=l.popupRef)===null||d===void 0||(h=d.current)===null||h===void 0||(p=h.getElement)===null||p===void 0?void 0:p.call(h)),v=m[0];return v!=null&&v.focus?(v.focus(),s.current=!0,!0):!1},u=function(l){switch(l.keyCode){case t$:o();break;case r$:{var d=!1;s.current||(d=f()),d?l.preventDefault():o();break}}};R.useEffect(function(){return t?(window.addEventListener("keydown",u),i&&en(f,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}},[t])}var a$=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function i$(e,t){var r=e.arrow,n=r===void 0?!1:r,a=e.prefixCls,i=a===void 0?"rc-dropdown":a,s=e.transitionName,o=e.animation,f=e.align,u=e.placement,c=u===void 0?"bottomLeft":u,l=e.placements,d=l===void 0?e$:l,h=e.getPopupContainer,p=e.showAction,m=e.hideAction,v=e.overlayClassName,b=e.overlayStyle,g=e.visible,y=e.trigger,C=y===void 0?["hover"]:y,I=e.autoFocus,P=Dr(e,a$),O=R.useState(),N=Be(O,2),S=N[0],D=N[1],w="visible"in e?g:S,T=R.useRef(null);R.useImperativeHandle(t,function(){return T.current}),n$({visible:w,setTriggerVisible:D,triggerRef:T,onVisibleChange:e.onVisibleChange,autoFocus:I});var x=function(){var Q=e.overlay,te;return typeof Q=="function"?te=Q():te=Q,te},_=function(Q){var te=e.onOverlayClick;D(!1),te&&te(Q)},M=function(Q){var te=e.onVisibleChange;D(Q),typeof te=="function"&&te(Q)},L=function(){var Q=x();return R.createElement(R.Fragment,null,n&&R.createElement("div",{className:"".concat(i,"-arrow")}),Q)},F=function(){var Q=e.overlay;return typeof Q=="function"?L:L()},G=function(){var Q=e.minOverlayWidthMatchTrigger,te=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?Q:!te},U=function(){var Q=e.openClassName;return Q!==void 0?Q:"".concat(i,"-open")},q=function(){var Q=e.children,te=Q.props?Q.props:{},pe=Nt(te.className,U());return w&&Q?R.cloneElement(Q,{className:pe}):Q},V=m;return!V&&C.indexOf("contextMenu")!==-1&&(V=["click"]),R.createElement(HC,Xe(Xe({builtinPlacements:d},P),{},{prefixCls:i,ref:T,popupClassName:Nt(v,ie({},"".concat(i,"-show-arrow"),n)),popupStyle:b,action:C,showAction:p,hideAction:V||[],popupPlacement:c,popupAlign:f,popupTransitionName:s,popupAnimation:o,popupVisible:w,stretch:G()?"minWidth":"",popup:F(),onPopupVisibleChange:M,onPopupClick:_,getPopupContainer:h}),q())}const s$=R.forwardRef(i$);function o$(e,t){var r=e.prefixCls,n=e.editable,a=e.locale,i=e.style;return!n||n.showAdd===!1?null:R.createElement("button",{ref:t,type:"button",className:"".concat(r,"-nav-add"),style:i,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:function(o){n.onEdit("add",{event:o})}},n.addIcon||"+")}const qC=R.forwardRef(o$);function u$(e,t){var r=e.prefixCls,n=e.id,a=e.tabs,i=e.locale,s=e.mobile,o=e.moreIcon,f=o===void 0?"More":o,u=e.moreTransitionName,c=e.style,l=e.className,d=e.editable,h=e.tabBarGutter,p=e.rtl,m=e.removeAriaLabel,v=e.onTabClick,b=e.popupClassName,g=R.useState(!1),y=Be(g,2),C=y[0],I=y[1],P=R.useState(null),O=Be(P,2),N=O[0],S=O[1],D="".concat(n,"-more-popup"),w="".concat(r,"-dropdown"),T=N!==null?"".concat(D,"-").concat(N):null,x=i==null?void 0:i.dropdownAriaLabel;function _(V,W){V.preventDefault(),V.stopPropagation(),d.onEdit("remove",{key:W,event:V})}var M=R.createElement(dh,{onClick:function(W){var Q=W.key,te=W.domEvent;v(Q,te),I(!1)},prefixCls:"".concat(w,"-menu"),id:D,tabIndex:-1,role:"listbox","aria-activedescendant":T,selectedKeys:[N],"aria-label":x!==void 0?x:"expanded dropdown"},a.map(function(V){var W=d&&V.closable!==!1&&!V.disabled;return R.createElement(Am,{key:V.key,id:"".concat(D,"-").concat(V.key),role:"option","aria-controls":n&&"".concat(n,"-panel-").concat(V.key),disabled:V.disabled},R.createElement("span",null,V.tab),W&&R.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(w,"-menu-item-remove"),onClick:function(te){te.stopPropagation(),_(te,V.key)}},V.closeIcon||d.removeIcon||""))}));function L(V){for(var W=a.filter(function(Ie){return!Ie.disabled}),Q=W.findIndex(function(Ie){return Ie.key===N})||0,te=W.length,pe=0;pe<te;pe+=1){Q=(Q+V+te)%te;var be=W[Q];if(!be.disabled){S(be.key);return}}}function F(V){var W=V.which;if(!C){[Or.DOWN,Or.SPACE,Or.ENTER].includes(W)&&(I(!0),V.preventDefault());return}switch(W){case Or.UP:L(-1),V.preventDefault();break;case Or.DOWN:L(1),V.preventDefault();break;case Or.ESC:I(!1);break;case Or.SPACE:case Or.ENTER:N!==null&&v(N,V);break}}R.useEffect(function(){var V=document.getElementById(T);V&&V.scrollIntoView&&V.scrollIntoView(!1)},[N]),R.useEffect(function(){C||S(null)},[C]);var G=ie({},p?"marginRight":"marginLeft",h);a.length||(G.visibility="hidden",G.order=1);var U=Nt(ie({},"".concat(w,"-rtl"),p)),q=s?null:R.createElement(s$,{prefixCls:w,overlay:M,trigger:["hover"],visible:C,transitionName:u,onVisibleChange:I,overlayClassName:Nt(U,b),mouseEnterDelay:.1,mouseLeaveDelay:.1},R.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:G,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":D,id:"".concat(n,"-more"),"aria-expanded":C,onKeyDown:F},f));return R.createElement("div",{className:Nt("".concat(r,"-nav-operations"),l),style:c,ref:t},q,R.createElement(qC,{prefixCls:r,locale:i,editable:d}))}const c$=R.memo(R.forwardRef(u$),function(e,t){return t.tabMoving}),c2=R.createContext(null);var f$=.1,oA=.01,k0=20,uA=Math.pow(.995,k0);function l$(e,t){var r=R.useState(),n=Be(r,2),a=n[0],i=n[1],s=R.useState(0),o=Be(s,2),f=o[0],u=o[1],c=R.useState(0),l=Be(c,2),d=l[0],h=l[1],p=R.useState(),m=Be(p,2),v=m[0],b=m[1],g=R.useRef();function y(S){var D=S.touches[0],w=D.screenX,T=D.screenY;i({x:w,y:T}),window.clearInterval(g.current)}function C(S){if(a){S.preventDefault();var D=S.touches[0],w=D.screenX,T=D.screenY;i({x:w,y:T});var x=w-a.x,_=T-a.y;t(x,_);var M=Date.now();u(M),h(M-f),b({x,y:_})}}function I(){if(a&&(i(null),b(null),v)){var S=v.x/d,D=v.y/d,w=Math.abs(S),T=Math.abs(D);if(Math.max(w,T)<f$)return;var x=S,_=D;g.current=window.setInterval(function(){if(Math.abs(x)<oA&&Math.abs(_)<oA){window.clearInterval(g.current);return}x*=uA,_*=uA,t(x*k0,_*k0)},k0)}}var P=R.useRef();function O(S){var D=S.deltaX,w=S.deltaY,T=0,x=Math.abs(D),_=Math.abs(w);x===_?T=P.current==="x"?D:w:x>_?(T=D,P.current="x"):(T=w,P.current="y"),t(-T,-T)&&S.preventDefault()}var N=R.useRef(null);N.current={onTouchStart:y,onTouchMove:C,onTouchEnd:I,onWheel:O},R.useEffect(function(){function S(x){N.current.onTouchStart(x)}function D(x){N.current.onTouchMove(x)}function w(x){N.current.onTouchEnd(x)}function T(x){N.current.onWheel(x)}return document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",w,{passive:!1}),e.current.addEventListener("touchstart",S,{passive:!1}),e.current.addEventListener("wheel",T),function(){document.removeEventListener("touchmove",D),document.removeEventListener("touchend",w)}},[])}function d$(){var e=R.useRef(new Map);function t(n){return e.current.has(n)||e.current.set(n,R.createRef()),e.current.get(n)}function r(n){e.current.delete(n)}return[t,r]}function cA(e,t){var r=R.useRef(e),n=R.useState({}),a=Be(n,2),i=a[1];function s(o){var f=typeof o=="function"?o(r.current):o;f!==r.current&&t(f,r.current),r.current=f,i({})}return[r.current,s]}var fA=function(t){var r=t.position,n=t.prefixCls,a=t.extra;if(!a)return null;var i,s={};return a&&Hi(a)==="object"&&!R.isValidElement(a)?s=a:s.right=a,r==="right"&&(i=s.right),r==="left"&&(i=s.left),i?R.createElement("div",{className:"".concat(n,"-extra-content")},i):null};function h$(e,t){var r,n=R.useContext(c2),a=n.prefixCls,i=n.tabs,s=e.className,o=e.style,f=e.id,u=e.animated,c=e.activeKey,l=e.rtl,d=e.extra,h=e.editable,p=e.locale,m=e.tabPosition,v=e.tabBarGutter,b=e.children,g=e.onTabClick,y=e.onTabScroll,C=R.useRef(),I=R.useRef(),P=R.useRef(),O=R.useRef(),N=d$(),S=Be(N,2),D=S[0],w=S[1],T=m==="top"||m==="bottom",x=cA(0,function(Ht,Ot){T&&y&&y({direction:Ht>Ot?"left":"right"})}),_=Be(x,2),M=_[0],L=_[1],F=cA(0,function(Ht,Ot){!T&&y&&y({direction:Ht>Ot?"top":"bottom"})}),G=Be(F,2),U=G[0],q=G[1],V=R.useState(0),W=Be(V,2),Q=W[0],te=W[1],pe=R.useState(0),be=Be(pe,2),Ie=be[0],me=be[1],xe=R.useState(null),We=Be(xe,2),qe=We[0],$e=We[1],Ye=R.useState(null),lt=Be(Ye,2),st=lt[0],it=lt[1],Ce=R.useState(0),De=Be(Ce,2),Rt=De[0],Ft=De[1],Ue=R.useState(0),ct=Be(Ue,2),se=ct[0],Ee=ct[1],Se=mF(new Map),Ne=Be(Se,2),Fe=Ne[0],Me=Ne[1],Je=gF(i,Fe,Q),Ct="".concat(a,"-nav-operations-hidden"),j=0,he=0;T?l?(j=0,he=Math.max(0,Q-qe)):(j=Math.min(0,qe-Q),he=0):(j=Math.min(0,st-Ie),he=0);function ye(Ht){return Ht<j?j:Ht>he?he:Ht}var Pe=R.useRef(),ee=R.useState(),le=Be(ee,2),k=le[0],_e=le[1];function Le(){_e(Date.now())}function E(){window.clearTimeout(Pe.current)}l$(C,function(Ht,Ot){function br(_n,da){_n(function(Ei){var Si=ye(Ei+da);return Si})}if(T){if(qe>=Q)return!1;br(L,Ht)}else{if(st>=Ie)return!1;br(q,Ot)}return E(),Le(),!0}),R.useEffect(function(){return E(),k&&(Pe.current=window.setTimeout(function(){_e(0)},100)),E},[k]);function ue(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c,Ot=Je.get(Ht)||{width:0,height:0,left:0,right:0,top:0};if(T){var br=M;l?Ot.right<M?br=Ot.right:Ot.right+Ot.width>M+qe&&(br=Ot.right+Ot.width-qe):Ot.left<-M?br=-Ot.left:Ot.left+Ot.width>-M+qe&&(br=-(Ot.left+Ot.width-qe)),q(0),L(ye(br))}else{var _n=U;Ot.top<-U?_n=-Ot.top:Ot.top+Ot.height>-U+st&&(_n=-(Ot.top+Ot.height-st)),L(0),q(ye(_n))}}var ce=yF(Je,{width:qe,height:st,left:M,top:U},{width:Q,height:Ie},{width:Rt,height:se},Xe(Xe({},e),{},{tabs:i})),B=Be(ce,2),X=B[0],oe=B[1],Re={};m==="top"||m==="bottom"?Re[l?"marginRight":"marginLeft"]=v:Re.marginTop=v;var ve=i.map(function(Ht,Ot){var br=Ht.key;return R.createElement(bF,{id:f,prefixCls:a,key:br,tab:Ht,style:Ot===0?void 0:Re,closable:Ht.closable,editable:h,active:br===c,renderWrapper:b,removeAriaLabel:p==null?void 0:p.removeAriaLabel,ref:D(br),onClick:function(da){g(br,da)},onRemove:function(){w(br)},onFocus:function(){ue(br),Le(),C.current&&(l||(C.current.scrollLeft=0),C.current.scrollTop=0)}})}),Te=hC(function(){var Ht,Ot,br,_n,da,Ei,Si=((Ht=C.current)===null||Ht===void 0?void 0:Ht.offsetWidth)||0,So=((Ot=C.current)===null||Ot===void 0?void 0:Ot.offsetHeight)||0,lc=((br=O.current)===null||br===void 0?void 0:br.offsetWidth)||0,Yi=((_n=O.current)===null||_n===void 0?void 0:_n.offsetHeight)||0;$e(Si),it(So),Ft(lc),Ee(Yi);var dc=(((da=I.current)===null||da===void 0?void 0:da.offsetWidth)||0)-lc,yl=(((Ei=I.current)===null||Ei===void 0?void 0:Ei.offsetHeight)||0)-Yi;te(dc),me(yl),Me(function(){var er=new Map;return i.forEach(function(jt){var Jt=jt.key,$r=D(Jt).current;$r&&er.set(Jt,{width:$r.offsetWidth,height:$r.offsetHeight,left:$r.offsetLeft,top:$r.offsetTop})}),er})}),Ve=i.slice(0,X),Dt=i.slice(oe+1),Mt=[].concat(zt(Ve),zt(Dt)),It=R.useState(),rr=Be(It,2),yr=rr[0],Mr=rr[1],_r=Je.get(c),si=R.useRef();function Zt(){en.cancel(si.current)}R.useEffect(function(){var Ht={};return _r&&(T?(l?Ht.right=_r.right:Ht.left=_r.left,Ht.width=_r.width):(Ht.top=_r.top,Ht.height=_r.height)),Zt(),si.current=en(function(){Mr(Ht)}),Zt},[_r,T,l]),R.useEffect(function(){ue()},[c,_r,Je,T]),R.useEffect(function(){Te()},[l,v,c,i.map(function(Ht){return Ht.key}).join("_")]);var Lr=!!Mt.length,Gt="".concat(a,"-nav-wrap"),Hr,vr,zi,fc;return T?l?(vr=M>0,Hr=M+qe<Q):(Hr=M<0,vr=-M+qe<Q):(zi=U<0,fc=-U+st<Ie),R.createElement("div",{ref:t,role:"tablist",className:Nt("".concat(a,"-nav"),s),style:o,onKeyDown:function(){Le()}},R.createElement(fA,{position:"left",extra:d,prefixCls:a}),R.createElement(rp,{onResize:Te},R.createElement("div",{className:Nt(Gt,(r={},ie(r,"".concat(Gt,"-ping-left"),Hr),ie(r,"".concat(Gt,"-ping-right"),vr),ie(r,"".concat(Gt,"-ping-top"),zi),ie(r,"".concat(Gt,"-ping-bottom"),fc),r)),ref:C},R.createElement(rp,{onResize:Te},R.createElement("div",{ref:I,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(M,"px, ").concat(U,"px)"),transition:k?"none":void 0}},ve,R.createElement(qC,{ref:O,prefixCls:a,locale:p,editable:h,style:Xe(Xe({},ve.length===0?void 0:Re),{},{visibility:Lr?"hidden":null})}),R.createElement("div",{className:Nt("".concat(a,"-ink-bar"),ie({},"".concat(a,"-ink-bar-animated"),u.inkBar)),style:yr}))))),R.createElement(c$,Wt({},e,{removeAriaLabel:p==null?void 0:p.removeAriaLabel,ref:P,prefixCls:a,tabs:Mt,className:!Lr&&Ct,tabMoving:!!k})),R.createElement(fA,{position:"right",extra:d,prefixCls:a}))}const lA=R.forwardRef(h$);function p$(e){var t=e.id,r=e.activeKey,n=e.animated,a=e.tabPosition,i=e.rtl,s=e.destroyInactiveTabPane,o=R.useContext(c2),f=o.prefixCls,u=o.tabs,c=n.tabPane,l=u.findIndex(function(d){return d.key===r});return R.createElement("div",{className:Nt("".concat(f,"-content-holder"))},R.createElement("div",{className:Nt("".concat(f,"-content"),"".concat(f,"-content-").concat(a),ie({},"".concat(f,"-content-animated"),c)),style:l&&c?ie({},i?"marginRight":"marginLeft","-".concat(l,"00%")):null},u.map(function(d){return R.cloneElement(d.node,{key:d.key,prefixCls:f,tabKey:d.key,id:t,animated:c,active:d.key===r,destroyInactiveTabPane:s})})))}function VC(e){var t=e.prefixCls,r=e.forceRender,n=e.className,a=e.style,i=e.id,s=e.active,o=e.animated,f=e.destroyInactiveTabPane,u=e.tabKey,c=e.children,l=R.useState(r),d=Be(l,2),h=d[0],p=d[1];R.useEffect(function(){s?p(!0):f&&p(!1)},[s,f]);var m={};return s||(o?(m.visibility="hidden",m.height=0,m.overflowY="hidden"):m.display="none"),R.createElement("div",{id:i&&"".concat(i,"-panel-").concat(u),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(u),"aria-hidden":!s,style:Xe(Xe({},m),a),className:Nt("".concat(t,"-tabpane"),s&&"".concat(t,"-tabpane-active"),n)},(s||h||r)&&c)}var m$=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","popupClassName"],dA=0;function v$(e){return u4(e).map(function(t){if(R.isValidElement(t)){var r=t.key!==void 0?String(t.key):void 0;return Xe(Xe({key:r},t.props),{},{node:t})}return null}).filter(function(t){return t})}function b$(e,t){var r,n=e.id,a=e.prefixCls,i=a===void 0?"rc-tabs":a,s=e.className,o=e.children,f=e.direction,u=e.activeKey,c=e.defaultActiveKey,l=e.editable,d=e.animated,h=d===void 0?{inkBar:!0,tabPane:!1}:d,p=e.tabPosition,m=p===void 0?"top":p,v=e.tabBarGutter,b=e.tabBarStyle,g=e.tabBarExtraContent,y=e.locale,C=e.moreIcon,I=e.moreTransitionName,P=e.destroyInactiveTabPane,O=e.renderTabBar,N=e.onChange,S=e.onTabClick,D=e.onTabScroll,w=e.popupClassName,T=Dr(e,m$),x=v$(o),_=f==="rtl",M;h===!1?M={inkBar:!1,tabPane:!1}:h===!0?M={inkBar:!0,tabPane:!0}:M=Xe({inkBar:!0,tabPane:!1},Hi(h)==="object"?h:{});var L=R.useState(!1),F=Be(L,2),G=F[0],U=F[1];R.useEffect(function(){U(B4())},[]);var q=$c(function(){var Ce;return(Ce=x[0])===null||Ce===void 0?void 0:Ce.key},{value:u,defaultValue:c}),V=Be(q,2),W=V[0],Q=V[1],te=R.useState(function(){return x.findIndex(function(Ce){return Ce.key===W})}),pe=Be(te,2),be=pe[0],Ie=pe[1];R.useEffect(function(){var Ce=x.findIndex(function(Rt){return Rt.key===W});if(Ce===-1){var De;Ce=Math.max(0,Math.min(be,x.length-1)),Q((De=x[Ce])===null||De===void 0?void 0:De.key)}Ie(Ce)},[x.map(function(Ce){return Ce.key}).join("_"),W,be]);var me=$c(null,{value:n}),xe=Be(me,2),We=xe[0],qe=xe[1],$e=m;G&&!["left","right"].includes(m)&&($e="top"),R.useEffect(function(){n||(qe("rc-tabs-".concat(dA)),dA+=1)},[]);function Ye(Ce,De){S==null||S(Ce,De);var Rt=Ce!==W;Q(Ce),Rt&&(N==null||N(Ce))}var lt={id:We,activeKey:W,animated:M,tabPosition:$e,rtl:_,mobile:G},st,it=Xe(Xe({},lt),{},{editable:l,locale:y,moreIcon:C,moreTransitionName:I,tabBarGutter:v,onTabClick:Ye,onTabScroll:D,extra:g,style:b,panes:o,popupClassName:w});return O?st=O(it,lA):st=R.createElement(lA,it),R.createElement(c2.Provider,{value:{tabs:x,prefixCls:i}},R.createElement("div",Wt({ref:t,id:n,className:Nt(i,"".concat(i,"-").concat($e),(r={},ie(r,"".concat(i,"-mobile"),G),ie(r,"".concat(i,"-editable"),l),ie(r,"".concat(i,"-rtl"),_),r),s)},T),st,R.createElement(p$,Wt({destroyInactiveTabPane:P},lt,{animated:M}))))}var zC=R.forwardRef(b$);zC.TabPane=VC;var va={tabs:"tabs-module_tabs__UMeM9",underline:"tabs-module_underline__qEJfO",pill:"tabs-module_pill__q-aBj",horizontal:"tabs-module_horizontal__BEa1a",top:"tabs-module_top__Q00Kf",bottom:"tabs-module_bottom__vCzRk",vertical:"tabs-module_vertical__knHVr",left:"tabs-module_left__4oXvX",right:"tabs-module_right__Pab0Y",fullWidth:"tabs-module_fullWidth__12LkV",default:"tabs-module_default__ZTiTp",primary:"tabs-module_primary__iGc9C",info:"tabs-module_info__NImFK",danger:"tabs-module_danger__R8JeO",success:"tabs-module_success__cupuG",secondary:"tabs-module_secondary__qlHsL"},g$=["className"],y$=["className","intent","variant","tabPosition","fullWidth"],Qy;(function(e){e.Underline="underline",e.Pill="pill"})(Qy||(Qy={}));var _$=function(t){var r=t.className,n=Wi(t,g$);return J.createElement(VC,Nn({},n,{prefixCls:"dango-tabs",className:ft(va.tabpanel,r)}))},T$=function(t,r){var n=t.className,a=t.intent,i=a===void 0?qt.Primary:a,s=t.variant,o=t.tabPosition,f=o===void 0?"top":o,u=t.fullWidth,c=u===void 0?!1:u,l=Wi(t,y$),d=J.useState(!1),h=d[0],p=d[1];J.useEffect(function(){p(!0)},[]);var m=R.useMemo(function(){return f?f==="top"||f==="bottom"?ft(va[f],va.horizontal):ft(va[f],va.vertical):ft(va.top,va.horizontal)},[f]),v=ft(va.tabs,i?va[i]:va[qt.Default],s?va[s]:va[Qy.Underline],c?va.fullWidth:null,m,n);return h?J.createElement(zC,Nn({},l,{ref:r,tabPosition:f,prefixCls:"dango-tabs",className:v})):null},Cm=R.forwardRef(T$);Cm.TabPane=_$;Cm.displayName="Tabs";var E$=R.forwardRef(function(e,t){var r=e.prefixCls,n=e.style,a=e.className,i=e.duration,s=i===void 0?4.5:i,o=e.eventKey,f=e.content,u=e.closable,c=e.closeIcon,l=c===void 0?"x":c,d=e.props,h=e.onClick,p=e.onNoticeClose,m=R.useState(!1),v=Be(m,2),b=v[0],g=v[1],y=function(){p(o)};R.useEffect(function(){if(!b&&s>0){var I=setTimeout(function(){y()},s*1e3);return function(){clearTimeout(I)}}},[s,b]);var C="".concat(r,"-notice");return R.createElement("div",Wt({},d,{ref:t,className:Nt(C,a,ie({},"".concat(C,"-closable"),u)),style:n,onMouseEnter:function(){g(!0)},onMouseLeave:function(){g(!1)},onClick:h}),R.createElement("div",{className:"".concat(C,"-content")},f),u&&R.createElement("a",{tabIndex:0,className:"".concat(C,"-close"),onClick:function(P){P.preventDefault(),P.stopPropagation(),y()}},l))}),S$=R.forwardRef(function(e,t){var r=e.prefixCls,n=r===void 0?"rc-notification":r,a=e.container,i=e.motion,s=e.maxCount,o=e.className,f=e.style,u=e.onAllRemoved,c=R.useState([]),l=Be(c,2),d=l[0],h=l[1],p=function(O){var N,S=d.find(function(D){return D.key===O});S==null||(N=S.onClose)===null||N===void 0||N.call(S),h(function(D){return D.filter(function(w){return w.key!==O})})};R.useImperativeHandle(t,function(){return{open:function(O){h(function(N){var S=zt(N),D=S.findIndex(function(w){return w.key===O.key});return D>=0?S[D]=O:S.push(O),s>0&&S.length>s&&(S=S.slice(-s)),S})},close:function(O){p(O)},destroy:function(){h([])}}});var m=R.useState({}),v=Be(m,2),b=v[0],g=v[1];R.useEffect(function(){var P={};d.forEach(function(O){var N=O.placement,S=N===void 0?"topRight":N;S&&(P[S]=P[S]||[],P[S].push(O))}),Object.keys(b).forEach(function(O){P[O]=P[O]||[]}),g(P)},[d]);var y=function(O){g(function(N){var S=Xe({},N),D=S[O]||[];return D.length||delete S[O],S})},C=R.useRef(!1);if(R.useEffect(function(){Object.keys(b).length>0?C.current=!0:C.current&&(u==null||u(),C.current=!1)},[b]),!a)return null;var I=Object.keys(b);return c_.createPortal(R.createElement(R.Fragment,null,I.map(function(P){var O=b[P],N=O.map(function(D){return{config:D,key:D.key}}),S=typeof i=="function"?i(P):i;return R.createElement(L7,Wt({key:P,className:Nt(n,"".concat(n,"-").concat(P),o==null?void 0:o(P)),style:f==null?void 0:f(P),keys:N,motionAppear:!0},S,{onAllRemoved:function(){y(P)}}),function(D,w){var T=D.config,x=D.className,_=D.style,M=T.key,L=T.className,F=T.style;return R.createElement(E$,Wt({},T,{ref:w,prefixCls:n,className:Nt(x,L),style:Xe(Xe({},_),F),key:M,eventKey:M,onNoticeClose:p}))})})),a)}),A$=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],w$=function(){return document.body},hA=0;function C$(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(a){a&&Object.keys(a).forEach(function(i){var s=a[i];s!==void 0&&(e[i]=s)})}),e}function I$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,r=t===void 0?w$:t,n=e.motion,a=e.prefixCls,i=e.maxCount,s=e.className,o=e.style,f=e.onAllRemoved,u=Dr(e,A$),c=R.useState(),l=Be(c,2),d=l[0],h=l[1],p=R.useRef(),m=R.createElement(S$,{container:d,ref:p,prefixCls:a,motion:n,maxCount:i,className:s,style:o,onAllRemoved:f}),v=R.useState([]),b=Be(v,2),g=b[0],y=b[1],C=R.useMemo(function(){return{open:function(P){var O=C$(u,P);(O.key===null||O.key===void 0)&&(O.key="rc-notification-".concat(hA),hA+=1),y(function(N){return[].concat(zt(N),[{type:"open",config:O}])})},close:function(P){y(function(O){return[].concat(zt(O),[{type:"close",key:P}])})},destroy:function(){y(function(P){return[].concat(zt(P),[{type:"destroy"}])})}}},[]);return R.useEffect(function(){h(r())}),R.useEffect(function(){p.current&&g.length&&(g.forEach(function(I){switch(I.type){case"open":p.current.open(I.config);break;case"close":p.current.close(I.key);break;case"destroy":p.current.destroy();break}}),y([]))},[g]),[C,m]}var Zy;(function(e){e.Default="default",e.Primary="primary",e.Success="success",e.Info="info",e.Danger="danger",e.Secondary="secondary",e.Purple="purple",e.Cyan="cyan",e.Orange="orange",e.Pink="pink",e.Warning="warning"})(Zy||(Zy={}));var pA;(function(e){e.Default="default",e.Primary="primary",e.Success="success",e.Info="info",e.Danger="danger",e.Secondary="secondary",e.Purple="purple",e.Grey="grey"})(pA||(pA={}));var hf;(function(e){e.Small="small",e.Default="default",e.Large="large",e.XSmall="xsmall",e.XXSmall="xxsmall"})(hf||(hf={}));var Il={alert:"alert-module_alert__j7ZRS","icon-wrapper":"alert-module_icon-wrapper__WGsrl",content:"alert-module_content__0FEM2","intent-default":"alert-module_intent-default__EPYs6",icon:"alert-module_icon__vbZHd","intent-primary":"alert-module_intent-primary__cAyOC","intent-info":"alert-module_intent-info__tynuX","intent-success":"alert-module_intent-success__GXt3a","intent-danger":"alert-module_intent-danger__Igu8r","intent-secondary":"alert-module_intent-secondary__SFjwS"},P$=function(t){var r=t.content,n=t.className,a=t.title,i=t.icon,s=t.intent,o="intent-"+(s||qt.Default),f=i?J.createElement("span",{className:Il["icon-wrapper"]},J.createElement(i,{size:20,className:Il.icon})):null,u=a?J.createElement(i4.Text,{tag:"h5",intent:qt.Default,level:"1",bold:!0},a):null;return J.createElement("div",{className:ft(Il.alert,Il[o],n)},f,J.createElement("div",{className:Il.content},u,r))};const N$=e=>{const{size:t=16,children:r,viewBox:n="0 0 256 256",...a}=e;return J.createElement("svg",{...a,style:{fill:"currentColor"},viewBox:n,width:t,height:t},r)},O$=e=>{try{return e?JSON.parse(e):{}}catch{return{}}},YC=(e,t,r)=>{const n=O$(r);let a=i=>J.createElement(N$,{...n,...i},e);return a.displayName=`Matcha${t}Icon`,a=J.memo(a),a},x$=YC(J.createElement(J.Fragment,null,J.createElement("path",{d:"m213.66 101.66-80 80a8 8 0 0 1-11.32 0l-80-80a8 8 0 0 1 11.32-11.32L128 164.69l74.34-74.35a8 8 0 0 1 11.32 11.32Z"})),"CaretDownIcon"),XC=YC(J.createElement(J.Fragment,null,J.createElement("path",{d:"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z"})),"XIcon"),JC=e=>{const{intent:t,noPadding:r,variant:n,size:a,icon:i}=e,s=ft(Io["matcha-button"],Io["matcha-icon-button"],Io[`${e.shape||ro.Default}`],Io[`size-${a||dd.Default}`],Io[`intent-${t||qt.Default}`],{[Io.withBoxShadow]:!r&&t===qt.Secondary&&n!==nh.Plain},Io.buttonActive,e.className);return J.createElement(k7,{...e,size:a||dd.Default,icon:i,className:s})};var u0={"matcha-alert":"alert-module_matcha-alert__mXX5P",content:"alert-module_content__7FnUf",title:"alert-module_title__JzyH8",closeIcon:"alert-module_closeIcon__TOumg","intent-default":"alert-module_intent-default__2WFnV","intent-primary":"alert-module_intent-primary__tvhfQ","intent-info":"alert-module_intent-info__LCiHo","intent-success":"alert-module_intent-success__l00Wq","intent-danger":"alert-module_intent-danger__gVpIR","intent-secondary":"alert-module_intent-secondary__krbiF"};const R$=e=>{const t=J.createElement("div",{className:u0.content},e.content,e.footer),r=e.title||e.showCloseIcon?J.createElement("div",{className:u0.title},J.createElement(ut.Text,{bold:!0},e.title),e.showCloseIcon&&J.createElement(JC,{icon:XC,variant:nh.Plain,size:hf.XXSmall,shape:ro.Rounded})):null;return J.createElement(P$,{...e,icon:e==null?void 0:e.icon,content:t,title:r,className:ft(u0["matcha-alert"],u0[`intent-${e.intent}`],e.className)})};var Mb={"matcha-badge":"badge-module_matcha-badge__fg42k","cyan-soft":"badge-module_cyan-soft__LHu-e","orange-soft":"badge-module_orange-soft__0uxkj","pink-soft":"badge-module_pink-soft__Ki9-L","warning-soft":"badge-module_warning-soft__iYOOI","cyan-solid":"badge-module_cyan-solid__xsslF","orange-solid":"badge-module_orange-solid__zXeXs","pink-solid":"badge-module_pink-solid__3NSxU","warning-solid":"badge-module_warning-solid__2f2VW",text:"badge-module_text__i0UbT"};const D$=e=>{const{intent:t=Zy.Default,variant:r=f2.Variant.Soft}=e;return J.createElement(qu,{...e,intent:t,className:ft(Mb["matcha-badge"],Mb[`${t}-${r}`],e.className),textClassName:Mb.text})},f2=D$;f2.Variant=qu.Variant;f2.Position=qu.Position;var Qi={"matcha-input":"input-module_matcha-input__P0wz2",form:"input-module_form__iGEWk",input:"input-module_input__pxRem","input-shape-default":"input-module_input-shape-default__lN51Z","input-shape-square":"input-module_input-shape-square__rSt7i","input-shape-rounded":"input-module_input-shape-rounded__2t1Nd","input-intent-danger":"input-module_input-intent-danger__IfkWw","with-background":"input-module_with-background__v0qvS","read-only":"input-module_read-only__zXZSQ",disabled:"input-module_disabled__XsKKs",label:"input-module_label__ijNMb"};const M$=(e,t)=>{const{shape:r,withBackground:n,inputWrapperClassName:a,...i}=e,{intent:s,label:o,required:f,disabled:u,readOnly:c,className:l,formClassName:d,inputClassName:h}=i;return J.createElement("div",{className:ft(Qi["matcha-input"],l)},o&&J.createElement(ut.Text,{level:"3",color:"gray",className:Qi.label},o,f&&J.createElement(ut.Text,{intent:qt.Danger,tag:"span"},"*")),J.createElement(F4,{...i,className:a,inputClassName:ft(Qi.input,Qi[`input-shape-${r||ro.Rounded}`],Qi[`input-intent-${s||qt.Default}`],{[Qi["with-background"]]:n,[Qi["read-only"]]:c},h),formClassName:ft(Qi.form,{[Qi.disabled]:u},d),label:"",ref:t}))},yp=R.forwardRef(M$);yp.displayName="Input";var Lb={"matcha-checkbox":"checkbox-module_matcha-checkbox__rgFeN",description:"checkbox-module_description__nK-yD",disabled:"checkbox-module_disabled__veP7l"};const L$=e=>{const{description:t,label:r,...n}=e,{disabled:a}=n,i=R.useMemo(()=>t?J.createElement("div",null,r,J.createElement("div",{className:ft(Lb.description,{[Lb.disabled]:a})},t)):r,[r,t]);return J.createElement(H4,{...n,className:ft(Lb["matcha-checkbox"],e.className),label:i})};var Zl={collapse:"collapse-module_collapse__q7TdX",collapseContainer:"collapse-module_collapseContainer__FU7N8",chevonIcon:"collapse-module_chevonIcon__pwxt4",isOpen:"collapse-module_isOpen__nVjG3",header:"collapse-module_header__qMdDp"},mA=function(){return{height:0,opacity:0}},k$=function(t){return{height:t.scrollHeight,opacity:1}},B$=function(t){return{height:t.offsetHeight}},vA=function(t,r){return r.propertyName==="height"},F$={motionName:"dango-collapse-motion",onEnterStart:mA,onEnterActive:k$,onLeaveStart:B$,onLeaveActive:mA,onEnterEnd:vA,onLeaveEnd:vA,motionDeadline:500,leavedClassName:"dango-collapse-content-hidden"},H$=function(t){var r;return J.createElement(uD,{size:20,className:ft(Zl.chevonIcon,(r={},r[Zl.isOpen]=t.isActive,r))})},$$=function(t){var r=t.accordion,n=t.collapseRootClassName,a=n===void 0?"":n,i=t.collapseClassName,s=i===void 0?"":i,o=t.collapseExpandIcon,f=t.activeKey,u=t.collapsible,c=t.onChange,l=t.expandIcon,d=l===void 0?H$:l,h=t.collapseItemList,p=h===void 0?[]:h,m=t.headerClassName,v=m===void 0?"":m,b=t.headerRootClassName,g=b===void 0?"":b,y="dango-collapse",C=p.reduce(function(I,P,O){if(P.defaultActive){var N=P.key||O;return[].concat(I,[N.toString()])}return I},[]);return J.createElement("div",{className:ft(Zl.collapseContainer,a)},J.createElement(B7,{openMotion:F$,prefixCls:y,className:ft(Zl.collapse,s),accordion:r,defaultActiveKey:C,activeKey:f,collapsible:u,onChange:c,expandIcon:o},p.map(function(I){var P=I.key,O=I.headerClass,N=O===void 0?"":O,S=I.className,D=S===void 0?"":S,w=I.title,T=I.content,x=I.rightComponent,_=I.disabled,M=J.createElement("div",{className:Zl.header},w,x&&J.createElement("div",null,x));return J.createElement(F7,{key:P,headerClass:ft(v,N),className:ft(g,D),header:M,expandIcon:d,collapsible:_?"disabled":void 0},T)})))},U$={"matcha-collapse":"collapse-module_matcha-collapse__-JQLz"};const QC=e=>J.createElement($$,{...e,collapseClassName:ft(U$["matcha-collapse"],e.collapseClassName)});var ZC={"matcha-menu":"menu-module_matcha-menu__wJ-7P"};const j$=e=>J.createElement(zu,{...e,className:ft(ZC["matcha-menu"],e.className)}),Im=j$;Im.Item=zu.Item;Im.Divider=zu.Divider;Im.displayName="Menu";var G$={"matcha-popover":"popover-module_matcha-popover__HBwoB"};const K$=e=>{const[t,r]=R.useState(!1),{hoverToShow:n}=e,a=n?t:e.isOpen,i=f=>{e.hoverToShow&&(f.stopPropagation(),r(!0))},s=f=>{e.hoverToShow&&(f.stopPropagation(),r(!1))},o=()=>J.isValidElement(e.triggerElement)?J.cloneElement(e.triggerElement,{onMouseOver:i,onMouseLeave:s}):e.triggerElement;return J.createElement(J_,{...e,isOpen:a,triggerElement:o(),layerClassName:ft(G$["matcha-popover"],e.layerClassName)})};var Xn={"matcha-dropdown":"dropdown-module_matcha-dropdown__t-Gl4",trigger:"dropdown-module_trigger__MOzmm",rounded:"dropdown-module_rounded__Z7qBZ",square:"dropdown-module_square__HtRSr",default:"dropdown-module_default__ZjBFE",inputWrapper:"dropdown-module_inputWrapper__eq2Hw",chevronIcon:"dropdown-module_chevronIcon__QEwH0",disabled:"dropdown-module_disabled__zV1F-",isOpen:"dropdown-module_isOpen__nv5KE",readOnly:"dropdown-module_readOnly__D7gxj",form:"dropdown-module_form__zXjGy",input:"dropdown-module_input__w20KO","intent-danger":"dropdown-module_intent-danger__8nxHZ",withBackground:"dropdown-module_withBackground__pjq7J","intent-default":"dropdown-module_intent-default__UviBz","intent-primary":"dropdown-module_intent-primary__qhW9V","intent-secondary":"dropdown-module_intent-secondary__KlGKw"};const l2=e=>{const{label:t,placeholder:r,prefixIcon:n,withBackground:a,disabled:i,selectedOption:s,intent:o,size:f,shape:u,readOnly:c,onMenuVisibleChange:l}=e,[d,h]=R.useState(!1),p=v=>{l&&typeof l=="function"&&l(v),h(v)},m=v=>e.triggerRender&&typeof e.triggerRender=="function"?e.triggerRender(v):J.createElement("div",{onClick:v.onClick},J.createElement(yp,{prefixIcon:n,suffixIcon:J.createElement("div",{className:Xn.chevronIcon},J.createElement(x$,null)),label:t,placeholder:r,withBackground:a,caption:void 0,readOnly:!0,disabled:i,value:s==null?void 0:s.label,inputClassName:ft(Xn.input,{[Xn.withBackground]:a,[Xn.disabled]:i,[Xn.isOpen]:d,[Xn.readOnly]:c},Xn[`intent-${o||qt.Default}`]),formClassName:Xn.form,inputWrapperClassName:ft(Xn.inputWrapper,{[Xn.isOpen]:d,[Xn.readOnly]:c}),size:f,shape:u}));return J.createElement(zf,{...e,triggerRender:m,className:ft(Xn["matcha-dropdown"],e.className),menuClassName:ft(ZC["matcha-menu"],e.menuClassName),triggerClassName:ft(Xn.trigger,Xn[`${e.shape||ro.Default}`],e.triggerClassName),onMenuVisibleChange:p,popoverComponent:K$,menuComponent:Im,disabled:i||c})};l2.Item=zf.Item;l2.Divider=zf.Divider;l2.displayName="Dropdown";var c0={"matcha-tabs":"tabs-module_matcha-tabs__F9R6g",underline:"tabs-module_underline__PuO-X",pill:"tabs-module_pill__O3HDW",vertical:"tabs-module_vertical__G4-KR","variant-border":"tabs-module_variant-border__kTXnZ"},_p;(function(e){e.Underline="underline",e.Pill="pill",e.Border="border"})(_p||(_p={}));const W$=(e,t)=>{const{variant:r,tabPosition:n,className:a}=e;return J.createElement(Cm,{...e,ref:t,variant:r,className:ft(c0["matcha-tabs"],{[c0["variant-border"]]:r===_p.Border,[c0.vertical]:n==="right"||n==="left"},c0[r||_p.Underline],a)})},eI=R.forwardRef(W$);eI.displayName="Tabs";eI.TabPane=Cm.TabPane;var q$={prefixCls:"dango-toast",motion:{motionName:"dango-toast-fade",motionAppear:!0,motionEnter:!0,motionLeave:!0,onLeaveStart:function(t){var r=t.offsetHeight;return{height:r}},onLeaveActive:function(){return{height:0,opacity:0,margin:0}}},closable:!1},V$=function(t){t===void 0&&(t={closable:!1});var r=I$(Nn({},q$,t,{closeIcon:t.closeIcon||J.createElement(fD,{size:18})})),n=r[0],a=r[1];return{notice:n,contextHolder:a}},Pl={toast:"toast-module_toast__VS-Wy",top:"toast-module_top__1vkI7",topLeft:"toast-module_topLeft__I8KTV",topRight:"toast-module_topRight__XgVo-",bottom:"toast-module_bottom__9mg1f",bottomLeft:"toast-module_bottomLeft__MKy--",bottomRight:"toast-module_bottomRight__9YmQc",contentWrapper:"toast-module_contentWrapper__kFabI",content:"toast-module_content__YIIjC",rightElement:"toast-module_rightElement__x7n9V"};const tI=(e={closable:!1})=>{const{notice:t,contextHolder:r}=V$({...e,prefixCls:"matcha-toast",motion:{motionName:"matcha-toast-fade",motionAppear:!0,motionEnter:!0,motionLeave:!0,onLeaveStart:i=>{const{offsetHeight:s}=i;return{height:s}},onLeaveActive:()=>({height:0,opacity:0,margin:0})},className:i=>ft(Pl.toast,Pl[i]),closable:!0,closeIcon:J.createElement(JC,{icon:XC,size:hf.XSmall,variant:nh.Plain,shape:ro.Rounded})}),n=i=>{const{icon:s,title:o,content:f,rightElement:u,intent:c}=i,l=o?J.createElement(ut.Text,{bold:!0},o):null;return J.createElement(R$,{icon:s,content:J.createElement("div",{className:Pl.contentWrapper},J.createElement("div",{className:Pl.content},l,f),J.createElement("div",{className:Pl.rightElement},u)),intent:c})};return{openToast:i=>{t.open({content:n(i),duration:i.duration,placement:i.placement})},contextHolder:r}},z$=["wallet.roninchain.com","wallet.skymavis.com"],Y$=["roninwallet:"],X$=()=>{const e=J9(),t=Q9(),r=R.useCallback((n,a)=>{var i,s;if(!n)return!1;if(n.startsWith("/ronin-bounties/")){const o=n.replace("/ronin-bounties/",""),f=`${$a.QUEST_DETAILS}/${o}`;return t.pathname!==f&&((i=t.pathname)!=null&&i.startsWith($a.QUEST_DETAILS)?(e(-1),ep(100).then(()=>e(f))):e(f)),!0}if(n.startsWith("/ronin-bounties"))return t.pathname!==$a.RONIN_BOUNTIES&&e({pathname:$a.RONIN_BOUNTIES,search:Z9(a).toString()}),!0;if(n==="/settings")return t.pathname!==$a.SETTINGS&&e($a.SETTINGS),!0;if(n==="/activity")return t.pathname!==$a.ACTIVITY&&e($a.ACTIVITY),!0;if(n==="/portfolio")return t.pathname!==$a.HOME&&e($a.HOME),!0;if(n.startsWith("/in_app_browser")){const o=a==null?void 0:a.get("url");if(o)return window.open(o,"_blank"),!0}if(n.startsWith("/erc20_details")){const o=n.replace("/erc20_details","").replace("/",""),f=`${$a.ERC20_DETAIL}/${In.RONIN}/${o||e7}`;return(s=t.pathname)!=null&&s.startsWith($a.ERC20_DETAIL)?(e(-1),ep(100).then(()=>e(f))):e(f),!0}return!1},[e,t]);return R.useCallback((n,a=!1)=>{var i;try{const s=new URL(n),o=z$.includes(s.hostname)||Y$.includes(s.protocol);if(a&&!o)return!1;let f=((i=s.pathname)==null?void 0:i.replace("//","/"))||s.hostname;return f.startsWith("/")||(f=`/${f}`),r(f,s.searchParams)||window.open(n,"_blank"),!0}catch(s){return Yt.error("HandleCustomAction",s),!1}},[r])},J$=e=>{const{size:t=16,children:r,viewBox:n="0 0 256 256",...a}=e;return J.createElement("svg",{...a,style:{fill:"currentColor"},viewBox:n,width:t,height:t},r)},Q$=e=>{const{size:t=16,children:r,viewBox:n="0 0 20 20",...a}=e;return J.createElement("svg",{...a,style:{fill:"currentColor"},viewBox:n,width:t,height:t},r)},rI=e=>{try{return e?JSON.parse(e):{}}catch{return{}}},Ir=(e,t,r)=>{const n=rI(r);let a=i=>J.createElement(J$,{...n,...i},e);return a.displayName=`Matcha${t}Icon`,a=J.memo(a),a},nI=(e,t,r)=>{const n=rI(r);let a=i=>J.createElement(Q$,{...n,...i},e);return a.displayName=`Matcha${t}Icon`,a=J.memo(a),a},Vde=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"m205.66 149.66-72 72a8 8 0 0 1-11.32 0l-72-72a8 8 0 0 1 11.32-11.32L120 196.69V40a8 8 0 0 1 16 0v156.69l58.34-58.35a8 8 0 0 1 11.32 11.32Z"})),"ArrowDownIcon"),Z$=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8Z"})),"ArrowLeftIcon"),eU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M208 32h-24v-8a8 8 0 0 0-16 0v8H88v-8a8 8 0 0 0-16 0v8H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16ZM72 48v8a8 8 0 0 0 16 0v-8h80v8a8 8 0 0 0 16 0v-8h24v32H48V48Zm136 160H48V96h160v112Zm-38.34-85.66a8 8 0 0 1 0 11.32l-48 48a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L116 164.69l42.34-42.35a8 8 0 0 1 11.32 0Z"})),"CalendarCheckIcon"),wc=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm45.66 85.66-56 56a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L112 148.69l50.34-50.35a8 8 0 0 1 11.32 11.32Z"})),"CheckCircleFillIcon"),aI=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"m229.66 77.66-128 128a8 8 0 0 1-11.32 0l-56-56a8 8 0 0 1 11.32-11.32L96 188.69 218.34 66.34a8 8 0 0 1 11.32 11.32Z"})),"CheckIcon"),tU=nI(J.createElement(J.Fragment,null,J.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.161 16.94c.123.19.253.377.387.56a15.454 15.454 0 0 0 4.747-2.408c.39-4.084-.665-7.624-2.787-10.763a15.378 15.378 0 0 0-3.868-1.204 10.8 10.8 0 0 0-.496 1.019 14.243 14.243 0 0 0-4.293 0 10.849 10.849 0 0 0-.495-1.019c-1.337.23-2.638.636-3.871 1.207C1.036 7.996.373 11.569.705 15.09A15.525 15.525 0 0 0 5.449 17.5a11.565 11.565 0 0 0 1.016-1.657 10.019 10.019 0 0 1-1.6-.773c.134-.099.265-.2.392-.299a11.08 11.08 0 0 0 2.703.882 11.017 11.017 0 0 0 6.783-.882c.128.106.26.208.392.299a10.633 10.633 0 0 1-.462.26 10.057 10.057 0 0 1-1.141.514 11.478 11.478 0 0 0 .63 1.097Zm3.05-1.962-1.37-.94a4.316 4.316 0 0 1-.302-.23l-.614-.507-.72.342a9.789 9.789 0 0 1-8.41 0l-.696-.331-.608.472c-.127.099-.246.19-.366.278l-1.286.944c-.318-.185-.63-.382-.933-.592-.183-2.979.431-5.984 2.424-9.091a14.242 14.242 0 0 1 2.333-.78l.037.088.379.895.96-.146a12.992 12.992 0 0 1 3.917 0l.96.146.38-.895a9.31 9.31 0 0 1 .037-.088c.798.19 1.579.451 2.333.778 1.747 2.696 2.639 5.68 2.429 9.095-.288.198-.583.386-.884.562Z",fill:"currentColor"}),J.createElement("path",{d:"M5.197 11.032c0 1.044.764 1.893 1.688 1.893.943 0 1.671-.85 1.687-1.893.017-1.045-.741-1.901-1.69-1.901-.948 0-1.685.856-1.685 1.9ZM11.428 11.032c0 1.044.76 1.893 1.687 1.893.942 0 1.67-.85 1.685-1.893.016-1.045-.736-1.901-1.685-1.901-.95 0-1.688.856-1.688 1.9Z",fill:"currentColor"})),"CustomDiscordIcon"),rU=nI(J.createElement(J.Fragment,null,J.createElement("path",{d:"m2.427 2.813 5.876 7.928-5.913 6.447h1.33l5.178-5.644 4.183 5.643h4.53l-6.208-8.374 5.504-6h-1.33L10.807 8.01 6.956 2.813h-4.53Zm1.957.989h2.08l9.189 12.396h-2.081L4.384 3.802Z",fill:"currentColor"})),"CustomTwitterLogoIcon"),nU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M228 175a8 8 0 0 1-10.92-3l-19-33.2A123.23 123.23 0 0 1 162 155.46l5.87 35.22a8 8 0 0 1-6.58 9.21 8.4 8.4 0 0 1-1.29.11 8 8 0 0 1-7.88-6.69l-5.77-34.58a133.06 133.06 0 0 1-36.68 0l-5.77 34.58A8 8 0 0 1 96 200a8.4 8.4 0 0 1-1.32-.11 8 8 0 0 1-6.58-9.21l5.9-35.22a123.23 123.23 0 0 1-36.06-16.69L39 172a8 8 0 1 1-13.94-8l20-35a153.47 153.47 0 0 1-19.3-20 8 8 0 1 1 12.46-10c16.6 20.54 45.64 45 89.78 45s73.18-24.49 89.78-45a8 8 0 1 1 12.44 10 153.47 153.47 0 0 1-19.3 20l20 35a8 8 0 0 1-2.92 11Z"})),"EyeClosedIcon"),aU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M247.31 124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57 61.26 162.88 48 128 48S61.43 61.26 36.34 86.35C17.51 105.18 9 124 8.69 124.76a8 8 0 0 0 0 6.5c.35.79 8.82 19.57 27.65 38.4C61.43 194.74 93.12 208 128 208s66.57-13.26 91.66-38.34c18.83-18.83 27.3-37.61 27.65-38.4a8 8 0 0 0 0-6.5ZM128 168a40 40 0 1 1 40-40 40 40 0 0 1-40 40Z"})),"EyeFillIcon"),iU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M247.31 124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57 61.26 162.88 48 128 48S61.43 61.26 36.34 86.35C17.51 105.18 9 124 8.69 124.76a8 8 0 0 0 0 6.5c.35.79 8.82 19.57 27.65 38.4C61.43 194.74 93.12 208 128 208s66.57-13.26 91.66-38.34c18.83-18.83 27.3-37.61 27.65-38.4a8 8 0 0 0 0-6.5ZM128 192c-30.78 0-57.67-11.19-79.93-33.25A133.47 133.47 0 0 1 25 128a133.33 133.33 0 0 1 23.07-30.75C70.33 75.19 97.22 64 128 64s57.67 11.19 79.93 33.25A133.46 133.46 0 0 1 231.05 128c-7.21 13.46-38.62 64-103.05 64Zm0-112a48 48 0 1 0 48 48 48.05 48.05 0 0 0-48-48Zm0 80a32 32 0 1 1 32-32 32 32 0 0 1-32 32Z"})),"EyeIcon"),Ko=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm-4 48a12 12 0 1 1-12 12 12 12 0 0 1 12-12Zm12 112a16 16 0 0 1-16-16v-40a8 8 0 0 1 0-16 16 16 0 0 1 16 16v40a8 8 0 0 1 0 16Z"})),"InfoFillIcon"),sU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm0 192a88 88 0 1 1 88-88 88.1 88.1 0 0 1-88 88Zm16-40a8 8 0 0 1-8 8 16 16 0 0 1-16-16v-40a8 8 0 0 1 0-16 16 16 0 0 1 16 16v40a8 8 0 0 1 8 8Zm-32-92a12 12 0 1 1 12 12 12 12 0 0 1-12-12Z"})),"InfoIcon"),zde=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M160 16a80.07 80.07 0 0 0-76.09 104.78l-57.57 57.56A8 8 0 0 0 24 184v40a8 8 0 0 0 8 8h40a8 8 0 0 0 8-8v-16h16a8 8 0 0 0 8-8v-16h16a8 8 0 0 0 5.66-2.34l9.56-9.57A80 80 0 1 0 160 16Zm20 76a16 16 0 1 1 16-16 16 16 0 0 1-16 16Z"})),"KeyFillIcon"),Yde=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M224 96v112a16 16 0 0 1-16 16H48a16 16 0 0 1-16-16V96a16 16 0 0 1 16-16h32V56a48.05 48.05 0 0 1 48-48c23.2 0 43.32 16.15 47.84 38.41a8 8 0 0 1-15.68 3.18C157.2 35 143.37 24 128 24a32 32 0 0 0-32 32v24h112a16 16 0 0 1 16 16Z"})),"LockSimpleOpenFillIcon"),oU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M96 216a16 16 0 1 1-16-16 16 16 0 0 1 16 16Zm88-16a16 16 0 1 0 16 16 16 16 0 0 0-16-16Zm47.65-125.65-28.53 92.71A23.89 23.89 0 0 1 180.18 184H84.07A24.11 24.11 0 0 1 61 166.59L24.82 40H8a8 8 0 0 1 0-16h16.82a16.08 16.08 0 0 1 15.39 11.6L48.32 64H224a8 8 0 0 1 7.65 10.35ZM213.17 80H52.89l23.49 82.2a8 8 0 0 0 7.69 5.8h96.11a8 8 0 0 0 7.65-5.65Z"})),"ShoppingCartSimpleIcon"),uU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"m141.66 133.66-40 40a8 8 0 0 1-11.32-11.32L116.69 136H24a8 8 0 0 1 0-16h92.69L90.34 93.66a8 8 0 0 1 11.32-11.32l40 40a8 8 0 0 1 0 11.32ZM192 32h-56a8 8 0 0 0 0 16h56v160h-56a8 8 0 0 0 0 16h56a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Z"})),"SignInIcon"),cU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M221.87 83.16A104.1 104.1 0 1 1 195.67 49l22.67-22.68a8 8 0 0 1 11.32 11.32l-96 96a8 8 0 0 1-11.32-11.32l27.72-27.72a40 40 0 1 0 17.87 31.09 8 8 0 1 1 16-.9 56 56 0 1 1-22.38-41.65l22.75-22.75a87.88 87.88 0 1 0 23.13 29.67 8 8 0 0 1 14.44-6.9Z"})),"TargetIcon"),Xde=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M172 120a44 44 0 1 1-44-44 44 44 0 0 1 44 44Zm60-64v144a16 16 0 0 1-16 16H40a16 16 0 0 1-16-16V56a16 16 0 0 1 16-16h176a16 16 0 0 1 16 16Zm-16 144V56H40v144h14.68a80 80 0 0 1 29.41-34.84 4 4 0 0 1 4.83.31 59.82 59.82 0 0 0 78.16 0 4 4 0 0 1 4.83-.31A80 80 0 0 1 201.32 200H216Z"})),"UserRectangleFillIcon"),fU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M230.92 212c-15.23-26.33-38.7-45.21-66.09-54.16a72 72 0 1 0-73.66 0c-27.39 8.94-50.86 27.82-66.09 54.16a8 8 0 1 0 13.85 8c18.84-32.56 52.14-52 89.07-52s70.23 19.44 89.07 52a8 8 0 1 0 13.85-8ZM72 96a56 56 0 1 1 56 56 56.06 56.06 0 0 1-56-56Z"})),"UserIcon"),lU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M244.8 150.4a8 8 0 0 1-11.2-1.6A51.6 51.6 0 0 0 192 128a8 8 0 0 1-7.37-4.89 8 8 0 0 1 0-6.22A8 8 0 0 1 192 112a24 24 0 1 0-23.24-30 8 8 0 1 1-15.5-4A40 40 0 1 1 219 117.51a67.94 67.94 0 0 1 27.43 21.68 8 8 0 0 1-1.63 11.21ZM190.92 212a8 8 0 1 1-13.84 8 57 57 0 0 0-98.16 0 8 8 0 1 1-13.84-8 72.06 72.06 0 0 1 33.74-29.92 48 48 0 1 1 58.36 0A72.06 72.06 0 0 1 190.92 212ZM128 176a32 32 0 1 0-32-32 32 32 0 0 0 32 32Zm-56-56a8 8 0 0 0-8-8 24 24 0 1 1 23.24-30 8 8 0 1 0 15.5-4A40 40 0 1 0 37 117.51a67.94 67.94 0 0 0-27.4 21.68 8 8 0 1 0 12.8 9.61A51.6 51.6 0 0 1 64 128a8 8 0 0 0 8-8Z"})),"UsersThreeIcon"),Jde=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M216 40H40a16 16 0 0 0-16 16v136a16 16 0 0 0 16 16h16v16a8 8 0 0 0 16 0v-16h112v16a8 8 0 0 0 16 0v-16h16a16 16 0 0 0 16-16V56a16 16 0 0 0-16-16Zm-8 96h-28.91a36 36 0 1 1 0-16H208a8 8 0 0 1 0 16Zm-44-8a20 20 0 1 1-20-20 20 20 0 0 1 20 20Z"})),"VaultFillIcon"),dU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm-8 56a8 8 0 0 1 16 0v56a8 8 0 0 1-16 0Zm8 104a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"})),"WarningCircleFillIcon"),hU=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M236.8 188.09 149.35 36.22a24.76 24.76 0 0 0-42.7 0L19.2 188.09a23.51 23.51 0 0 0 0 23.72A24.35 24.35 0 0 0 40.55 224h174.9a24.35 24.35 0 0 0 21.33-12.19 23.51 23.51 0 0 0 .02-23.72ZM120 104a8 8 0 0 1 16 0v40a8 8 0 0 1-16 0Zm8 88a12 12 0 1 1 12-12 12 12 0 0 1-12 12Z"})),"WarningFillIcon"),iI=Ir(J.createElement(J.Fragment,null,J.createElement("path",{d:"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z"})),"XIcon");var oo=(e=>(e.Click="Click",e.KeyPress="KeyPress",e.Access="Access",e.Noop="Noop",e.Scroll="Scroll",e))(oo||{}),uo=(e=>(e.Navigation="Navigation",e.Swap="Swap",e.Purchase="Purchase",e.Onboarding="Onboarding",e.Settings="Settings",e.Transactions="Transactions",e.Accounts="Accounts",e.Messages="Messages",e.Retention="Retention",e.Wallet="Wallet",e.Network="Network",e.Contact="Contact",e.Unlock="Unlock",e.Home="Home",e.Tracking="Tracking",e.MigrateMPC="MigrateMPC",e.MigrateSeed="MigrateSeed",e.Authenticate="Authenticate",e.App="App",e.ManageToken="ManageToken",e.TokenDetail="TokenDetail",e.Send="Send",e.Deposit="Deposit",e.CopyAddress="CopyAddress",e.DApps="DApps",e.Activity="Activity",e.Notification="Notification",e.Sign="Sign",e.Quest="Quest",e.Filter="Filter",e.CheckIn="Check_in",e.OnGoingFilter="On_going_filter",e.PastQuestFilter="Past_Quest_filter",e.QuestCard="Quest_Card",e.ContactSupport="Contact_Support",e.TakeQuest="Take_Quest",e.VerifyCondition="Verify_Condition",e.VerifyAction="Verify_Action",e.RequestReward="Request_Reward",e.ClaimReward="Claim_Reward",e.SaveFilter="Save_Filter",e.CancelFilter="Cancel_Filter",e.Rewards="Rewards",e))(uo||{}),co=(e=>(e.Migrate="Migrate",e.ScrollActivities="Scroll Activities",e.ClickToDeposit="Click on Deposit",e.QuickAction="Quick Action",e.SelectNFTDetail="Select NFT detail",e.RefreshActivity="Refresh Activity",e.RefreshAsset="Refresh Asset",e.OnQuestListing="on Quest Listing",e.EditGasFee="Edit Gas Fee",e.ApplyGasFee="Apply Gas Fee",e.ClickActivityDetail="Click on Activity Detail",e.Login="Login",e.Register="Register",e.CreateRecoveryPhraseWallet="Create Recovery Phrase Wallet",e.CreateMPCWallet="Create MPC Wallet",e.MPCBackupFailed="MPC Backup Failed",e.CreatePassword="Create Master Password",e.ChooseSocialImport="Choose Import Social Login",e.ChooseImportRecoveryPhraseOrPrivateKey="Choose Import Recovery Phrase Or Private Key",e.ChooseImportHardware="Choose Import Hardware",e.ChooseImportViewOnly="Choose Import View Only",e.ImportHardware="Import Hardware",e.ReconnectLedger="Reconnect Ledger",e.AddPrivateKey="Add Private Key",e.ImportSeed="Import Seed",e.ImportMPCWallet="Import MPC Wallet",e.EnterMasterPassword="Enter Master Password",e.WatchAddress="Watch Address",e.SkipFail="Skip On Fail",e.MigrateCompleted="Migrate Completed",e.RetryMigrate="Retry Migrate",e.StartMigrate="Start Migrate",e.SocialLogin="Social Login",e.RecoveryPhrase="Recovery Phrase",e.ViewActivityExplorer="View activity on Explorer",e.SwitchNetwork="Switch Network",e.ChangeTab="Change Tab",e.SelectAsset="Select Asset",e.DepositOnRamp="Deposit On Ramp",e.ContinueSelectAsset="Continue Select Asset",e.ChangeHomeTab="Change Home Tab",e.HideBalance="Hide Balance",e.ViewTokenDetail="View Token Detail",e.CollectionInfo="Collection Info",e.DAppConnectStatus="DApp Connect Status",e.EditWallet="Edit Wallet",e.ImportWallet="Import Wallet",e.CreateWallet="Create Wallet",e.DeleteWallet="Delete Wallet",e.RenameWallet="Rename Wallet",e.CreateMoreWallet="Create More Wallet",e.ManageWallet="Manage Wallet",e.ResetWallet="Reset Wallet",e.CopyClipboard="Copy to Clipboard",e.AddressItem="Address Item",e.AddTrezor="Add Trezor",e.ScrollNft="Scroll NFT",e.ViewNftMarket="View NFT on Marketplace",e.TransferNft="Transfer NFT",e.OnMyQuest="on My Quest",e.OnMyRewards="on My Rewards",e.ScrollMyQuest="Scroll My Quest",e.OnFilterList="on Filter List",e.OnQuestDetails="on Quest Details",e.RejectSessonRequest="Reject Session Request",e.SignSessionRequest="Sign Session Request",e.DisconnectAllDApps="Disconnect all dApps",e.DisconnectDApp="Disconnect dApp",e.OpenSupport="Open Support",e.OpenTOS="Open Terms of Use",e.OpenPrivacyPolicy="Open Privacy Policy",e.LockWallet="Lock Wallet",e.SwitchActiveNetwork="Switch Active Network",e.Currency="Currency",e.HideLowValue="Hide Low Value",e.SingleChainMode="Single Chain Mode",e.AutoLock="Auto Lock",e.SignMessage="Sign Message",e.SignTransaction="Sign Transaction",e.SelectFromContracts="Select from Contacts",e.SelectToken="Select Token",e.ConfirmTransaction="Confirm Transaction",e.SelectRecentReciept="Select Recent Recipient",e.ForgotPassword="Forgot Password",e.Pincode="Pincode",e.CheckBackup="CheckBackup",e.RefreshToken="Refresh Token",e.GetStarted="Get Started",e.OverwriteEthereum="Overwrite Ethereum",e))(co||{}),e1=(e=>(e.Retry="Retry",e.Webview="Webview",e.Skip=" Skip",e.On="On",e.Approve="Approve",e.Reject="Reject",e.Off="Off",e.Save="Save",e.Success="Success",e.Fail="Fail",e.Cancel="Cancel",e.Backup="Backup",e.Delete="Delete",e.Confirm="Confirm",e.Next="Next",e.Complete="Complete",e.SelectType="Select Type",e.Instruction="Instruction",e.SelectAddress="Select Address",e.RenameAddress="Rename Address",e.CopyAddress="Copy Address",e.ViewAddress="View Address",e.SwitchAddress="Switch Address",e.AddAddress="Add Address",e.DeleteAddress="Delete Address",e.PasteAddress="Paste Address",e.CreatePasscode="Create Passcode",e.ChangePasscode="Change Passcode",e.EnableTracking="Enable Tracking",e.DisableTracking="Disable Tracking",e.EnterPasscode="Enter Passcode",e.ResetWallet="Reset Wallet",e.RecreateAddress="Recreate Address",e.SkipRecreateAddress="Skip Recreate Address",e.ConfirmPasscode="Confirm Passcode",e.ConfirmPassword="Confirm Password",e.Paste="Paste",e.ViewPassword="View Password",e.ChangeProvider="Change Provider",e.RevealPrivateKey="Reveal Private Key",e.RevealSeedPhrase="Reveal Seed Phrase",e))(e1||{});function pU(e){const{shouldListenForEvents:t=!0,queryOptions:r,callbacks:n}=e??{},[a,i]=R.useState(Ur.getAllSessions(r)),s=R.useCallback(()=>{var h;i(Ur.getAllSessions(r)),(h=n==null?void 0:n.onAllSessionsUpdated)==null||h.call(n,a)},[a,n,r]);R.useEffect(()=>{const h=async()=>{await Ur.init(),s()};return ZT.subscribe(h),()=>{ZT.unSubscribe(h)}},[s]),R.useEffect(()=>{if(t)return Ur.on(As.ADD_SESSION,s),Ur.on(As.DELETE_SESSION,s),Ur.on(As.DELETE_ALL,s),Ur.on(As.UPDATE_SESSION,s),()=>{t&&(Ur.off(As.ADD_SESSION,s),Ur.off(As.DELETE_SESSION,s),Ur.off(As.DELETE_ALL,s),Ur.off(As.UPDATE_SESSION,s))}},[s,r,t]);const o=R.useCallback(async()=>{await Ur.deleteAllSessions()},[]),f=R.useCallback(async h=>{await Ur.deleteSession(h)},[]),u=R.useCallback(async h=>{try{const p=Ur.getAllSessions();await Promise.all(p.map(async m=>{try{await Ur.removeAccountsInSession(m.id,h)}catch(v){Yt.error("removeAccountsInSession",v)}}))}catch(p){Yt.error("removeAccountsInSessions",p)}},[]),c=R.useCallback(h=>Ur.handleCurrentAccountChanged(h),[]),l=R.useCallback(h=>Ur.handleCurrentChainChanged(h),[]),d=R.useCallback((h,p)=>{p?a==null||a.filter(m=>!p.includes(m.id)).forEach(m=>Ur.updateSessionActiveChain(m.id,h)):a==null||a.forEach(m=>Ur.updateSessionActiveChain(m.id,h))},[a]);return{sessions:a,deleteAllSessions:o,deleteSession:f,removeAccountsInSessions:u,handleAccountChanged:c,handleChainChanged:l,updateAllSessionChainId:d}}const t1=(e,t,r)=>({nickname:t||(()=>{switch(e.type){case Pn.LEDGER:return`Ledger ${e.index+1}`;case Pn.TREZOR:return`Trezor ${e.index+1}`;case Pn.MPC:return t||"Keyless Address";default:return`Address ${e.index+1}`}})(),address:e.address.toLowerCase(),type:e.type,walletId:e.walletId,index:e.index,hdPath:e.hdPath,sortedIndex:r??e.index}),hh=(e,t,r)=>{const n={};return e.getState().accounts.map(a=>t1(a,r==null?void 0:r[a.address.toLowerCase()])).forEach(a=>n[a.address.toLowerCase()]=a),{nickname:t||"Wallet 1",walletId:e.getState().walletId,walletType:e.getState().type,accounts:n,sortedIndex:mr.getWallets().length}},mU=i7("trezorAccounts.v1"),vU="m",bU="m/44'/60'/0'/0";class gU extends s7.WithStorageModule{constructor(){super({},{addresses:[]},{addresses:{persist:!0}},mU);Yn(this,"hdk");Yn(this,"paths");this.hdk=new o7,this.paths={}}getAccounts(){if(this.enabled===!1)throw new Error("Module has to be enabled to get accounts");return this.state.addresses}async saveNewAccount(r){this.state.addresses.find(a=>a===r)===void 0&&await this.updateAndPersist({addresses:[...this.state.addresses,r.toLowerCase()]})}addressFromIndex(r,n){const a=this.hdk.derive(`${r}/${n}`),i=pi.publicToAddress(a.publicKey,!0).toString("hex");return pi.toChecksumAddress(`0x${i}`)}pathFromAddress(r){const n=pi.toChecksumAddress(r);let a=this.paths[n];if(typeof a>"u"){for(let i=0;i<1e3;i++)if(n===this.addressFromIndex(vU,i)){a=i;break}}if(typeof a>"u")throw new Error("Unknown address");return{path:`${bU}/${a}`,index:a}}async migrateFromPreviousVersion0(){try{const n=(await Ln.storage.local.get("trezorAccounts")).trezorAccounts||[];n.length>0&&n.forEach(async a=>{const i=a.toLowerCase();this.state.addresses.find(o=>o===i)||await this.saveNewAccount(i)})}catch(r){Yt.error("MigrateFromPreviousVersion0",r)}}async migrateFromPreviousVersion1(){try{const r=await Ln.storage.local.get("trezorAccounts.v1");if(!r){await this.migrateFromPreviousVersion0();return}const a=(JSON.parse(r["trezorAccounts.v1"])||{}).addresses;if((a==null?void 0:a.length)>0)for(const i of a){const s=i.toLowerCase();this.state.addresses.find(f=>f===s)||await this.saveNewAccount(s)}}catch(r){Yt.error("MigrateFromPreviousVersion1",r)}}}var sI={},d2={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.getInterfaceLanguage=yU;Yf.getBestMatchingLanguage=_U;Yf.validateTranslationKeys=TU;Yf.randomPseudo=EU;function yU(){var e="en-US";if(typeof navigator>"u")return e;var t=navigator;if(t){if(t.language)return t.language;if(t.languages&&t.languages[0])return t.languages[0];if(t.userLanguage)return t.userLanguage;if(t.browserLanguage)return t.browserLanguage}return e}function _U(e,t){if(t[e])return e;var r=e.indexOf("-"),n=r>=0?e.substring(0,r):e;return t[n]?n:Object.keys(t)[0]}function TU(e){var t=["_interfaceLanguage","_language","_defaultLanguage","_defaultLanguageFirstLevelKeys","_props"];e.forEach(function(r){if(t.indexOf(r)!==-1)throw new Error(r+" cannot be used as a key. It is a reserved word.")})}function EU(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n+=1)t+=r.charAt(Math.floor(Math.random()*r.length));return t}Object.defineProperty(d2,"__esModule",{value:!0});var SU=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AU=function(){function e(t,r){var n=[],a=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),f;!(a=(f=o.next()).done)&&(n.push(f.value),!(r&&n.length===r));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}return n}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wU=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),CU=Yf,f0=IU(CU);function IU(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function PU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var kb=/(\{[\d|\w]+\})/,Bb=/(\$ref\{[\w|.]+\})/,NU=function(){function e(t,r){PU(this,e),typeof r=="function"&&(r={customLanguageInterface:r}),this._opts=bA({},{customLanguageInterface:f0.getInterfaceLanguage,pseudo:!1,pseudoMultipleLanguages:!1,logsEnabled:!0},r),this._interfaceLanguage=this._opts.customLanguageInterface(),this._language=this._interfaceLanguage,this.setContent(t)}return wU(e,[{key:"setContent",value:function(r){var n=this,a=Object.keys(r),i=AU(a,1),s=i[0];this._defaultLanguage=s,this._defaultLanguageFirstLevelKeys=[],this._props=r,f0.validateTranslationKeys(Object.keys(r[this._defaultLanguage])),Object.keys(this._props[this._defaultLanguage]).forEach(function(o){typeof n._props[n._defaultLanguage][o]=="string"&&n._defaultLanguageFirstLevelKeys.push(o)}),this.setLanguage(this._interfaceLanguage),this._opts.pseudo&&this._pseudoAllValues(this._props)}},{key:"_pseudoAllValues",value:function(r){var n=this;Object.keys(r).forEach(function(a){if(SU(r[a])==="object")n._pseudoAllValues(r[a]);else if(typeof r[a]=="string"){if(r[a].indexOf("[")===0&&r[a].lastIndexOf("]")===r[a].length-1)return;for(var i=r[a].split(" "),s=0;s<i.length;s+=1)if(!i[s].match(kb)){if(!i[s].match(Bb)){var o=i[s].length;n._opts.pseudoMultipleLanguages&&(o=parseInt(o*1.4,10)),i[s]=f0.randomPseudo(o)}}r[a]="["+i.join(" ")+"]"}})}},{key:"setLanguage",value:function(r){var n=this,a=f0.getBestMatchingLanguage(r,this._props),i=Object.keys(this._props)[0];if(this._language=a,this._props[a]){for(var s=0;s<this._defaultLanguageFirstLevelKeys.length;s+=1)delete this[this._defaultLanguageFirstLevelKeys[s]];var o=bA({},this._props[this._language]);Object.keys(o).forEach(function(f){n[f]=o[f]}),i!==this._language&&(o=this._props[i],this._fallbackValues(o,this))}}},{key:"_fallbackValues",value:function(r,n){var a=this;Object.keys(r).forEach(function(i){Object.prototype.hasOwnProperty.call(r,i)&&!n[i]&&n[i]!==""?(n[i]=r[i],a._opts.logsEnabled&&console.log("  key '"+i+"' not found in localizedStrings for language "+a._language+" ")):typeof n[i]!="string"&&a._fallbackValues(r[i],n[i])})}},{key:"getLanguage",value:function(){return this._language}},{key:"getInterfaceLanguage",value:function(){return this._interfaceLanguage}},{key:"getAvailableLanguages",value:function(){var r=this;return this._availableLanguages||(this._availableLanguages=[],Object.keys(this._props).forEach(function(n){r._availableLanguages.push(n)})),this._availableLanguages}},{key:"formatString",value:function(r){for(var n=this,a=arguments.length,i=Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=r||"";typeof o=="string"&&(o=this.getString(r,null,!0)||o);var f=o.split(Bb).filter(function(u){return!!u}).map(function(u){if(u.match(Bb)){var c=u.slice(5,-1),l=n.getString(c);return l||(n._opts.logsEnabled&&console.log("No Localization ref found for '"+u+"' in string '"+r+"'"),"$ref(id:"+c+")")}return u}).join("");return f.split(kb).filter(function(u){return!!u}).map(function(u){if(u.match(kb)){var c=u.slice(1,-1),l=i[c];if(l===void 0){var d=i[0][c];if(d!==void 0)l=d;else return l}return l}return u}).join("")}},{key:"getString",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;try{for(var i=this._props[n||this._language],s=r.split("."),o=0;o<s.length;o+=1){if(i[s[o]]===void 0)throw Error(s[o]);i=i[s[o]]}return i}catch(f){!a&&this._opts.logsEnabled&&console.log("No localization found for key '"+r+"' and language '"+n+"', failed on "+f.message)}return null}},{key:"getContent",value:function(){return this._props}}]),e}();d2.default=NU;Object.defineProperty(sI,"__esModule",{value:!0});var OU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xU=R,gA=uI(xU),RU=d2,oI=uI(RU);function uI(e){return e&&e.__esModule?e:{default:e}}var yA=/(\{[\d|\w]+\})/;oI.default.prototype.formatString=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=!1,i=(e||"").split(yA).filter(function(s){return!!s}).map(function(s,o){if(s.match(yA)){var f=s.slice(1,-1),u=r[f];if(u==null){var c=r[0][f];if(c!==void 0)u=c;else return u}return gA.default.isValidElement(u)?(a=!0,gA.default.Children.toArray(u).map(function(l){return OU({},l,{key:o.toString()})})):u}return s});return a?i:i.join("")};var DU=sI.default=oI.default;const MU={createWallet:{title:"Create New Wallet",createSeedPhrase:"Continue with Recovery Phrase",continueWithEmail:"Continue with Email"},roninBounties:{label:{expired:"Expired",unableToJoin:"Unable to join",actionNeeded:"Actions needed",conditionNotMet:"Condition not met",claimNow:"Claim now",questCompleted:"Quest Completed",rewardClaimed:"Reward claimed",rewardReady:"Reward ready",rewardRejected:"Reward rejected",rewardDistributed:"Reward distributed",rewardExpired:"Reward expired",verifyingEligibility:"Verifying eligibility",noLongerClaimable:"No longer claimable",brokenStreak:"Your streak is broken, let's start again!",notFound:"Quest not found",paused:"Quest is paused",backToRoninBounties:"Back to Bounties Home"},title:{dailyQuest:"Daily Quest",roninBounties:"Ronin Bounties",dailyCheckin:"DAILY CHECK-IN",share:"Share Ronin Bounties"},message:{notFound:"Were sorry. Please try again or go back to the Ronin Bounties home.",paused:"We apologize, but this quest is currently on pause due to some unforeseen issues."}},importWallet:{title:"Import Your Wallet",socialLoginTitle:"Social Login",socialLoginText:"Powered by MPC Technology, providing a secure, keyless experience.",privateKeyTitle:"Recovery Phrase or Private Key",privateKeyText:"Import any EVM-compatible Private Key (64-65 char) or Recovery Phrase (12-word) to restore your wallet ",hardwareWalletTitle:"Hardware Wallet",hardwareWalletText:"Have a Trezor or a Ledger hardware wallet? You can import it to Ronin Wallet now.",viewOnlyTitle:"View address",viewOnlyText:"Import any address for view-only purpose",continueSocial:{magicLink:"Continue with Email",title:"Continue with Social Login",text:"How do you want to continue?",or:"OR YOU CAN CONTINUE WITH"}},password:{label:"Recovery Password",placeholder:"Enter your password",checkBox:"I understand that SkyMavis cannot recover this Secret Recovery Password",confirm:"Confirm",forgotTitle:"Forgot what is Recovery Password? ",forgotContent1:"You were prompted to create this password the first time you used Social login. It is only stored locally on the device where you created the wallet, ensuring only you have access to it. Sky Mavis cannot recover this password for you.",forgotContent2:"Together with your Sky Mavis account, this password allows you to control your wallet in a user-friendly, non-custodial way.",forgotNote:"Note: If you are using email, Recovery Password is separate and different from your Sky Mavis account password."},manageTokens:{btnManageTokens:"Manage tokens",btnManageNfts:"Manage NFTs",headerManageTokens:"Manage Tokens",doneBtn:"Done",search:"Search",notFound:"No matching results",noToken:"You've turned off all tokens",invalidAddress:"Invalid address",existedAddress:"Existed address",invalidSymbol:"Symbol must be 11 characters or fewer.",invalidDecimals:"Decimals must be at least 0, and not over 36.",emptySearchResult:"No matching results",tokenImported:"Token imported",tokenNameImported:"Import {0} success"},common:{show:"Show your secrets",hide:"Hide your secrets",errorMessage:"Something went wrong. Please try again!",back:"Back",next:"Next",confirm:"Confirm",add:"Add",added:"Added",error:"Error",ok:"OK",finished:"Completed",invalidAddress:"Invalid address",accountNotFound:"Account is not found",accountNotFoundText:" We were unable to find account linked to this email. You can create a new wallet instead.",understood:"I understand",clear:"Clear",pasteFromClipboard:"Paste from clipboard",skip:"Skip",close:"Close",forgot:"Forgot your passcode",cancel:"Cancel",save:"Save",errors:{accountExisted:"Account is existed",invalidPasscode:"Invalid Passcode",maximumLimit:"You've reached the maximum limit",maxMpc:"Maximum of 1 Social Account has been reached",maxSeedWallet:"Maximum of 3 SeedPhrase Accounts have been reached",migrateFailed:"Failed to read the data"},network:"Network",permissions:"Permissions",connect:"Connect",remove:"Remove",done:"Done",undo:"Undo",continue:"Continue",proceed:"Proceed",unsupportedLedgeOnFirefox:"Info",unsupportedLedgeOnFirefoxMessage:"Ledger support is not available on Firefox"},selectHardware:{title:"Select a Hardware Wallet you would like to use with Ronin Wallet.",noteTitle:"What is a Hardware wallet?",noteDesc:"A hardware wallet is a piece of physical device (sometimes resembling a USB thumb drive) that securely guards a crypto users private cryptographic keys in offline or cold storage."},hwInstruction:{connectWallet:"Connect Wallet",connecting:"Connecting...",connected:"Connected",failedToConnectLedger:"Failed to connect. Please make sure your device is unlocked.",trezor:{title:"Connect your Trezor device",steps:[{title:"Step 1: Plug in your device",desc:"Connect your hardware wallet directly to your computer."},{title:"Step 2: Import a wallet",desc:"Select a wallet you want to import (one at a time)."},{title:"Step 3: Enjoy using Ronin!",desc:"Use your hardware wallet on Ronin just like any other account."}]},ledger:{title:"Connect your Ledger device",steps:[{title:"Step 1: Plug in your device",desc:"Connect your hardware wallet directly to your computer."},{title:"Step 2: Open Ethereum app",desc:"Find Ethereum app on your Ledger device and open it."},{title:"Step 3: Unlock and click Connect Wallet",desc:"Enter your Ledger Pincode to unlock the wallet, then return to this screen and click 'Connect Wallet'."}]}},hwAddress:{title:"Select address to import",goToPage:"Go to page",hdPath:"HD Path",loadingAddress:"Loading addresses..."},importKey:{title:"Import your Wallet",privateKey:"Private Key",seedPhrase:"Recovery Phrase",import:"Import"},privateKey:{name:"Private Key",accountExisted:"This address already existed",invalidKey:"Invalid private key",enterHint:"Enter your private key",instructions:[{title:"What is a Private Key?",desc:"A string of letters and numbers  that allows you to access and manage your crypto funds"},{title:"Does Ronin Wallet support Private Keys generated by other wallets?",desc:"Yes, Ronin Wallet currently supports all EVM-compatible Private Keys generated by Metamask, Trust, Coinbase Wallet, etc."},{title:"Is it safe to enter it into Ronin Wallet?",desc:"Yes. It will be stored locally and never leave your device without your explicit permission."}]},seedPhrase:{name:"Wallet",walletExisted:"This wallet already existed",invalidSeed:"Invalid recovery phrase",addresses:{title:"Select address to recreate"},created:{title:"Youre all set!",desc:"Would you like to continue recreate your addresses?",note:"We detected that you have created more than one address previously. Would you like to recreate them?",continue:"Yes, lets go recreate"},instructions:[{title:"What is a Recovery Phrase?",desc:"It is a 12-word phrase that can be used to restore your wallet"},{title:"Does Ronin Wallet support Recovery Phrases generated by other wallets?",desc:"Yes, Ronin Wallet currently supports all EVM-compatible 12-word Recovery Phrases generated by Metamask, Trust, Coinbase Wallet, etc."},{title:"Is it safe to enter it into Ronin Wallet?",desc:"Yes. It will be stored locally and never leave your device without your explicit permission."}]},viewAddress:{name:"View only"},manageWallet:{wallet:"Wallet",wallets:"Wallets",viewMoreAddress:"View more address",addAddress:"Add address",addPrivateKey:"Add private key",title:"Your Wallets",advanced:"Advanced",importWallet:"Import Existing Wallet",createWallet:"Create New Wallet",manageWallet:"Add & Manage Wallets",manageBtn:"Manage",doneBtn:"Done",resetBtn:"Reset app",cancelBtn:"Cancel",removeBtn:"Remove it",deleteWallet:{titleSeedphraseWallet:"You're removing your Secret Recovery Phrase",contentSeedphraseWallet:"Ensure you have a separate backup of your Secret Recovery Phrase stored securely, so that you can restore it in the future.",backupSeedphraseBtn:"Backup Recovery Phrase",titleKeylessWallet:"You are removing your Keyless Wallet",contentKeylessWallet:"Ensure you have a separate backup of your Secret Recovery Password stored securely so that you can restore it in the future.",backupKeylessBtn:"Backup Recovery Password"},resetWallet:{title:"You are about to Reset the Ronin Wallet",content:"Removing the sole Address or Recovery Phrase indicates that you are about to reset the entire wallet. Please ensure that you have a separate backup of your Recovery Phrase or Password.",visitSettings:"Visit Settings to Backup"},deleteAddress:{title:"You are removing this address",content:"This address will be removed from your wallet. Ensure you have a separate backup of your Secret Recovery Phrase stored securely. You can regenerate this address again from Manage Wallet menu."},renameAddress:{title:"Rename your Address"},renameWallet:{title:"Rename your Wallet"}},editAddress:{title:"Edit Address",addressName:"Address Name",showSeedPhrase:"Show Secret Recovery Phrase",showRecoveryPassword:"Show Recovery Password",showPrivateKey:"Show Private Key",signoutAccount:"Sign out this account",createdWith:"Created with",accountServices:{title:"SkyMavis Account Services",content:"Visit below to change settings you want, including:",accessManagement:" Access Management",changeAccPass:" Change Account Password",visit:"Visit Account Services "}},session:{addresses:{title:"Add addresses to connect",addAll:"Add all addresses"},connect:{permissions:["View your wallet balance & activity","Request approval for transactions"],note:"Only connect to website you trust",addresses:"{0} addresses"}},createNewWallet:{title:"Create a new wallet",content:"Your new wallet will be secured by a secret recovery phrase or password. To keep those safe, you can write them down and refrain from sharing them with anyone."},signOutMPCAccount:{title:"Have you backed up your recovery password?",content:"You are about to sign out of your Keyless Wallet. If you want to log in again, you will need your recovery password.",backupBtn:"Backup Recovery Password",signNow:"Yes, Sign out now"},confirmReset:{title:"Are you sure?",content:"Please read the following carefully and check all the boxes before resetting wallet.",condition:{first:"By Resetting the wallet, you are acknowledging that you are removing all Secret Recovery Phrases, Secret Recovery Passwords or Private Keys stored in this wallet.",second:"You have separate backups for your Secret Recovery Phrases, Secret Recovery Passwords, or Private Keys, and you have access to them.",third:"You are acknowledging that Sky Mavis cannot recover Secret Recovery Phrases, Secret Recovery Passwords or Private Keys for you"},resetBtn:"Reset wallet",dialog:{title:"Reset wallet",content:"Please type in : RESET to reset your wallet",replaceText:"Input here",resetBtn:"Reset"}},reveal:{attention:"Attention",copyToClipboard:"Copy to Clipboard",recoveryPhrase:{title:"Recovery Phrase",pleaseRead:"Please read the following carefully before viewing your recovery phrase",firstWarning:"Your recovery phrase acts as a master password, giving you full control over your blockchain assets.",secondWarning:"It is crucial that you are the sole keeper of your recovery phrase.",thirdWarning:"To ensure the safety and security of your assets, it is important that you keep your recovery phrase confidential and never disclose it to anyone, including SkyMavis.",revealRecoveryPhrase:"Reveal Recovery Phrase"},privateKey:{title:"Private Key",pleaseRead:"Please read the following carefully before viewing your private key",firstWarning:"Your private key acts as a master password, giving you full control over your blockchain assets.",secondWarning:"It is crucial that you are the sole keeper of your private key.",thirdWarning:"To ensure the safety and security of your assets, it is important that you keep your private key confidential and never disclose it to anyone, including SkyMavis.",revealPrivateKey:"Reveal Private Key"},forYourEyesOnly:{title:"For your eyes only",content:{seedPhrase:"Save your Secret Recovery Phrase in a secure place and Do not share.",privateKey:"Save your Private Key in a secure place and Do not share..",backupPassword:"Save your Secret Recovery Password in a secure place and do not share."}},recoveryPassword:{title:"Secret Recovery Password",recoveryPassword:"Recovery Password"},unlock:{title:"Confirm your passcode",enterPasscode:"Enter your passcode"}},forgotPass:{title:"Forgot your passcode?",description:"You can reset your passcode by reset the wallet. Ronin Wallet cannot recover your passcode for you."},deposit:{title:"Deposit",qr:{title:"QR",yourAddress:"Your Address"},onRamp:{title:"On-Ramp",description:"On-ramp services on Ronin Wallet simplifies the conversion of traditional money into cryptocurrencies. Making it easier to enter the crypto space.",continueSelectAsset:"Continue selecting assets",buy:{title:"Buy",limit:"Limit: ",min:"Min",max:"Max"}}},connectStatus:{notConnected:"Not Connected",notConnectedMessage:"Ronin Wallet isnt connected to this site. If its a crypto dApp, find the Connect Wallet button. Click it to connect.",connected:"{0} Connected",connectedButNotCurrent:"{0} is not connected",connectMore:"Connect more wallet",editConnect:"Edit Connection",network:"Network in use"}},Ou=new DU({en:MU}),LU=(e=10)=>new Array(e).fill(void 0),Pm=async()=>{const e=Object.values((await ir.get()).wallets).map(r=>r.sortedIndex).filter(r=>!isNaN(r));return e.length===0?1:Math.max(...e)+1},Qde=async e=>{const t=Object.values((await ir.getWallet(e)).accounts).map(r=>r.sortedIndex).filter(r=>!isNaN(r));return t.length===0?1:Math.max(...t)+1},Zde=async()=>{const e=Ln.storage.local,t=await e.get("encryptedVault"),r=await e.get("mpc_store"),n=await e.get("privateKeyAccounts.v2");return!!await e.get("selectedAccount")&&(!!t||!!n||!!r)},ehe=async(e,t)=>{await BU(e),await FU(e),await HU(e),await $U(e),await UU(e),await kU(e),await ir.setIsMigrated(!0),t&&await cI()},cI=async()=>{await Ln.storage.local.remove(["nickname","selectedAccount","encryptedVault","privateKeyAccounts.v2","trezorAccounts","trezorAccounts.v1","ledgerAccounts.v1"])},kU=async e=>{var t,r,n;try{const a=Ln.storage.local,i=await a.get("selectedAccount"),s=await a.get("nickname")??{};await mr.unlock(e);const o=await mr.getAccounts(),f=(t=i==null?void 0:i.selectedAccount)!=null&&t.address?await mr.getAccountByAddress(i.selectedAccount.address.toLowerCase()):void 0;f?await ir.setCurrentAccount(t1(f,!(s!=null&&s.nickname)||!(s!=null&&s.nickname[f.address.toLowerCase()])?Hc(i.selectedAccount.name,f.type):Hc(s.nickname[f.address.toLowerCase()],f.type))):o.length>0&&await ir.setCurrentAccount(t1(o[0],!(s!=null&&s.nickname)||!(s!=null&&s.nickname[f[0].address.toLowerCase()])?void 0:Hc(s.nickname[o[0].address.toLowerCase()],o[0].type)))}catch(a){Yt.error("SelectedAccount",a);const i=await ir.get(),s=(r=Object.values(i.wallets??{}))==null?void 0:r[0],o=(n=s==null?void 0:s.accounts)==null?void 0:n[0];o&&await ir.setCurrentAccount(o)}await Cc.setUnlocked(e)},BU=async e=>{const r=await Ln.storage.local.get("mpc_store");if(Object.keys(r).length===0)return;const n=new u7("",f_,c7),a=new l_(e),i=JSON.parse(r.mpc_store);if(!i.encryptedData)return;const s=JSON.parse(await a.decrypt(i.encryptedData));try{await mr.unlock(e)}catch{throw Error("UNLOCK_FAILED")}if(n.storeKey=f7(Pn.MPC,tp(Pn.MPC,i.account.address.toLowerCase())),!s)throw Error("NO_MPC_DATA");await n.updateState({auth:{accessToken:s==null?void 0:s.auth.accessToken,refreshToken:s==null?void 0:s.auth.refreshToken,userId:i==null?void 0:i.userInfo.userId,email:i==null?void 0:i.userInfo.email},keystore:s==null?void 0:s.keystore,masterPassword:s==null?void 0:s.masterPassword,keyUpdatedAt:i==null?void 0:i.keyUpdatedAt,walletId:tp(Pn.MPC,i==null?void 0:i.account.address.toLowerCase()),type:Pn.MPC,accounts:[{address:i==null?void 0:i.account.address,type:Pn.MPC,index:0,walletId:i==null?void 0:i.account.address.toLowerCase()}]});const o=await mr.addWallet(n),f={};f[i.account.address.toLowerCase()]=i.userInfo.email;const c={...hh(o,"MPC Wallet",f),sortedIndex:await Pm()};await ir.addOrUpdateWallet(c)},FU=async e=>{var l;const t=Ln.storage.local,r=await t.get("encryptedVault");if(!(r!=null&&r.encryptedVault))return;const n=await t.get("nickname"),a=new l_(e),i=JSON.parse(await a.decrypt(r.encryptedVault));try{await mr.unlock(e)}catch{throw Error("UNLOCK_FAILED")}let s;try{s=await mr.addSeedWallet(i.mnemonic)}catch(d){if(Yt.error("MigrateSeedPhrase",d),(d==null?void 0:d.code)==="SEED_EXISTED")s=(l=mr.getWalletByType(Pn.SEED_PHRASE))==null?void 0:l[0];else throw d;if(!s)throw d}const o=(await s.getAccounts())[0],f={};!(n!=null&&n.nickname)||!(n!=null&&n.nickname[o.address.toLowerCase()])?f[o.address.toLowerCase()]="Address 1":f[o.address.toLowerCase()]=Hc(n.nickname[o.address.toLowerCase()]);for(let d=1;d<i.totalAccount;d++){const h=await s.createNewAccountByIndex(d);!(n!=null&&n.nickname)||!(n!=null&&n.nickname[h.address.toLowerCase()])?f[h.address.toLowerCase()]=`Address ${d+1}`:f[h.address.toLowerCase()]=Hc(n.nickname[h.address.toLowerCase()])}const u=Object.values((await ir.get()).wallets).filter(d=>d.walletType===Pn.SEED_PHRASE).length+1,c={...hh(s,`${Ou.seedPhrase.name} ${u}`,f),sortedIndex:await Pm()};await ir.addOrUpdateWallet(c),to.sendEvent(oo.Noop,uo.MigrateSeed,co.Migrate)},HU=async e=>{var c;const t=Ln.storage.local,r=await t.get("privateKeyAccounts.v2");if(Object.keys(r??{}).length===0)return;const n=new l_(e),a=JSON.parse(r["privateKeyAccounts.v2"]);if(!(a!=null&&a.accounts))return;const i=await t.get("nickname");let s;const o={};for(let l=0;l<a.accounts.length;l++){const d=a.accounts[l],h=await n.decrypt(d.encryptedPrivateKey);if(l===0)try{await mr.unlock(e)}catch{throw Error("UNLOCK_FAILED")}!(i!=null&&i.nickname)||!(i!=null&&i.nickname[d.address.toLowerCase()])?o[d.address.toLowerCase()]=`Private Key ${l+1}`:o[d.address.toLowerCase()]=Hc(i.nickname[d.address.toLowerCase()]);try{s=await mr.addPrivateKeyWallet(h)}catch(p){Yt.error("MigratePrivateKey",p),(p==null?void 0:p.code)==="ACCOUNT_EXISTED"&&(s=(c=await mr.getWalletByAddress(d.address))==null?void 0:c[0])}}if(!s)return;const u={...hh(s,Ou.privateKey.name,o),sortedIndex:await Pm()};await ir.addOrUpdateWallet(u)},$U=async e=>{try{const t=Ln.storage.local,r=new gU;await r.enable(),await r.migrateFromPreviousVersion1();const n=r.getAccounts();if(!n||n.length===0)return;const a=tp(Pn.TREZOR,n[0]),i=n.map((u,c)=>({address:u,walletId:a,type:Pn.TREZOR,index:c})),s=new l7(f_,a);await s.updateState({accounts:i}),await mr.unlock(e),await mr.addWallet(s);const o=await t.get("nickname"),f={...hh(s,"Trezor",o.nickname),sortedIndex:mr.getWallets().length};await ir.addOrUpdateWallet(f)}catch(t){Yt.error("Trezor",t)}},UU=async e=>{try{const t=new d7;await t.enable(),await t.migrateFromPreviousVersion();const r=t.getAccounts();if(!r||r.length===0)return;const n=Ln.storage.local,a=tp(Pn.LEDGER,r[0].address),i=r.map((u,c)=>({address:u.address,walletId:a,type:Pn.LEDGER,hdPath:u.hdPath,index:c})),s=new h7(f_,a);await s.updateState({accounts:i}),await mr.unlock(e),await mr.addWallet(s);const o=await n.get("nickname"),f={...hh(s,"Ledger",o.nickname),sortedIndex:await Pm()};await ir.addOrUpdateWallet(f)}catch(t){Yt.error("Ledger",t)}};var jU={VITE_DEV:"false",VITE_ENV:"production",VITE_FIREFOX:"false",VITE_BETA_RELEASE:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function fI(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const s=f=>f===null?null:JSON.parse(f,t==null?void 0:t.reviver),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,t==null?void 0:t.replacer)),removeItem:a=>r.removeItem(a)}}const Td=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Td(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Td(n)(r)}}}},GU=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...t},s=!1;const o=new Set,f=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,a);const c=Td(i.serialize),l=()=>{const v=i.partialize({...n()});let b;const g=c({state:v,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{b=y});if(b)throw b;return g},d=a.setState;a.setState=(v,b)=>{d(v,b),l()};const h=e((...v)=>{r(...v),l()},n,a);let p;const m=()=>{var v;if(!u)return;s=!1,o.forEach(g=>g(n()));const b=((v=i.onRehydrateStorage)==null?void 0:v.call(i,n()))||void 0;return Td(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var y;return p=i.merge(g,(y=n())!=null?y:h),r(p,!0),l()}).then(()=>{b==null||b(p,void 0),s=!0,f.forEach(g=>g(p))}).catch(g=>{b==null||b(void 0,g)})};return a.persist={setOptions:v=>{i={...i,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(f.add(v),()=>{f.delete(v)})},m(),p||h},KU=(e,t)=>(r,n,a)=>{let i={storage:fI(()=>localStorage),partialize:m=>m,version:0,merge:(m,v)=>({...v,...m}),...t},s=!1;const o=new Set,f=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,a);const c=()=>{const m=i.partialize({...n()});return u.setItem(i.name,{state:m,version:i.version})},l=a.setState;a.setState=(m,v)=>{l(m,v),c()};const d=e((...m)=>{r(...m),c()},n,a);a.getInitialState=()=>d;let h;const p=()=>{var m,v;if(!u)return;s=!1,o.forEach(g=>{var y;return g((y=n())!=null?y:d)});const b=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(m=n())!=null?m:d))||void 0;return Td(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var y;return h=i.merge(g,(y=n())!=null?y:d),r(h,!0),c()}).then(()=>{b==null||b(h,void 0),h=n(),s=!0,f.forEach(g=>g(h))}).catch(g=>{b==null||b(void 0,g)})};return a.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(f.add(m),()=>{f.delete(m)})},i.skipHydration||p(),h||d},WU=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((jU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),GU(e,t)):KU(e,t),qU=WU,_A={whatsNew:!0,introBounties:!0,skipAddCalendar:[]},lI=dm(qU(e=>({..._A,setSkipAddCalendar:async t=>{e(r=>({skipAddCalendar:r.skipAddCalendar.includes(t)?r.skipAddCalendar.filter(a=>a!==t):[...r.skipAddCalendar,t]}))},setWhatsNew:t=>e({whatsNew:t}),setIntroBounties:t=>e({introBounties:t}),clear:()=>e({..._A,whatsNew:!1})}),{name:J7.ONE_TIME_STORE,storage:fI(()=>localStorage)})),dI=()=>{const{refetch:e,isLoading:t,...r}=bi({queryKey:[ia.ACCOUNT_STORE],queryFn:async()=>await ir.get()}),{deleteAllSessions:n,removeAccountsInSessions:a,handleAccountChanged:i}=pU(),{clear:s}=lI();R.useEffect(()=>{const b=()=>e();return ir.subscribe(b),()=>{ir.unSubscribe(b)}},[e]);const o=async b=>{await ir.setCurrentAccount(b);try{await i(b.address)}catch(g){Yt.error("handleAccountChanged",g)}},f=async b=>{const g=mr.getWalletById(b.toLowerCase())||mr.getWalletById(b);if(g){await ir.removeWallet(b);try{await mr.removeWallet(g)}catch(y){Yt.error(y)}try{await a(g.getState().accounts.map(y=>y.address.toLowerCase()))}catch(y){Yt.error(y)}try{g.getState().type===Pn.MPC&&(await ir.setChangedPass(!1),await ir.setSessionExpired(!1))}catch(y){Yt.error(y)}}},u=async()=>{try{await mr.clear()}catch(b){Yt.error(b)}try{s()}catch(b){Yt.error(b)}try{await ir.clear()}catch(b){Yt.error(b)}try{await Cc.clear()}catch(b){Yt.error(b)}try{await Tn.clear()}catch(b){Yt.error(b)}try{await mr.lock()}catch(b){Yt.error(b)}try{await Ns.clear()}catch(b){Yt.error(b)}try{await cI()}catch(b){Yt.error(b)}try{await n()}catch(b){Yt.error(b)}},c=async b=>await ir.addOrUpdateWallet(b),l=async b=>await ir.addOrUpdateAccount(b),d=async b=>await ir.addOrUpdateWallet(b),h=async(b,g)=>{var C;await ir.removeAccount(b,g),await a([g]);const y=mr.getWalletById(b);y&&await mr.removeAccountOrWallet((C=y.getState())==null?void 0:C.type,g)},p=b=>ir.getWallet(b.toLowerCase()),m=async(b,g)=>{const y=v(!0);return Object.values(y).find(C=>{var I;return((I=C==null?void 0:C.address)==null?void 0:I.toLowerCase())===(g==null?void 0:g.toLowerCase())&&(C==null?void 0:C.walletId)===b})},v=b=>{const g=[];return Object.values(r.data.wallets??{}).forEach(y=>{g.push(...Object.values(y.accounts??{}))}),b?g:g.filter(y=>y.type!==Pn.ADDRESS)};return{isLoading:t,accountInfo:r,setCurrentAccount:o,removeWallet:f,removeAccount:h,addWallet:c,addOrUpdateAccount:l,addOrUpdateWallet:d,resetWallet:u,getAccountInfo:m,getWalletInfo:p,allAccounts:v}},VU=()=>Iu(dI(),"accountInfo.data.currentAccount"),Nm=()=>Iu(VU(),"address"),TA=e=>{const{isShow:t,onToggleShow:r}=e;return Z.jsx("span",{role:"button",tabIndex:-1,className:"cursor-pointer",onClick:()=>{r(!t)},children:t?Z.jsx(iU,{}):Z.jsx(nU,{})})};var Pi={},hI={},Om={},pI={exports:{}},mI={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(mI);var zU=mI.exports;(function(e){var t=zU.default;function r(){e.exports=r=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var n,a={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(U,q,V){U[q]=V.value},f=typeof Symbol=="function"?Symbol:{},u=f.iterator||"@@iterator",c=f.asyncIterator||"@@asyncIterator",l=f.toStringTag||"@@toStringTag";function d(U,q,V){return Object.defineProperty(U,q,{value:V,enumerable:!0,configurable:!0,writable:!0}),U[q]}try{d({},"")}catch{d=function(V,W,Q){return V[W]=Q}}function h(U,q,V,W){var Q=q&&q.prototype instanceof C?q:C,te=Object.create(Q.prototype),pe=new F(W||[]);return o(te,"_invoke",{value:x(U,V,pe)}),te}function p(U,q,V){try{return{type:"normal",arg:U.call(q,V)}}catch(W){return{type:"throw",arg:W}}}a.wrap=h;var m="suspendedStart",v="suspendedYield",b="executing",g="completed",y={};function C(){}function I(){}function P(){}var O={};d(O,u,function(){return this});var N=Object.getPrototypeOf,S=N&&N(N(G([])));S&&S!==i&&s.call(S,u)&&(O=S);var D=P.prototype=C.prototype=Object.create(O);function w(U){["next","throw","return"].forEach(function(q){d(U,q,function(V){return this._invoke(q,V)})})}function T(U,q){function V(Q,te,pe,be){var Ie=p(U[Q],U,te);if(Ie.type!=="throw"){var me=Ie.arg,xe=me.value;return xe&&t(xe)=="object"&&s.call(xe,"__await")?q.resolve(xe.__await).then(function(We){V("next",We,pe,be)},function(We){V("throw",We,pe,be)}):q.resolve(xe).then(function(We){me.value=We,pe(me)},function(We){return V("throw",We,pe,be)})}be(Ie.arg)}var W;o(this,"_invoke",{value:function(te,pe){function be(){return new q(function(Ie,me){V(te,pe,Ie,me)})}return W=W?W.then(be,be):be()}})}function x(U,q,V){var W=m;return function(Q,te){if(W===b)throw new Error("Generator is already running");if(W===g){if(Q==="throw")throw te;return{value:n,done:!0}}for(V.method=Q,V.arg=te;;){var pe=V.delegate;if(pe){var be=_(pe,V);if(be){if(be===y)continue;return be}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(W===m)throw W=g,V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);W=b;var Ie=p(U,q,V);if(Ie.type==="normal"){if(W=V.done?g:v,Ie.arg===y)continue;return{value:Ie.arg,done:V.done}}Ie.type==="throw"&&(W=g,V.method="throw",V.arg=Ie.arg)}}}function _(U,q){var V=q.method,W=U.iterator[V];if(W===n)return q.delegate=null,V==="throw"&&U.iterator.return&&(q.method="return",q.arg=n,_(U,q),q.method==="throw")||V!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+V+"' method")),y;var Q=p(W,U.iterator,q.arg);if(Q.type==="throw")return q.method="throw",q.arg=Q.arg,q.delegate=null,y;var te=Q.arg;return te?te.done?(q[U.resultName]=te.value,q.next=U.nextLoc,q.method!=="return"&&(q.method="next",q.arg=n),q.delegate=null,y):te:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,y)}function M(U){var q={tryLoc:U[0]};1 in U&&(q.catchLoc=U[1]),2 in U&&(q.finallyLoc=U[2],q.afterLoc=U[3]),this.tryEntries.push(q)}function L(U){var q=U.completion||{};q.type="normal",delete q.arg,U.completion=q}function F(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(M,this),this.reset(!0)}function G(U){if(U||U===""){var q=U[u];if(q)return q.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var V=-1,W=function Q(){for(;++V<U.length;)if(s.call(U,V))return Q.value=U[V],Q.done=!1,Q;return Q.value=n,Q.done=!0,Q};return W.next=W}}throw new TypeError(t(U)+" is not iterable")}return I.prototype=P,o(D,"constructor",{value:P,configurable:!0}),o(P,"constructor",{value:I,configurable:!0}),I.displayName=d(P,l,"GeneratorFunction"),a.isGeneratorFunction=function(U){var q=typeof U=="function"&&U.constructor;return!!q&&(q===I||(q.displayName||q.name)==="GeneratorFunction")},a.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,P):(U.__proto__=P,d(U,l,"GeneratorFunction")),U.prototype=Object.create(D),U},a.awrap=function(U){return{__await:U}},w(T.prototype),d(T.prototype,c,function(){return this}),a.AsyncIterator=T,a.async=function(U,q,V,W,Q){Q===void 0&&(Q=Promise);var te=new T(h(U,q,V,W),Q);return a.isGeneratorFunction(q)?te:te.next().then(function(pe){return pe.done?pe.value:te.next()})},w(D),d(D,l,"Generator"),d(D,u,function(){return this}),d(D,"toString",function(){return"[object Generator]"}),a.keys=function(U){var q=Object(U),V=[];for(var W in q)V.push(W);return V.reverse(),function Q(){for(;V.length;){var te=V.pop();if(te in q)return Q.value=te,Q.done=!1,Q}return Q.done=!0,Q}},a.values=G,F.prototype={constructor:F,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!q)for(var V in this)V.charAt(0)==="t"&&s.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=n)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var V=this;function W(me,xe){return pe.type="throw",pe.arg=q,V.next=me,xe&&(V.method="next",V.arg=n),!!xe}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var te=this.tryEntries[Q],pe=te.completion;if(te.tryLoc==="root")return W("end");if(te.tryLoc<=this.prev){var be=s.call(te,"catchLoc"),Ie=s.call(te,"finallyLoc");if(be&&Ie){if(this.prev<te.catchLoc)return W(te.catchLoc,!0);if(this.prev<te.finallyLoc)return W(te.finallyLoc)}else if(be){if(this.prev<te.catchLoc)return W(te.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return W(te.finallyLoc)}}}},abrupt:function(q,V){for(var W=this.tryEntries.length-1;W>=0;--W){var Q=this.tryEntries[W];if(Q.tryLoc<=this.prev&&s.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var te=Q;break}}te&&(q==="break"||q==="continue")&&te.tryLoc<=V&&V<=te.finallyLoc&&(te=null);var pe=te?te.completion:{};return pe.type=q,pe.arg=V,te?(this.method="next",this.next=te.finallyLoc,y):this.complete(pe)},complete:function(q,V){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&V&&(this.next=V),y},finish:function(q){for(var V=this.tryEntries.length-1;V>=0;--V){var W=this.tryEntries[V];if(W.finallyLoc===q)return this.complete(W.completion,W.afterLoc),L(W),y}},catch:function(q){for(var V=this.tryEntries.length-1;V>=0;--V){var W=this.tryEntries[V];if(W.tryLoc===q){var Q=W.completion;if(Q.type==="throw"){var te=Q.arg;L(W)}return te}}throw new Error("illegal catch attempt")},delegateYield:function(q,V,W){return this.delegate={iterator:G(q),resultName:V,nextLoc:W},this.method==="next"&&(this.arg=n),y}},a}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(pI);var YU=pI.exports,B0=YU(),XU=B0;try{regeneratorRuntime=B0}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=B0:Function("r","regeneratorRuntime = r")(B0)}const de=Ts(XU);var vI;const JU=om().ec,Ed=new JU("secp256k1"),Tp=$.crypto||$.msCrypto||{},Zs=Tp.subtle||Tp.webkitSubtle,Sd=Wu(),QU=ae.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),ZU=ae.alloc(32,0);function wn(e,t){if(!e)throw new Error(t||"Assertion failed")}function ej(e){return ae.isBuffer(e)&&e.length===32}function ph(e){return ej(e)?e.compare(ZU)>0&&e.compare(QU)<0:!1}function tj(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function ed(e){const t=new Uint8Array(e);return typeof Tp.getRandomValues>"u"?ae.from(Sd.randomBytes(e)):(Tp.getRandomValues(t),ae.from(t))}async function bI(e){if(Zs){const n=await Zs.digest("SHA-512",e);return new Uint8Array(n)}const r=Sd.createHash("sha512").update(e).digest();return new Uint8Array(r)}function gI(e){return async function(t,r,n){if(Zs){const a={name:"AES-CBC"},i=await Zs.importKey("raw",r,a,!1,[e]),s={name:"AES-CBC",iv:t},o=await Zs[e](s,i,n);return ae.from(new Uint8Array(o))}else if(e==="encrypt"){const a=Sd.createCipheriv("aes-256-cbc",r,t);let i=a.update(n),s=a.final();return ae.concat([i,s])}else if(e==="decrypt"){const a=Sd.createDecipheriv("aes-256-cbc",r,t);let i=a.update(n),s=a.final();return ae.concat([i,s])}}}const rj=gI("encrypt"),nj=gI("decrypt");async function yI(e,t){if(Zs){const a={name:"HMAC",hash:{name:"SHA-256"}},i=await Zs.importKey("raw",new Uint8Array(e),a,!1,["sign","verify"]),s=await Zs.sign("HMAC",i,t);return ae.from(new Uint8Array(s))}const r=Sd.createHmac("sha256",ae.from(e));return r.update(t),r.digest()}async function aj(e,t,r){const n=await yI(e,t);return tj(n,r)}var ij=function(){let e=ed(32);for(;!ph(e);)e=ed(32);return e};const sj=vI=function(e){return wn(e.length===32,"Bad private key"),wn(ph(e),"Bad private key"),ae.from(Ed.keyFromPrivate(e).getPublic("arr"))},_I=async function(e,t){wn(ae.isBuffer(e),"Bad private key"),wn(ae.isBuffer(t),"Bad public key"),wn(e.length===32,"Bad private key"),wn(ph(e),"Bad private key"),wn(t.length===65||t.length===33,"Bad public key"),t.length===65&&wn(t[0]===4,"Bad public key"),t.length===33&&wn(t[0]===2||t[0]===3,"Bad public key");const r=Ed.keyFromPrivate(e),n=Ed.keyFromPublic(t),a=r.derive(n.getPublic());return ae.from(a.toArray())},oj=async function(e,t){wn(ae.isBuffer(e),"Bad private key"),wn(ae.isBuffer(t),"Bad public key"),wn(e.length===32,"Bad private key"),wn(ph(e),"Bad private key"),wn(t.length===65||t.length===33,"Bad public key"),t.length===65&&wn(t[0]===4,"Bad public key"),t.length===33&&wn(t[0]===2||t[0]===3,"Bad public key");const r=Ed.keyFromPrivate(e),n=Ed.keyFromPublic(t),a=r.derive(n.getPublic());return ae.from(a.toString(16,64),"hex")};var uj=async function(e,t,r){r=r||{};let n,a,i,s,o=r.ephemPrivateKey||ed(32);for(;!ph(o);)o=r.ephemPrivateKey||ed(32);a=sj(o);const f=await _I(o,e),u=await bI(f);n=r.iv||ed(16);const c=u.slice(0,32);s=u.slice(32),i=await rj(n,c,t);const d=ae.concat([n,a,i]),h=await yI(s,d);return{iv:n,ephemPublicKey:a,ciphertext:i,mac:h}};const TI=async function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n;const i=await(r?oj:_I)(e,t.ephemPublicKey),s=await bI(i);n=s.slice(0,32);const o=s.slice(32),f=ae.concat([t.iv,t.ephemPublicKey,t.ciphertext]),u=await aj(o,f,t.mac);if(!u&&r===!1)return TI(e,t,!0);if(!u&&r===!0)throw new Error("bad MAC after trying padded");const c=await nj(t.iv,n,t.ciphertext);return ae.from(new Uint8Array(c))};var cj=TI,EI=om();class Ep extends Error{constructor(t){super(Ep._prepareSuperMessage(t)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,Ep)}static _prepareSuperMessage(t){try{return JSON.stringify(t)}catch{return String(t)}}}const fj=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],r1=Symbol(".toJSON called"),lj=e=>{e[r1]=!0;const t=e.toJSON();return delete e[r1],t},h2=({from:e,seen:t,to_:r,forceEnumerable:n,maxDepth:a,depth:i})=>{const s=r||(Array.isArray(e)?[]:{});if(t.push(e),i>=a)return s;if(typeof e.toJSON=="function"&&e[r1]!==!0)return lj(e);for(const[o,f]of Object.entries(e)){if(typeof ae=="function"&&ae.isBuffer(f)){s[o]="[object Buffer]";continue}if(typeof f!="function"){if(!f||typeof f!="object"){s[o]=f;continue}if(!t.includes(e[o])){i++,s[o]=h2({from:e[o],seen:t.slice(),forceEnumerable:n,maxDepth:a,depth:i});continue}s[o]="[Circular]"}}for(const{property:o,enumerable:f}of fj)typeof e[o]=="string"&&Object.defineProperty(s,o,{value:e[o],enumerable:n?!0:f,configurable:!0,writable:!0});return s},dj=(e,t={})=>{const{maxDepth:r=Number.POSITIVE_INFINITY}=t;return typeof e=="object"&&e!==null?h2({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e},hj=(e,t={})=>{const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const n=new Error;return h2({from:e,seen:[],to_:n,maxDepth:r,depth:0}),n}return new Ep(e)};var SI={serializeError:dj,deserializeError:hj},AI={},xm={},Rm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=p7;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})})(Rm);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=ip,r=Rm;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16})(xm);var Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});Dm.GWEI_TO_WEI=void 0;Dm.GWEI_TO_WEI=BigInt(1e9);var p2={},Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.RLP=Fi.utils=Fi.decode=Fi.encode=void 0;function m2(e){if(Array.isArray(e)){const r=[];let n=0;for(let a=0;a<e.length;a++){const i=m2(e[a]);r.push(i),n+=i.length}return a1(SA(n,192),...r)}const t=OI(e);return t.length===1&&t[0]<128?t:a1(SA(t.length,128),t)}Fi.encode=m2;function gc(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function EA(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return II(CI(e))}function SA(e,t){if(e<56)return Uint8Array.from([e+t]);const r=i1(e),n=r.length/2,a=i1(t+55+n);return Uint8Array.from(Sp(a+r))}function wI(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=OI(e),n=n1(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}Fi.decode=wI;function n1(e){let t,r,n,a,i;const s=[],o=e[0];if(o<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(o<=183){if(t=o-127,o===128?n=Uint8Array.from([]):n=gc(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(o<=191){if(r=o-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=EA(gc(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=gc(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(o<=247){for(t=o-191,a=gc(e,1,t);a.length;)i=n1(a),s.push(i.data),a=i.remainder;return{data:s,remainder:e.slice(t)}}else{if(r=o-246,t=EA(gc(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const f=r+t;if(f>e.length)throw new Error("invalid RLP: total length is larger than the data");for(a=gc(e,r,f);a.length;)i=n1(a),s.push(i.data),a=i.remainder;return{data:s,remainder:e.slice(f)}}}const pj=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function CI(e){let t="";for(let r=0;r<e.length;r++)t+=pj[e[r]];return t}function II(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function Sp(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=II(e.slice(n,n+2))}return t}function a1(...e){if(e.length===1)return e[0];const t=e.reduce((n,a)=>n+a.length,0),r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const i=e[n];r.set(i,a),a+=i.length}return r}function PI(e){return new TextEncoder().encode(e)}function i1(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function mj(e){return e.length%2?`0${e}`:e}function NI(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function vj(e){return typeof e!="string"?e:NI(e)?e.slice(2):e}function OI(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return NI(e)?Sp(mj(vj(e))):PI(e);if(typeof e=="number"||typeof e=="bigint")return e?Sp(i1(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}Fi.utils={bytesToHex:CI,concatBytes:a1,hexToBytes:Sp,utf8ToBytes:PI};Fi.RLP={encode:m2,decode:wI};var Yu={},za={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.isHexString=sr.getKeys=sr.fromAscii=sr.fromUtf8=sr.toAscii=sr.arrayContainsArray=sr.getBinarySize=sr.padToEven=sr.stripHexPrefix=sr.isHexPrefixed=void 0;function xI(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}sr.isHexPrefixed=xI;const bj=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return xI(e)?e.slice(2):e};sr.stripHexPrefix=bj;function RI(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}sr.padToEven=RI;function gj(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return ae.byteLength(e,"utf8")}sr.getBinarySize=gj;function yj(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}sr.arrayContainsArray=yj;function _j(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const a=parseInt(e.substr(r,2),16);t+=String.fromCharCode(a)}return t}sr.toAscii=_j;function Tj(e){const t=ae.from(e,"utf8");return`0x${RI(t.toString("hex")).replace(/^0+|0+$/g,"")}`}sr.fromUtf8=Tj;function Ej(e){let t="";for(let r=0;r<e.length;r++){const a=e.charCodeAt(r).toString(16);t+=a.length<2?`0${a}`:a}return`0x${t}`}sr.fromAscii=Ej;function Sj(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let a=0;a<e.length;a++){let i=e[a][t];if(r===!0&&!i)i="";else if(typeof i!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof i}`);n.push(i)}return n}sr.getKeys=Sj;function Aj(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}sr.isHexString=Aj;Object.defineProperty(za,"__esModule",{value:!0});za.assertIsString=za.assertIsArray=za.assertIsBuffer=za.assertIsHexString=void 0;const wj=sr,Cj=function(e){if(!(0,wj.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};za.assertIsHexString=Cj;const Ij=function(e){if(!ae.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};za.assertIsBuffer=Ij;const Pj=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};za.assertIsArray=Pj;const Nj=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};za.assertIsString=Nj;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=za,r=sr,n=function(_){if(!Number.isSafeInteger(_)||_<0)throw new Error(`Received an invalid integer type: ${_}`);return`0x${_.toString(16)}`};e.intToHex=n;const a=function(_){const M=(0,e.intToHex)(_);return ae.from((0,r.padToEven)(M.slice(2)),"hex")};e.intToBuffer=a;const i=function(_){return ae.allocUnsafe(_).fill(0)};e.zeros=i;const s=function(_,M,L){const F=(0,e.zeros)(M);return L?_.length<M?(_.copy(F),F):_.slice(0,M):_.length<M?(_.copy(F,M-_.length),F):_.slice(-M)},o=function(_,M){return(0,t.assertIsBuffer)(_),s(_,M,!1)};e.setLengthLeft=o;const f=function(_,M){return(0,t.assertIsBuffer)(_),s(_,M,!0)};e.setLengthRight=f;const u=function(_){let M=_[0];for(;_.length>0&&M.toString()==="0";)_=_.slice(1),M=_[0];return _},c=function(_){return(0,t.assertIsBuffer)(_),u(_)};e.unpadBuffer=c;const l=function(_){return(0,t.assertIsArray)(_),u(_)};e.unpadArray=l;const d=function(_){return(0,t.assertIsHexString)(_),_=(0,r.stripHexPrefix)(_),"0x"+u(_)};e.unpadHexString=d;const h=function(_){if(_==null)return ae.allocUnsafe(0);if(ae.isBuffer(_))return ae.from(_);if(Array.isArray(_)||_ instanceof Uint8Array)return ae.from(_);if(typeof _=="string"){if(!(0,r.isHexString)(_))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${_}`);return ae.from((0,r.padToEven)((0,r.stripHexPrefix)(_)),"hex")}if(typeof _=="number")return(0,e.intToBuffer)(_);if(typeof _=="bigint"){if(_<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${_}`);let M=_.toString(16);return M.length%2&&(M="0"+M),ae.from(M,"hex")}if(_.toArray)return ae.from(_.toArray());if(_.toBuffer)return ae.from(_.toBuffer());throw new Error("invalid type")};e.toBuffer=h;const p=function(_){return _=(0,e.toBuffer)(_),"0x"+_.toString("hex")};e.bufferToHex=p;function m(_){const M=(0,e.bufferToHex)(_);return BigInt(M==="0x"?0:M)}e.bufferToBigInt=m;function v(_){return(0,e.toBuffer)("0x"+_.toString(16))}e.bigIntToBuffer=v;const b=function(_){const M=Number(m(_));if(!Number.isSafeInteger(M))throw new Error("Number exceeds 53 bits");return M};e.bufferToInt=b;const g=function(_){return BigInt.asIntN(256,m(_))};e.fromSigned=g;const y=function(_){return v(BigInt.asUintN(256,_))};e.toUnsigned=y;const C=function(_){return typeof _!="string"||(0,r.isHexPrefixed)(_)?_:"0x"+_};e.addHexPrefix=C;function I(_,M=50){const L=ae.isBuffer(_)?_.toString("hex"):_;return L.length<=M?L:L.slice(0,M)+""}e.short=I;const P=function(_){const M=/^(00)+|(00)+$/g;if(_=(0,r.stripHexPrefix)(_),_.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return ae.from(_.replace(M,""),"hex").toString("utf8")};e.toUtf8=P;const O=function(_){if(ae.isBuffer(_))return`0x${_.toString("hex")}`;if(_ instanceof Array){const M=[];for(let L=0;L<_.length;L++)M.push((0,e.baToJSON)(_[L]));return M}};e.baToJSON=O;const N=function(_){for(const[M,L]of Object.entries(_))if(L!==void 0&&L.length>0&&L[0]===0)throw new Error(`${M} cannot have leading zeroes, received: ${L.toString("hex")}`)};e.validateNoLeadingZeroes=N;function S(_){return Array.isArray(_)?_.map(M=>S(M)):ae.from(_)}e.arrToBufArr=S;function D(_){return Array.isArray(_)?_.map(M=>D(M)):Uint8Array.from(_??[])}e.bufArrToArr=D;const w=_=>"0x"+_.toString(16);e.bigIntToHex=w;function T(_){return(0,e.unpadBuffer)(v(_))}e.bigIntToUnpaddedBuffer=T;function x(_){return(0,e.unpadBuffer)((0,e.intToBuffer)(_))}e.intToUnpaddedBuffer=x})(Yu);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=Fi,r=d_,n=Rm,a=m7,i=Yu,s=xm,o=za,f=sr,u=BigInt(0);class c{constructor(x=u,_=u,M=s.KECCAK256_RLP,L=s.KECCAK256_NULL){this.nonce=x,this.balance=_,this.storageRoot=M,this.codeHash=L,this._validate()}static fromAccountData(x){const{nonce:_,balance:M,storageRoot:L,codeHash:F}=x;return new c(_!==void 0?(0,i.bufferToBigInt)((0,i.toBuffer)(_)):void 0,M!==void 0?(0,i.bufferToBigInt)((0,i.toBuffer)(M)):void 0,L!==void 0?(0,i.toBuffer)(L):void 0,F!==void 0?(0,i.toBuffer)(F):void 0)}static fromRlpSerializedAccount(x){const _=(0,i.arrToBufArr)(t.RLP.decode(Uint8Array.from(x)));if(!Array.isArray(_))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(_)}static fromValuesArray(x){const[_,M,L,F]=x;return new c((0,i.bufferToBigInt)(_),(0,i.bufferToBigInt)(M),L,F)}_validate(){if(this.nonce<u)throw new Error("nonce must be greater than zero");if(this.balance<u)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,i.bigIntToUnpaddedBuffer)(this.nonce),(0,i.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return ae.from(t.RLP.encode((0,i.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(s.KECCAK256_NULL)}isEmpty(){return this.balance===u&&this.nonce===u&&this.codeHash.equals(s.KECCAK256_NULL)}}e.Account=c;const l=function(T){try{(0,o.assertIsString)(T)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(T)};e.isValidAddress=l;const d=function(T,x){(0,o.assertIsHexString)(T);const _=(0,f.stripHexPrefix)(T).toLowerCase();let M="";x!==void 0&&(M=(0,i.bufferToBigInt)((0,i.toBuffer)(x)).toString()+"0x");const L=ae.from(M+_,"utf8"),F=(0,a.bytesToHex)((0,r.keccak256)(L));let G="0x";for(let U=0;U<_.length;U++)parseInt(F[U],16)>=8?G+=_[U].toUpperCase():G+=_[U];return G};e.toChecksumAddress=d;const h=function(T,x){return(0,e.isValidAddress)(T)&&(0,e.toChecksumAddress)(T,x)===T};e.isValidChecksumAddress=h;const p=function(T,x){return(0,o.assertIsBuffer)(T),(0,o.assertIsBuffer)(x),(0,i.bufferToBigInt)(x)===BigInt(0)?ae.from((0,r.keccak256)(t.RLP.encode((0,i.bufArrToArr)([T,null])))).slice(-20):ae.from((0,r.keccak256)(t.RLP.encode((0,i.bufArrToArr)([T,x])))).slice(-20)};e.generateAddress=p;const m=function(T,x,_){if((0,o.assertIsBuffer)(T),(0,o.assertIsBuffer)(x),(0,o.assertIsBuffer)(_),T.length!==20)throw new Error("Expected from to be of length 20");if(x.length!==32)throw new Error("Expected salt to be of length 32");const M=(0,r.keccak256)(ae.concat([ae.from("ff","hex"),T,x,(0,r.keccak256)(_)]));return(0,i.toBuffer)(M).slice(-20)};e.generateAddress2=m;const v=function(T){return n.secp256k1.utils.isValidPrivateKey(T)};e.isValidPrivate=v;const b=function(T,x=!1){if((0,o.assertIsBuffer)(T),T.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(ae.concat([ae.from([4]),T])),!0}catch{return!1}if(!x)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(T),!0}catch{return!1}};e.isValidPublic=b;const g=function(T,x=!1){if((0,o.assertIsBuffer)(T),x&&T.length!==64&&(T=ae.from(n.secp256k1.ProjectivePoint.fromHex(T).toRawBytes(!1).slice(1))),T.length!==64)throw new Error("Expected pubKey to be of length 64");return ae.from((0,r.keccak256)(T)).slice(-20)};e.pubToAddress=g,e.publicToAddress=e.pubToAddress;const y=function(T){return(0,o.assertIsBuffer)(T),ae.from(n.secp256k1.ProjectivePoint.fromPrivateKey(T).toRawBytes(!1).slice(1))};e.privateToPublic=y;const C=function(T){return(0,e.publicToAddress)((0,e.privateToPublic)(T))};e.privateToAddress=C;const I=function(T){return(0,o.assertIsBuffer)(T),T.length!==64&&(T=ae.from(n.secp256k1.ProjectivePoint.fromHex(T).toRawBytes(!1).slice(1))),T};e.importPublic=I;const P=function(){const x=(0,i.zeros)(20);return(0,i.bufferToHex)(x)};e.zeroAddress=P;const O=function(T){try{(0,o.assertIsString)(T)}catch{return!1}return(0,e.zeroAddress)()===T};e.isZeroAddress=O;function N(T){const[x,_,M,L]=T;return[x,_,(0,i.arrToBufArr)(M).length===0?s.KECCAK256_RLP:M,(0,i.arrToBufArr)(L).length===0?s.KECCAK256_NULL:L]}e.accountBodyFromSlim=N;const S=new Uint8Array(0);function D(T){const[x,_,M,L]=T;return[x,_,(0,i.arrToBufArr)(M).equals(s.KECCAK256_RLP)?S:M,(0,i.arrToBufArr)(L).equals(s.KECCAK256_NULL)?S:L]}e.accountBodyToSlim=D;function w(T,x=!0){const _=x?N(T):T;return(0,i.arrToBufArr)(t.RLP.encode(_))}e.accountBodyToRLP=w})(p2);var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.Address=void 0;const Nl=p2,l0=Yu;class as{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new as((0,l0.zeros)(20))}static fromString(t){if(!(0,Nl.isValidAddress)(t))throw new Error("Invalid address");return new as((0,l0.toBuffer)(t))}static fromPublicKey(t){if(!ae.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,Nl.pubToAddress)(t);return new as(r)}static fromPrivateKey(t){if(!ae.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,Nl.privateToAddress)(t);return new as(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new as((0,Nl.generateAddress)(t.buf,(0,l0.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!ae.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!ae.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new as((0,Nl.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(as.zero())}isPrecompileOrSystemAddress(){const t=(0,l0.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return ae.from(this.buf)}}mh.Address=as;var Mm={},v2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=Yu,r=sr;var n;(function(i){i[i.Number=0]="Number",i[i.BigInt=1]="BigInt",i[i.Buffer=2]="Buffer",i[i.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function a(i,s){if(i===null)return null;if(i===void 0)return;if(typeof i=="string"&&!(0,r.isHexString)(i))throw new Error(`A string must be provided with a 0x-prefix, given: ${i}`);if(typeof i=="number"&&!Number.isSafeInteger(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const o=(0,t.toBuffer)(i);switch(s){case n.Buffer:return o;case n.BigInt:return(0,t.bufferToBigInt)(o);case n.Number:{const f=(0,t.bufferToBigInt)(o);if(f>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(f)}case n.PrefixedHexString:return(0,t.bufferToHex)(o);default:throw new Error("unknown outputType")}}e.toType=a})(v2);Object.defineProperty(Mm,"__esModule",{value:!0});Mm.Withdrawal=void 0;const AA=mh,Fb=Yu,Tr=v2;class td{constructor(t,r,n,a){this.index=t,this.validatorIndex=r,this.address=n,this.amount=a}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:a,amount:i}=t,s=(0,Tr.toType)(r,Tr.TypeOutput.BigInt),o=(0,Tr.toType)(n,Tr.TypeOutput.BigInt),f=new AA.Address((0,Tr.toType)(a,Tr.TypeOutput.Buffer)),u=(0,Tr.toType)(i,Tr.TypeOutput.BigInt);return new td(s,o,f,u)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,a,i]=t;return td.fromWithdrawalData({index:r,validatorIndex:n,address:a,amount:i})}static toBufferArray(t){const{index:r,validatorIndex:n,address:a,amount:i}=t,s=(0,Tr.toType)(r,Tr.TypeOutput.BigInt)===BigInt(0)?ae.alloc(0):(0,Tr.toType)(r,Tr.TypeOutput.Buffer),o=(0,Tr.toType)(n,Tr.TypeOutput.BigInt)===BigInt(0)?ae.alloc(0):(0,Tr.toType)(n,Tr.TypeOutput.Buffer);let f;a instanceof AA.Address?f=a.buf:f=(0,Tr.toType)(a,Tr.TypeOutput.Buffer);const u=(0,Tr.toType)(i,Tr.TypeOutput.BigInt)===BigInt(0)?ae.alloc(0):(0,Tr.toType)(i,Tr.TypeOutput.Buffer);return[s,o,f,u]}raw(){return td.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,Fb.bigIntToHex)(this.index),validatorIndex:(0,Fb.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,Fb.bigIntToHex)(this.amount)}}}Mm.Withdrawal=td;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.hashPersonalMessage=Cn.isValidSignature=Cn.fromRpcSig=Cn.toCompactSig=Cn.toRpcSig=Cn.ecrecover=Cn.ecsign=void 0;const Oj=d_,DI=Rm,sa=Yu,Hb=xm,xj=za;function Rj(e,t,r){const n=DI.secp256k1.sign(e,t),a=n.toCompactRawBytes(),i=ae.from(a.slice(0,32)),s=ae.from(a.slice(32,64)),o=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:i,s,v:o}}Cn.ecsign=Rj;function Lm(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function km(e){return e===BigInt(0)||e===BigInt(1)}const Dj=function(e,t,r,n,a){const i=ae.concat([(0,sa.setLengthLeft)(r,32),(0,sa.setLengthLeft)(n,32)],64),s=Lm(t,a);if(!km(s))throw new Error("Invalid signature v value");const f=DI.secp256k1.Signature.fromCompact(i).addRecoveryBit(Number(s)).recoverPublicKey(e);return ae.from(f.toRawBytes(!1).slice(1))};Cn.ecrecover=Dj;const Mj=function(e,t,r,n){const a=Lm(e,n);if(!km(a))throw new Error("Invalid signature v value");return(0,sa.bufferToHex)(ae.concat([(0,sa.setLengthLeft)(t,32),(0,sa.setLengthLeft)(r,32),(0,sa.toBuffer)(e)]))};Cn.toRpcSig=Mj;const Lj=function(e,t,r,n){const a=Lm(e,n);if(!km(a))throw new Error("Invalid signature v value");let i=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(i=ae.from(r),i[0]|=128),(0,sa.bufferToHex)(ae.concat([(0,sa.setLengthLeft)(t,32),(0,sa.setLengthLeft)(i,32)]))};Cn.toCompactSig=Lj;const kj=function(e){const t=(0,sa.toBuffer)(e);let r,n,a;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),a=(0,sa.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),a=BigInt((0,sa.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return a<27&&(a=a+BigInt(27)),{v:a,r,s:n}};Cn.fromRpcSig=kj;const Bj=function(e,t,r,n=!0,a){if(t.length!==32||r.length!==32||!km(Lm(e,a)))return!1;const i=(0,sa.bufferToBigInt)(t),s=(0,sa.bufferToBigInt)(r);return!(i===BigInt(0)||i>=Hb.SECP256K1_ORDER||s===BigInt(0)||s>=Hb.SECP256K1_ORDER||n&&s>=Hb.SECP256K1_ORDER_DIV_2)};Cn.isValidSignature=Bj;const Fj=function(e){(0,xj.assertIsBuffer)(e);const t=ae.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return ae.from((0,Oj.keccak256)(ae.concat([t,e])))};Cn.hashPersonalMessage=Fj;var MI={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=s=>s.length>0&&s[s.length-1]===16;e.hasTerminator=t;const r=(s,o)=>{for(let f=0,u=0;u<s.length;f+=1,u+=2)o[f]=s[u]<<4|s[u+1]};e.nibblesToBytes=r;const n=s=>{let o=0;(0,e.hasTerminator)(s)&&(o=1,s=s.subarray(0,s.length-1));const f=new Uint8Array(s.length/2+1);return f[0]=o<<5,(s.length&1)===1&&(f[0]|=16,f[0]|=s[0],s=s.subarray(1)),(0,e.nibblesToBytes)(s,f.subarray(1)),f};e.nibblesToCompactBytes=n;const a=s=>{const o=s.length*2+1,f=new Uint8Array(o);for(let u=0;u<s.length;u++){const c=s[u];f[u*2]=c/16,f[u*2+1]=c%16}return f[o-1]=16,f};e.bytesToNibbles=a;const i=s=>{if(s.length===0)return s;let o=(0,e.bytesToNibbles)(s);o[0]<2&&(o=o.subarray(0,o.length-1));const f=2-(o[0]&1);return o.subarray(f)};e.compactBytesToNibbles=i})(MI);var Bm={};Object.defineProperty(Bm,"__esModule",{value:!0});Bm.AsyncEventEmitter=void 0;const Hj=H7;async function $j(e,t,r){let n;for await(const a of t)try{a.length<2?a.call(e,r):await new Promise((i,s)=>{a.call(e,r,o=>{o?s(o):i()})})}catch(i){n=i}if(n)throw n}class Uj extends Hj.EventEmitter{emit(t,...r){let[n,a]=r;const i=this;let s=i._events[t]??[];return a===void 0&&typeof n=="function"&&(a=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:a},a=void 0),s=Array.isArray(s)?s:[s],$j(i,s.slice(),n).then(a).catch(a),i.listenerCount(t)>0}once(t,r){const n=this;let a;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?a=function(i,s){n.removeListener(t,a),r(i,s)}:a=function(i){n.removeListener(t,a),r(i,a)},n.on(t,a),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,a){let i=this._events[t]??[],s,o;const f=a==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(i)||(this._events[t]=i=[i]),o=i.length,s=i.length;s--;)if(i[s]===r){o=s+f;break}return i.splice(o,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}Bm.AsyncEventEmitter=Uj;var Fm={};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.Lock=void 0;class jj{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}Fm.Lock=jj;var pf={},xu={},$b={},Ub={exports:{}},jb={},wA;function LI(){return wA||(wA=1,function(e){e.fetch=a($.fetch)&&a($.ReadableStream),e.writableStream=a($.WritableStream),e.abortController=a($.AbortController);var t;function r(){if(t!==void 0)return t;if($.XMLHttpRequest){t=new $.XMLHttpRequest;try{t.open("GET",$.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(i){var s=r();if(!s)return!1;try{return s.responseType=i,s.responseType===i}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?a(r().overrideMimeType):!1);function a(i){return typeof i=="function"}t=null}(jb)),jb}var d0={},CA;function kI(){if(CA)return d0;CA=1;var e=LI(),t=vo,r=l4,n=d0.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=d0.IncomingMessage=function(i,s,o,f){var u=this;if(r.Readable.call(u),u._mode=o,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){vn.nextTick(function(){u.emit("close")})}),o==="fetch"){let m=function(){l.read().then(function(v){if(!u._destroyed){if(f(v.done),v.done){u.push(null);return}u.push(ae.from(v.value)),m()}}).catch(function(v){f(!0),u._destroyed||u.emit("error",v)})};if(u._fetchResponse=s,u.url=s.url,u.statusCode=s.status,u.statusMessage=s.statusText,s.headers.forEach(function(v,b){u.headers[b.toLowerCase()]=v,u.rawHeaders.push(b,v)}),e.writableStream){var c=new WritableStream({write:function(v){return f(!1),new Promise(function(b,g){u._destroyed?g():u.push(ae.from(v))?b():u._resumeFetch=b})},close:function(){f(!0),u._destroyed||u.push(null)},abort:function(v){f(!0),u._destroyed||u.emit("error",v)}});try{s.body.pipeTo(c).catch(function(v){f(!0),u._destroyed||u.emit("error",v)});return}catch{}}var l=s.body.getReader();m()}else{u._xhr=i,u._pos=0,u.url=i.responseURL,u.statusCode=i.status,u.statusMessage=i.statusText;var d=i.getAllResponseHeaders().split(/\r?\n/);if(d.forEach(function(m){var v=m.match(/^([^:]+):\s*(.*)/);if(v){var b=v[1].toLowerCase();b==="set-cookie"?(u.headers[b]===void 0&&(u.headers[b]=[]),u.headers[b].push(v[2])):u.headers[b]!==void 0?u.headers[b]+=", "+v[2]:u.headers[b]=v[2],u.rawHeaders.push(v[1],v[2])}}),u._charset="x-user-defined",!e.overrideMimeType){var h=u.rawHeaders["mime-type"];if(h){var p=h.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};return t(a,r.Readable),a.prototype._read=function(){var i=this,s=i._resumeFetch;s&&(i._resumeFetch=null,s())},a.prototype._onXHRProgress=function(i){var s=this,o=s._xhr,f=null;switch(s._mode){case"text":if(f=o.responseText,f.length>s._pos){var u=f.substr(s._pos);if(s._charset==="x-user-defined"){for(var c=ae.alloc(u.length),l=0;l<u.length;l++)c[l]=u.charCodeAt(l)&255;s.push(c)}else s.push(u,s._charset);s._pos=f.length}break;case"arraybuffer":if(o.readyState!==n.DONE||!o.response)break;f=o.response,s.push(ae.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=o.response,o.readyState!==n.LOADING||!f)break;s.push(ae.from(new Uint8Array(f)));break;case"ms-stream":if(f=o.response,o.readyState!==n.LOADING)break;var d=new $.MSStreamReader;d.onprogress=function(){d.result.byteLength>s._pos&&(s.push(ae.from(new Uint8Array(d.result.slice(s._pos)))),s._pos=d.result.byteLength)},d.onload=function(){i(!0),s.push(null)},d.readAsArrayBuffer(f);break}s._xhr.readyState===n.DONE&&s._mode!=="ms-stream"&&(i(!0),s.push(null))},d0}var IA;function Gj(){if(IA)return Ub.exports;IA=1;var e=LI(),t=vo,r=kI(),n=l4,a=r.IncomingMessage,i=r.readyStates;function s(c,l){return e.fetch&&l?"fetch":e.mozchunkedarraybuffer?"moz-chunked-arraybuffer":e.msstream?"ms-stream":e.arraybuffer&&c?"arraybuffer":"text"}var o=Ub.exports=function(c){var l=this;n.Writable.call(l),l._opts=c,l._body=[],l._headers={},c.auth&&l.setHeader("Authorization","Basic "+ae.from(c.auth).toString("base64")),Object.keys(c.headers).forEach(function(p){l.setHeader(p,c.headers[p])});var d,h=!0;if(c.mode==="disable-fetch"||"requestTimeout"in c&&!e.abortController)h=!1,d=!0;else if(c.mode==="prefer-streaming")d=!1;else if(c.mode==="allow-wrong-content-type")d=!e.overrideMimeType;else if(!c.mode||c.mode==="default"||c.mode==="prefer-fast")d=!0;else throw new Error("Invalid value for opts.mode");l._mode=s(d,h),l._fetchTimer=null,l._socketTimeout=null,l._socketTimer=null,l.on("finish",function(){l._onFinish()})};t(o,n.Writable),o.prototype.setHeader=function(c,l){var d=this,h=c.toLowerCase();u.indexOf(h)===-1&&(d._headers[h]={name:c,value:l})},o.prototype.getHeader=function(c){var l=this._headers[c.toLowerCase()];return l?l.value:null},o.prototype.removeHeader=function(c){var l=this;delete l._headers[c.toLowerCase()]},o.prototype._onFinish=function(){var c=this;if(!c._destroyed){var l=c._opts;"timeout"in l&&l.timeout!==0&&c.setTimeout(l.timeout);var d=c._headers,h=null;l.method!=="GET"&&l.method!=="HEAD"&&(h=new Blob(c._body,{type:(d["content-type"]||{}).value||""}));var p=[];if(Object.keys(d).forEach(function(g){var y=d[g].name,C=d[g].value;Array.isArray(C)?C.forEach(function(I){p.push([y,I])}):p.push([y,C])}),c._mode==="fetch"){var m=null;if(e.abortController){var v=new AbortController;m=v.signal,c._fetchAbortController=v,"requestTimeout"in l&&l.requestTimeout!==0&&(c._fetchTimer=$.setTimeout(function(){c.emit("requestTimeout"),c._fetchAbortController&&c._fetchAbortController.abort()},l.requestTimeout))}$.fetch(c._opts.url,{method:c._opts.method,headers:p,body:h||void 0,mode:"cors",credentials:l.withCredentials?"include":"same-origin",signal:m}).then(function(g){c._fetchResponse=g,c._resetTimers(!1),c._connect()},function(g){c._resetTimers(!0),c._destroyed||c.emit("error",g)})}else{var b=c._xhr=new $.XMLHttpRequest;try{b.open(c._opts.method,c._opts.url,!0)}catch(g){vn.nextTick(function(){c.emit("error",g)});return}"responseType"in b&&(b.responseType=c._mode),"withCredentials"in b&&(b.withCredentials=!!l.withCredentials),c._mode==="text"&&"overrideMimeType"in b&&b.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in l&&(b.timeout=l.requestTimeout,b.ontimeout=function(){c.emit("requestTimeout")}),p.forEach(function(g){b.setRequestHeader(g[0],g[1])}),c._response=null,b.onreadystatechange=function(){switch(b.readyState){case i.LOADING:case i.DONE:c._onXHRProgress();break}},c._mode==="moz-chunked-arraybuffer"&&(b.onprogress=function(){c._onXHRProgress()}),b.onerror=function(){c._destroyed||(c._resetTimers(!0),c.emit("error",new Error("XHR error")))};try{b.send(h)}catch(g){vn.nextTick(function(){c.emit("error",g)});return}}}};function f(c){try{var l=c.status;return l!==null&&l!==0}catch{return!1}}o.prototype._onXHRProgress=function(){var c=this;c._resetTimers(!1),!(!f(c._xhr)||c._destroyed)&&(c._response||c._connect(),c._response._onXHRProgress(c._resetTimers.bind(c)))},o.prototype._connect=function(){var c=this;c._destroyed||(c._response=new a(c._xhr,c._fetchResponse,c._mode,c._resetTimers.bind(c)),c._response.on("error",function(l){c.emit("error",l)}),c.emit("response",c._response))},o.prototype._write=function(c,l,d){var h=this;h._body.push(c),d()},o.prototype._resetTimers=function(c){var l=this;$.clearTimeout(l._socketTimer),l._socketTimer=null,c?($.clearTimeout(l._fetchTimer),l._fetchTimer=null):l._socketTimeout&&(l._socketTimer=$.setTimeout(function(){l.emit("timeout")},l._socketTimeout))},o.prototype.abort=o.prototype.destroy=function(c){var l=this;l._destroyed=!0,l._resetTimers(!0),l._response&&(l._response._destroyed=!0),l._xhr?l._xhr.abort():l._fetchAbortController&&l._fetchAbortController.abort(),c&&l.emit("error",c)},o.prototype.end=function(c,l,d){var h=this;typeof c=="function"&&(d=c,c=void 0),n.Writable.prototype.end.call(h,c,l,d)},o.prototype.setTimeout=function(c,l){var d=this;l&&d.once("timeout",l),d._socketTimeout=c,d._resetTimers(!1)},o.prototype.flushHeaders=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Ub.exports}var Gb,PA;function Kj(){if(PA)return Gb;PA=1,Gb=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var a=arguments[n];for(var i in a)e.call(a,i)&&(r[i]=a[i])}return r}return Gb}var Kb,NA;function Wj(){return NA||(NA=1,Kb={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),Kb}var qj=t7();const Vj=Ts(qj);function zj(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Yj=function(e,t,r,n){t=t||"&",r=r||"=";var a={};if(typeof e!="string"||e.length===0)return a;var i=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var o=e.length;s>0&&o>s&&(o=s);for(var f=0;f<o;++f){var u=e[f].replace(i,"%20"),c=u.indexOf(r),l,d,h,p;c>=0?(l=u.substr(0,c),d=u.substr(c+1)):(l=u,d=""),h=decodeURIComponent(l),p=decodeURIComponent(d),zj(a,h)?Xj(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a},Xj=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ol=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Jj=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?OA(Zj(e),function(a){var i=encodeURIComponent(Ol(a))+r;return Qj(e[a])?OA(e[a],function(s){return i+encodeURIComponent(Ol(s))}).join(t):i+encodeURIComponent(Ol(e[a]))}).join(t):n?encodeURIComponent(Ol(n))+r+encodeURIComponent(Ol(e)):""},Qj=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function OA(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var Zj=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},BI,FI,eG=FI=Yj,tG=BI=Jj;function rG(e){return encodeURIComponent(e)}function nG(e){return decodeURIComponent(e)}var aG={decode:eG,encode:tG,parse:FI,stringify:BI,escape:rG,unescape:nG},iG={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},sG=Vj,Mi=iG,oG=vh,uG=_G,HI=TG,cG=yG,fG=Ya;function Ya(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var lG=/^([a-z0-9.+-]+:)/i,dG=/:[0-9]*$/,hG=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,pG=["<",">",'"',"`"," ","\r",`
`,"	"],mG=["{","}","|","\\","^","`"].concat(pG),s1=["'"].concat(mG),xA=["%","/","?",";","#"].concat(s1),RA=["/","?","#"],vG=255,DA=/^[+a-z0-9A-Z_-]{0,63}$/,bG=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,gG={javascript:!0,"javascript:":!0},o1={javascript:!0,"javascript:":!0},Gc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},u1=aG;function vh(e,t,r){if(e&&Mi.isObject(e)&&e instanceof Ya)return e;var n=new Ya;return n.parse(e,t,r),n}Ya.prototype.parse=function(e,t,r){if(!Mi.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),a=n!==-1&&n<e.indexOf("#")?"?":"#",i=e.split(a),s=/\\/g;i[0]=i[0].replace(s,"/"),e=i.join(a);var o=e;if(o=o.trim(),!r&&e.split("#").length===1){var f=hG.exec(o);if(f)return this.path=o,this.href=o,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=u1.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=lG.exec(o);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=o.substr(0,2)==="//";l&&!(u&&o1[u])&&(o=o.substr(2),this.slashes=!0)}if(!o1[u]&&(l||u&&!Gc[u])){for(var d=-1,h=0;h<RA.length;h++){var p=o.indexOf(RA[h]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,v;d===-1?v=o.lastIndexOf("@"):v=o.lastIndexOf("@",d),v!==-1&&(m=o.slice(0,v),o=o.slice(v+1),this.auth=decodeURIComponent(m)),d=-1;for(var h=0;h<xA.length;h++){var p=o.indexOf(xA[h]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=o.length),this.host=o.slice(0,d),o=o.slice(d),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var g=this.hostname.split(/\./),h=0,y=g.length;h<y;h++){var C=g[h];if(C&&!C.match(DA)){for(var I="",P=0,O=C.length;P<O;P++)C.charCodeAt(P)>127?I+="x":I+=C[P];if(!I.match(DA)){var N=g.slice(0,h),S=g.slice(h+1),D=C.match(bG);D&&(N.push(D[1]),S.unshift(D[2])),S.length&&(o="/"+S.join(".")+o),this.hostname=N.join(".");break}}}this.hostname.length>vG?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=sG.toASCII(this.hostname));var w=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+w,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!gG[c])for(var h=0,y=s1.length;h<y;h++){var x=s1[h];if(o.indexOf(x)!==-1){var _=encodeURIComponent(x);_===x&&(_=escape(x)),o=o.split(x).join(_)}}var M=o.indexOf("#");M!==-1&&(this.hash=o.substr(M),o=o.slice(0,M));var L=o.indexOf("?");if(L!==-1?(this.search=o.substr(L),this.query=o.substr(L+1),t&&(this.query=u1.parse(this.query)),o=o.slice(0,L)):t&&(this.search="",this.query={}),o&&(this.pathname=o),Gc[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var w=this.pathname||"",F=this.search||"";this.path=w+F}return this.href=this.format(),this};function yG(e){return Mi.isString(e)&&(e=vh(e)),e instanceof Ya?e.format():Ya.prototype.format.call(e)}Ya.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&Mi.isObject(this.query)&&Object.keys(this.query).length&&(i=u1.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Gc[t])&&a!==!1?(a="//"+(a||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),s=s.replace("#","%23"),t+a+r+s+n};function _G(e,t){return vh(e,!1,!0).resolve(t)}Ya.prototype.resolve=function(e){return this.resolveObject(vh(e,!1,!0)).format()};function TG(e,t){return e?vh(e,!1,!0).resolveObject(t):t}Ya.prototype.resolveObject=function(e){if(Mi.isString(e)){var t=new Ya;t.parse(e,!1,!0),e=t}for(var r=new Ya,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];r[i]=this[i]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),o=0;o<s.length;o++){var f=s[o];f!=="protocol"&&(r[f]=e[f])}return Gc[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Gc[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];r[l]=e[l]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!o1[e.protocol]){for(var y=(e.pathname||"").split("/");y.length&&!(e.host=y.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",h=r.search||"";r.path=d+h}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=e.host||e.pathname&&e.pathname.charAt(0)==="/",v=m||p||r.host&&e.pathname,b=v,g=r.pathname&&r.pathname.split("/")||[],y=e.pathname&&e.pathname.split("/")||[],C=r.protocol&&!Gc[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(y[0]===""?y[0]=e.host:y.unshift(e.host)),e.host=null),v=v&&(y[0]===""||g[0]==="")),m)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,g=y;else if(y.length)g||(g=[]),g.pop(),g=g.concat(y),r.search=e.search,r.query=e.query;else if(!Mi.isNullOrUndefined(e.search)){if(C){r.hostname=r.host=g.shift();var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return r.search=e.search,r.query=e.query,(!Mi.isNull(r.pathname)||!Mi.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=g.slice(-1)[0],O=(r.host||e.host||g.length>1)&&(P==="."||P==="..")||P==="",N=0,S=g.length;S>=0;S--)P=g[S],P==="."?g.splice(S,1):P===".."?(g.splice(S,1),N++):N&&(g.splice(S,1),N--);if(!v&&!b)for(;N--;N)g.unshift("..");v&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),O&&g.join("/").substr(-1)!=="/"&&g.push("");var D=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(C){r.hostname=r.host=D?"":g.length?g.shift():"";var I=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;I&&(r.auth=I.shift(),r.host=r.hostname=I.shift())}return v=v||r.host&&g.length,v&&!D&&g.unshift(""),g.length?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(!Mi.isNull(r.pathname)||!Mi.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Ya.prototype.parseHost=function(){var e=this.host,t=dG.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};function EG(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function SG(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;e=n+"/"+e,t=n.charAt(0)==="/"}return e=EG(AG(e.split("/"),function(a){return!!a}),!t).join("/"),(t?"/":"")+e||"."}function AG(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var $I=function(e){function t(){var n=this||self;return delete e.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var r=__magic__;return r}(Object),wG=cG,UI=oG,jI=uG,GI=fG,fo=$I.URL,KI=$I.URLSearchParams,CG=/%/g,IG=/\\/g,PG=/\n/g,NG=/\r/g,OG=/\t/g,xG=47;function RG(e){var t=e??null;return!!(t!==null&&(t!=null&&t.href)&&(t!=null&&t.origin))}function DG(e){if(e.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=e.pathname,r=0;r<t.length;r++)if(t[r]==="%"){var n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function MG(e){return e.includes("%")&&(e=e.replace(CG,"%25")),e.includes("\\")&&(e=e.replace(IG,"%5C")),e.includes(`
`)&&(e=e.replace(PG,"%0A")),e.includes("\r")&&(e=e.replace(NG,"%0D")),e.includes("	")&&(e=e.replace(OG,"%09")),e}var WI=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new fo("http://"+t).hostname},qI=function(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new fo("http://"+t).hostname},VI=function(t){var r=new fo("file://"),n=SG(t),a=t.charCodeAt(t.length-1);return a===xG&&n[n.length-1]!=="/"&&(n+="/"),r.pathname=MG(n),r},zI=function(t){if(!RG(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var r=new fo(t);if(r.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return DG(r)},YI=function(t,r){var n,a,i;if(r===void 0&&(r={}),!(t instanceof fo))return wG(t);if(typeof r!="object"||r===null)throw new TypeError('The "options" argument must be of type object.');var s=(n=r.auth)!=null?n:!0,o=(a=r.fragment)!=null?a:!0,f=(i=r.search)!=null?i:!0,u=new fo(t.toString());return s||(u.username="",u.password=""),o||(u.hash=""),f||(u.search=""),u.toString()},LG={format:YI,parse:UI,resolve:jI,resolveObject:HI,Url:GI,URL:fo,URLSearchParams:KI,domainToASCII:WI,domainToUnicode:qI,pathToFileURL:VI,fileURLToPath:zI};const kG=Object.freeze(Object.defineProperty({__proto__:null,URL:fo,URLSearchParams:KI,Url:GI,default:LG,domainToASCII:WI,domainToUnicode:qI,fileURLToPath:zI,format:YI,parse:UI,pathToFileURL:VI,resolve:jI,resolveObject:HI},Symbol.toStringTag,{value:"Module"})),mf=ei(kG);var MA;function b2(){return MA||(MA=1,function(e){var t=Gj(),r=kI(),n=Kj(),a=Wj(),i=mf,s=e;s.request=function(o,f){typeof o=="string"?o=i.parse(o):o=n(o);var u=$.location.protocol.search(/^https?:$/)===-1?"http:":"",c=o.protocol||u,l=o.hostname||o.host,d=o.port,h=o.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),o.url=(l?c+"//"+l:"")+(d?":"+d:"")+h,o.method=(o.method||"GET").toUpperCase(),o.headers=o.headers||{};var p=new t(o);return f&&p.on("response",f),p},s.get=function(f,u){var c=s.request(f,u);return c.end(),c},s.ClientRequest=t,s.IncomingMessage=r.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=a,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}($b)),$b}var Wb={exports:{}},LA;function XI(){return LA||(LA=1,function(e){var t=b2(),r=mf,n=e.exports;for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);n.request=function(s,o){return s=i(s),t.request.call(this,s,o)},n.get=function(s,o){return s=i(s),t.get.call(this,s,o)};function i(s){if(typeof s=="string"&&(s=r.parse(s)),s.protocol||(s.protocol="https:"),s.protocol!=="https:")throw new Error('Protocol "'+s.protocol+'" not supported. Expected "https:"');return s}}(Wb)),Wb.exports}var qb={},Vb={},zb,kA;function BG(){if(kA)return zb;kA=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zb=e,zb}var ui={},Yb={},BA;function Hm(){return BA||(BA=1,function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(i,s){return Object.prototype.hasOwnProperty.call(i,s)}e.assign=function(i){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var o=s.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var f in o)r(o,f)&&(i[f]=o[f])}}return i},e.shrinkBuf=function(i,s){return i.length===s?i:i.subarray?i.subarray(0,s):(i.length=s,i)};var n={arraySet:function(i,s,o,f,u){if(s.subarray&&i.subarray){i.set(s.subarray(o,o+f),u);return}for(var c=0;c<f;c++)i[u+c]=s[o+c]},flattenChunks:function(i){var s,o,f,u,c,l;for(f=0,s=0,o=i.length;s<o;s++)f+=i[s].length;for(l=new Uint8Array(f),u=0,s=0,o=i.length;s<o;s++)c=i[s],l.set(c,u),u+=c.length;return l}},a={arraySet:function(i,s,o,f,u){for(var c=0;c<f;c++)i[u+c]=s[o+c]},flattenChunks:function(i){return[].concat.apply([],i)}};e.setTyped=function(i){i?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)}(Yb)),Yb}var Oo={},FA;function FG(){if(FA)return Oo;FA=1;var e=Hm(),t=4,r=0,n=1,a=2;function i(j){for(var he=j.length;--he>=0;)j[he]=0}var s=0,o=1,f=2,u=3,c=258,l=29,d=256,h=d+1+l,p=30,m=19,v=2*h+1,b=15,g=16,y=7,C=256,I=16,P=17,O=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=512,x=new Array((h+2)*2);i(x);var _=new Array(p*2);i(_);var M=new Array(T);i(M);var L=new Array(c-u+1);i(L);var F=new Array(l);i(F);var G=new Array(p);i(G);function U(j,he,ye,Pe,ee){this.static_tree=j,this.extra_bits=he,this.extra_base=ye,this.elems=Pe,this.max_length=ee,this.has_stree=j&&j.length}var q,V,W;function Q(j,he){this.dyn_tree=j,this.max_code=0,this.stat_desc=he}function te(j){return j<256?M[j]:M[256+(j>>>7)]}function pe(j,he){j.pending_buf[j.pending++]=he&255,j.pending_buf[j.pending++]=he>>>8&255}function be(j,he,ye){j.bi_valid>g-ye?(j.bi_buf|=he<<j.bi_valid&65535,pe(j,j.bi_buf),j.bi_buf=he>>g-j.bi_valid,j.bi_valid+=ye-g):(j.bi_buf|=he<<j.bi_valid&65535,j.bi_valid+=ye)}function Ie(j,he,ye){be(j,ye[he*2],ye[he*2+1])}function me(j,he){var ye=0;do ye|=j&1,j>>>=1,ye<<=1;while(--he>0);return ye>>>1}function xe(j){j.bi_valid===16?(pe(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):j.bi_valid>=8&&(j.pending_buf[j.pending++]=j.bi_buf&255,j.bi_buf>>=8,j.bi_valid-=8)}function We(j,he){var ye=he.dyn_tree,Pe=he.max_code,ee=he.stat_desc.static_tree,le=he.stat_desc.has_stree,k=he.stat_desc.extra_bits,_e=he.stat_desc.extra_base,Le=he.stat_desc.max_length,E,ue,ce,B,X,oe,Re=0;for(B=0;B<=b;B++)j.bl_count[B]=0;for(ye[j.heap[j.heap_max]*2+1]=0,E=j.heap_max+1;E<v;E++)ue=j.heap[E],B=ye[ye[ue*2+1]*2+1]+1,B>Le&&(B=Le,Re++),ye[ue*2+1]=B,!(ue>Pe)&&(j.bl_count[B]++,X=0,ue>=_e&&(X=k[ue-_e]),oe=ye[ue*2],j.opt_len+=oe*(B+X),le&&(j.static_len+=oe*(ee[ue*2+1]+X)));if(Re!==0){do{for(B=Le-1;j.bl_count[B]===0;)B--;j.bl_count[B]--,j.bl_count[B+1]+=2,j.bl_count[Le]--,Re-=2}while(Re>0);for(B=Le;B!==0;B--)for(ue=j.bl_count[B];ue!==0;)ce=j.heap[--E],!(ce>Pe)&&(ye[ce*2+1]!==B&&(j.opt_len+=(B-ye[ce*2+1])*ye[ce*2],ye[ce*2+1]=B),ue--)}}function qe(j,he,ye){var Pe=new Array(b+1),ee=0,le,k;for(le=1;le<=b;le++)Pe[le]=ee=ee+ye[le-1]<<1;for(k=0;k<=he;k++){var _e=j[k*2+1];_e!==0&&(j[k*2]=me(Pe[_e]++,_e))}}function $e(){var j,he,ye,Pe,ee,le=new Array(b+1);for(ye=0,Pe=0;Pe<l-1;Pe++)for(F[Pe]=ye,j=0;j<1<<N[Pe];j++)L[ye++]=Pe;for(L[ye-1]=Pe,ee=0,Pe=0;Pe<16;Pe++)for(G[Pe]=ee,j=0;j<1<<S[Pe];j++)M[ee++]=Pe;for(ee>>=7;Pe<p;Pe++)for(G[Pe]=ee<<7,j=0;j<1<<S[Pe]-7;j++)M[256+ee++]=Pe;for(he=0;he<=b;he++)le[he]=0;for(j=0;j<=143;)x[j*2+1]=8,j++,le[8]++;for(;j<=255;)x[j*2+1]=9,j++,le[9]++;for(;j<=279;)x[j*2+1]=7,j++,le[7]++;for(;j<=287;)x[j*2+1]=8,j++,le[8]++;for(qe(x,h+1,le),j=0;j<p;j++)_[j*2+1]=5,_[j*2]=me(j,5);q=new U(x,N,d+1,h,b),V=new U(_,S,0,p,b),W=new U(new Array(0),D,0,m,y)}function Ye(j){var he;for(he=0;he<h;he++)j.dyn_ltree[he*2]=0;for(he=0;he<p;he++)j.dyn_dtree[he*2]=0;for(he=0;he<m;he++)j.bl_tree[he*2]=0;j.dyn_ltree[C*2]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function lt(j){j.bi_valid>8?pe(j,j.bi_buf):j.bi_valid>0&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function st(j,he,ye,Pe){lt(j),Pe&&(pe(j,ye),pe(j,~ye)),e.arraySet(j.pending_buf,j.window,he,ye,j.pending),j.pending+=ye}function it(j,he,ye,Pe){var ee=he*2,le=ye*2;return j[ee]<j[le]||j[ee]===j[le]&&Pe[he]<=Pe[ye]}function Ce(j,he,ye){for(var Pe=j.heap[ye],ee=ye<<1;ee<=j.heap_len&&(ee<j.heap_len&&it(he,j.heap[ee+1],j.heap[ee],j.depth)&&ee++,!it(he,Pe,j.heap[ee],j.depth));)j.heap[ye]=j.heap[ee],ye=ee,ee<<=1;j.heap[ye]=Pe}function De(j,he,ye){var Pe,ee,le=0,k,_e;if(j.last_lit!==0)do Pe=j.pending_buf[j.d_buf+le*2]<<8|j.pending_buf[j.d_buf+le*2+1],ee=j.pending_buf[j.l_buf+le],le++,Pe===0?Ie(j,ee,he):(k=L[ee],Ie(j,k+d+1,he),_e=N[k],_e!==0&&(ee-=F[k],be(j,ee,_e)),Pe--,k=te(Pe),Ie(j,k,ye),_e=S[k],_e!==0&&(Pe-=G[k],be(j,Pe,_e)));while(le<j.last_lit);Ie(j,C,he)}function Rt(j,he){var ye=he.dyn_tree,Pe=he.stat_desc.static_tree,ee=he.stat_desc.has_stree,le=he.stat_desc.elems,k,_e,Le=-1,E;for(j.heap_len=0,j.heap_max=v,k=0;k<le;k++)ye[k*2]!==0?(j.heap[++j.heap_len]=Le=k,j.depth[k]=0):ye[k*2+1]=0;for(;j.heap_len<2;)E=j.heap[++j.heap_len]=Le<2?++Le:0,ye[E*2]=1,j.depth[E]=0,j.opt_len--,ee&&(j.static_len-=Pe[E*2+1]);for(he.max_code=Le,k=j.heap_len>>1;k>=1;k--)Ce(j,ye,k);E=le;do k=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Ce(j,ye,1),_e=j.heap[1],j.heap[--j.heap_max]=k,j.heap[--j.heap_max]=_e,ye[E*2]=ye[k*2]+ye[_e*2],j.depth[E]=(j.depth[k]>=j.depth[_e]?j.depth[k]:j.depth[_e])+1,ye[k*2+1]=ye[_e*2+1]=E,j.heap[1]=E++,Ce(j,ye,1);while(j.heap_len>=2);j.heap[--j.heap_max]=j.heap[1],We(j,he),qe(ye,Le,j.bl_count)}function Ft(j,he,ye){var Pe,ee=-1,le,k=he[0*2+1],_e=0,Le=7,E=4;for(k===0&&(Le=138,E=3),he[(ye+1)*2+1]=65535,Pe=0;Pe<=ye;Pe++)le=k,k=he[(Pe+1)*2+1],!(++_e<Le&&le===k)&&(_e<E?j.bl_tree[le*2]+=_e:le!==0?(le!==ee&&j.bl_tree[le*2]++,j.bl_tree[I*2]++):_e<=10?j.bl_tree[P*2]++:j.bl_tree[O*2]++,_e=0,ee=le,k===0?(Le=138,E=3):le===k?(Le=6,E=3):(Le=7,E=4))}function Ue(j,he,ye){var Pe,ee=-1,le,k=he[0*2+1],_e=0,Le=7,E=4;for(k===0&&(Le=138,E=3),Pe=0;Pe<=ye;Pe++)if(le=k,k=he[(Pe+1)*2+1],!(++_e<Le&&le===k)){if(_e<E)do Ie(j,le,j.bl_tree);while(--_e!==0);else le!==0?(le!==ee&&(Ie(j,le,j.bl_tree),_e--),Ie(j,I,j.bl_tree),be(j,_e-3,2)):_e<=10?(Ie(j,P,j.bl_tree),be(j,_e-3,3)):(Ie(j,O,j.bl_tree),be(j,_e-11,7));_e=0,ee=le,k===0?(Le=138,E=3):le===k?(Le=6,E=3):(Le=7,E=4)}}function ct(j){var he;for(Ft(j,j.dyn_ltree,j.l_desc.max_code),Ft(j,j.dyn_dtree,j.d_desc.max_code),Rt(j,j.bl_desc),he=m-1;he>=3&&j.bl_tree[w[he]*2+1]===0;he--);return j.opt_len+=3*(he+1)+5+5+4,he}function se(j,he,ye,Pe){var ee;for(be(j,he-257,5),be(j,ye-1,5),be(j,Pe-4,4),ee=0;ee<Pe;ee++)be(j,j.bl_tree[w[ee]*2+1],3);Ue(j,j.dyn_ltree,he-1),Ue(j,j.dyn_dtree,ye-1)}function Ee(j){var he=4093624447,ye;for(ye=0;ye<=31;ye++,he>>>=1)if(he&1&&j.dyn_ltree[ye*2]!==0)return r;if(j.dyn_ltree[9*2]!==0||j.dyn_ltree[10*2]!==0||j.dyn_ltree[13*2]!==0)return n;for(ye=32;ye<d;ye++)if(j.dyn_ltree[ye*2]!==0)return n;return r}var Se=!1;function Ne(j){Se||($e(),Se=!0),j.l_desc=new Q(j.dyn_ltree,q),j.d_desc=new Q(j.dyn_dtree,V),j.bl_desc=new Q(j.bl_tree,W),j.bi_buf=0,j.bi_valid=0,Ye(j)}function Fe(j,he,ye,Pe){be(j,(s<<1)+(Pe?1:0),3),st(j,he,ye,!0)}function Me(j){be(j,o<<1,3),Ie(j,C,x),xe(j)}function Je(j,he,ye,Pe){var ee,le,k=0;j.level>0?(j.strm.data_type===a&&(j.strm.data_type=Ee(j)),Rt(j,j.l_desc),Rt(j,j.d_desc),k=ct(j),ee=j.opt_len+3+7>>>3,le=j.static_len+3+7>>>3,le<=ee&&(ee=le)):ee=le=ye+5,ye+4<=ee&&he!==-1?Fe(j,he,ye,Pe):j.strategy===t||le===ee?(be(j,(o<<1)+(Pe?1:0),3),De(j,x,_)):(be(j,(f<<1)+(Pe?1:0),3),se(j,j.l_desc.max_code+1,j.d_desc.max_code+1,k+1),De(j,j.dyn_ltree,j.dyn_dtree)),Ye(j),Pe&&lt(j)}function Ct(j,he,ye){return j.pending_buf[j.d_buf+j.last_lit*2]=he>>>8&255,j.pending_buf[j.d_buf+j.last_lit*2+1]=he&255,j.pending_buf[j.l_buf+j.last_lit]=ye&255,j.last_lit++,he===0?j.dyn_ltree[ye*2]++:(j.matches++,he--,j.dyn_ltree[(L[ye]+d+1)*2]++,j.dyn_dtree[te(he)*2]++),j.last_lit===j.lit_bufsize-1}return Oo._tr_init=Ne,Oo._tr_stored_block=Fe,Oo._tr_flush_block=Je,Oo._tr_tally=Ct,Oo._tr_align=Me,Oo}var Xb,HA;function JI(){if(HA)return Xb;HA=1;function e(t,r,n,a){for(var i=t&65535|0,s=t>>>16&65535|0,o=0;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+r[a++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}return Xb=e,Xb}var Jb,$A;function QI(){if($A)return Jb;$A=1;function e(){for(var n,a=[],i=0;i<256;i++){n=i;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;a[i]=n}return a}var t=e();function r(n,a,i,s){var o=t,f=s+i;n^=-1;for(var u=s;u<f;u++)n=n>>>8^o[(n^a[u])&255];return n^-1}return Jb=r,Jb}var Qb,UA;function HG(){return UA||(UA=1,Qb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Qb}var jA;function $G(){if(jA)return ui;jA=1;var e=Hm(),t=FG(),r=JI(),n=QI(),a=HG(),i=0,s=1,o=3,f=4,u=5,c=0,l=1,d=-2,h=-3,p=-5,m=-1,v=1,b=2,g=3,y=4,C=0,I=2,P=8,O=9,N=15,S=8,D=29,w=256,T=w+1+D,x=30,_=19,M=2*T+1,L=15,F=3,G=258,U=G+F+1,q=32,V=42,W=69,Q=73,te=91,pe=103,be=113,Ie=666,me=1,xe=2,We=3,qe=4,$e=3;function Ye(E,ue){return E.msg=a[ue],ue}function lt(E){return(E<<1)-(E>4?9:0)}function st(E){for(var ue=E.length;--ue>=0;)E[ue]=0}function it(E){var ue=E.state,ce=ue.pending;ce>E.avail_out&&(ce=E.avail_out),ce!==0&&(e.arraySet(E.output,ue.pending_buf,ue.pending_out,ce,E.next_out),E.next_out+=ce,ue.pending_out+=ce,E.total_out+=ce,E.avail_out-=ce,ue.pending-=ce,ue.pending===0&&(ue.pending_out=0))}function Ce(E,ue){t._tr_flush_block(E,E.block_start>=0?E.block_start:-1,E.strstart-E.block_start,ue),E.block_start=E.strstart,it(E.strm)}function De(E,ue){E.pending_buf[E.pending++]=ue}function Rt(E,ue){E.pending_buf[E.pending++]=ue>>>8&255,E.pending_buf[E.pending++]=ue&255}function Ft(E,ue,ce,B){var X=E.avail_in;return X>B&&(X=B),X===0?0:(E.avail_in-=X,e.arraySet(ue,E.input,E.next_in,X,ce),E.state.wrap===1?E.adler=r(E.adler,ue,X,ce):E.state.wrap===2&&(E.adler=n(E.adler,ue,X,ce)),E.next_in+=X,E.total_in+=X,X)}function Ue(E,ue){var ce=E.max_chain_length,B=E.strstart,X,oe,Re=E.prev_length,ve=E.nice_match,Te=E.strstart>E.w_size-U?E.strstart-(E.w_size-U):0,Ve=E.window,Dt=E.w_mask,Mt=E.prev,It=E.strstart+G,rr=Ve[B+Re-1],yr=Ve[B+Re];E.prev_length>=E.good_match&&(ce>>=2),ve>E.lookahead&&(ve=E.lookahead);do if(X=ue,!(Ve[X+Re]!==yr||Ve[X+Re-1]!==rr||Ve[X]!==Ve[B]||Ve[++X]!==Ve[B+1])){B+=2,X++;do;while(Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&Ve[++B]===Ve[++X]&&B<It);if(oe=G-(It-B),B=It-G,oe>Re){if(E.match_start=ue,Re=oe,oe>=ve)break;rr=Ve[B+Re-1],yr=Ve[B+Re]}}while((ue=Mt[ue&Dt])>Te&&--ce!==0);return Re<=E.lookahead?Re:E.lookahead}function ct(E){var ue=E.w_size,ce,B,X,oe,Re;do{if(oe=E.window_size-E.lookahead-E.strstart,E.strstart>=ue+(ue-U)){e.arraySet(E.window,E.window,ue,ue,0),E.match_start-=ue,E.strstart-=ue,E.block_start-=ue,B=E.hash_size,ce=B;do X=E.head[--ce],E.head[ce]=X>=ue?X-ue:0;while(--B);B=ue,ce=B;do X=E.prev[--ce],E.prev[ce]=X>=ue?X-ue:0;while(--B);oe+=ue}if(E.strm.avail_in===0)break;if(B=Ft(E.strm,E.window,E.strstart+E.lookahead,oe),E.lookahead+=B,E.lookahead+E.insert>=F)for(Re=E.strstart-E.insert,E.ins_h=E.window[Re],E.ins_h=(E.ins_h<<E.hash_shift^E.window[Re+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[Re+F-1])&E.hash_mask,E.prev[Re&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=Re,Re++,E.insert--,!(E.lookahead+E.insert<F)););}while(E.lookahead<U&&E.strm.avail_in!==0)}function se(E,ue){var ce=65535;for(ce>E.pending_buf_size-5&&(ce=E.pending_buf_size-5);;){if(E.lookahead<=1){if(ct(E),E.lookahead===0&&ue===i)return me;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var B=E.block_start+ce;if((E.strstart===0||E.strstart>=B)&&(E.lookahead=E.strstart-B,E.strstart=B,Ce(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-U&&(Ce(E,!1),E.strm.avail_out===0))return me}return E.insert=0,ue===f?(Ce(E,!0),E.strm.avail_out===0?We:qe):(E.strstart>E.block_start&&(Ce(E,!1),E.strm.avail_out===0),me)}function Ee(E,ue){for(var ce,B;;){if(E.lookahead<U){if(ct(E),E.lookahead<U&&ue===i)return me;if(E.lookahead===0)break}if(ce=0,E.lookahead>=F&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),ce!==0&&E.strstart-ce<=E.w_size-U&&(E.match_length=Ue(E,ce)),E.match_length>=F)if(B=t._tr_tally(E,E.strstart-E.match_start,E.match_length-F),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=F){E.match_length--;do E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart;while(--E.match_length!==0);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else B=t._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(B&&(Ce(E,!1),E.strm.avail_out===0))return me}return E.insert=E.strstart<F-1?E.strstart:F-1,ue===f?(Ce(E,!0),E.strm.avail_out===0?We:qe):E.last_lit&&(Ce(E,!1),E.strm.avail_out===0)?me:xe}function Se(E,ue){for(var ce,B,X;;){if(E.lookahead<U){if(ct(E),E.lookahead<U&&ue===i)return me;if(E.lookahead===0)break}if(ce=0,E.lookahead>=F&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=F-1,ce!==0&&E.prev_length<E.max_lazy_match&&E.strstart-ce<=E.w_size-U&&(E.match_length=Ue(E,ce),E.match_length<=5&&(E.strategy===v||E.match_length===F&&E.strstart-E.match_start>4096)&&(E.match_length=F-1)),E.prev_length>=F&&E.match_length<=E.prev_length){X=E.strstart+E.lookahead-F,B=t._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-F),E.lookahead-=E.prev_length-1,E.prev_length-=2;do++E.strstart<=X&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart);while(--E.prev_length!==0);if(E.match_available=0,E.match_length=F-1,E.strstart++,B&&(Ce(E,!1),E.strm.avail_out===0))return me}else if(E.match_available){if(B=t._tr_tally(E,0,E.window[E.strstart-1]),B&&Ce(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return me}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(B=t._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<F-1?E.strstart:F-1,ue===f?(Ce(E,!0),E.strm.avail_out===0?We:qe):E.last_lit&&(Ce(E,!1),E.strm.avail_out===0)?me:xe}function Ne(E,ue){for(var ce,B,X,oe,Re=E.window;;){if(E.lookahead<=G){if(ct(E),E.lookahead<=G&&ue===i)return me;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=F&&E.strstart>0&&(X=E.strstart-1,B=Re[X],B===Re[++X]&&B===Re[++X]&&B===Re[++X])){oe=E.strstart+G;do;while(B===Re[++X]&&B===Re[++X]&&B===Re[++X]&&B===Re[++X]&&B===Re[++X]&&B===Re[++X]&&B===Re[++X]&&B===Re[++X]&&X<oe);E.match_length=G-(oe-X),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=F?(ce=t._tr_tally(E,1,E.match_length-F),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(ce=t._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),ce&&(Ce(E,!1),E.strm.avail_out===0))return me}return E.insert=0,ue===f?(Ce(E,!0),E.strm.avail_out===0?We:qe):E.last_lit&&(Ce(E,!1),E.strm.avail_out===0)?me:xe}function Fe(E,ue){for(var ce;;){if(E.lookahead===0&&(ct(E),E.lookahead===0)){if(ue===i)return me;break}if(E.match_length=0,ce=t._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,ce&&(Ce(E,!1),E.strm.avail_out===0))return me}return E.insert=0,ue===f?(Ce(E,!0),E.strm.avail_out===0?We:qe):E.last_lit&&(Ce(E,!1),E.strm.avail_out===0)?me:xe}function Me(E,ue,ce,B,X){this.good_length=E,this.max_lazy=ue,this.nice_length=ce,this.max_chain=B,this.func=X}var Je;Je=[new Me(0,0,0,0,se),new Me(4,4,8,4,Ee),new Me(4,5,16,8,Ee),new Me(4,6,32,32,Ee),new Me(4,4,16,16,Se),new Me(8,16,32,32,Se),new Me(8,16,128,128,Se),new Me(8,32,128,256,Se),new Me(32,128,258,1024,Se),new Me(32,258,258,4096,Se)];function Ct(E){E.window_size=2*E.w_size,st(E.head),E.max_lazy_match=Je[E.level].max_lazy,E.good_match=Je[E.level].good_length,E.nice_match=Je[E.level].nice_length,E.max_chain_length=Je[E.level].max_chain,E.strstart=0,E.block_start=0,E.lookahead=0,E.insert=0,E.match_length=E.prev_length=F-1,E.match_available=0,E.ins_h=0}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(M*2),this.dyn_dtree=new e.Buf16((2*x+1)*2),this.bl_tree=new e.Buf16((2*_+1)*2),st(this.dyn_ltree),st(this.dyn_dtree),st(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(L+1),this.heap=new e.Buf16(2*T+1),st(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*T+1),st(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(E){var ue;return!E||!E.state?Ye(E,d):(E.total_in=E.total_out=0,E.data_type=I,ue=E.state,ue.pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?V:be,E.adler=ue.wrap===2?0:1,ue.last_flush=i,t._tr_init(ue),c)}function ye(E){var ue=he(E);return ue===c&&Ct(E.state),ue}function Pe(E,ue){return!E||!E.state||E.state.wrap!==2?d:(E.state.gzhead=ue,c)}function ee(E,ue,ce,B,X,oe){if(!E)return d;var Re=1;if(ue===m&&(ue=6),B<0?(Re=0,B=-B):B>15&&(Re=2,B-=16),X<1||X>O||ce!==P||B<8||B>15||ue<0||ue>9||oe<0||oe>y)return Ye(E,d);B===8&&(B=9);var ve=new j;return E.state=ve,ve.strm=E,ve.wrap=Re,ve.gzhead=null,ve.w_bits=B,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=X+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+F-1)/F),ve.window=new e.Buf8(ve.w_size*2),ve.head=new e.Buf16(ve.hash_size),ve.prev=new e.Buf16(ve.w_size),ve.lit_bufsize=1<<X+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new e.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=ue,ve.strategy=oe,ve.method=ce,ye(E)}function le(E,ue){return ee(E,ue,P,N,S,C)}function k(E,ue){var ce,B,X,oe;if(!E||!E.state||ue>u||ue<0)return E?Ye(E,d):d;if(B=E.state,!E.output||!E.input&&E.avail_in!==0||B.status===Ie&&ue!==f)return Ye(E,E.avail_out===0?p:d);if(B.strm=E,ce=B.last_flush,B.last_flush=ue,B.status===V)if(B.wrap===2)E.adler=0,De(B,31),De(B,139),De(B,8),B.gzhead?(De(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),De(B,B.gzhead.time&255),De(B,B.gzhead.time>>8&255),De(B,B.gzhead.time>>16&255),De(B,B.gzhead.time>>24&255),De(B,B.level===9?2:B.strategy>=b||B.level<2?4:0),De(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length&&(De(B,B.gzhead.extra.length&255),De(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(E.adler=n(E.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=W):(De(B,0),De(B,0),De(B,0),De(B,0),De(B,0),De(B,B.level===9?2:B.strategy>=b||B.level<2?4:0),De(B,$e),B.status=be);else{var Re=P+(B.w_bits-8<<4)<<8,ve=-1;B.strategy>=b||B.level<2?ve=0:B.level<6?ve=1:B.level===6?ve=2:ve=3,Re|=ve<<6,B.strstart!==0&&(Re|=q),Re+=31-Re%31,B.status=be,Rt(B,Re),B.strstart!==0&&(Rt(B,E.adler>>>16),Rt(B,E.adler&65535)),E.adler=1}if(B.status===W)if(B.gzhead.extra){for(X=B.pending;B.gzindex<(B.gzhead.extra.length&65535)&&!(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>X&&(E.adler=n(E.adler,B.pending_buf,B.pending-X,X)),it(E),X=B.pending,B.pending===B.pending_buf_size));)De(B,B.gzhead.extra[B.gzindex]&255),B.gzindex++;B.gzhead.hcrc&&B.pending>X&&(E.adler=n(E.adler,B.pending_buf,B.pending-X,X)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=Q)}else B.status=Q;if(B.status===Q)if(B.gzhead.name){X=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>X&&(E.adler=n(E.adler,B.pending_buf,B.pending-X,X)),it(E),X=B.pending,B.pending===B.pending_buf_size)){oe=1;break}B.gzindex<B.gzhead.name.length?oe=B.gzhead.name.charCodeAt(B.gzindex++)&255:oe=0,De(B,oe)}while(oe!==0);B.gzhead.hcrc&&B.pending>X&&(E.adler=n(E.adler,B.pending_buf,B.pending-X,X)),oe===0&&(B.gzindex=0,B.status=te)}else B.status=te;if(B.status===te)if(B.gzhead.comment){X=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>X&&(E.adler=n(E.adler,B.pending_buf,B.pending-X,X)),it(E),X=B.pending,B.pending===B.pending_buf_size)){oe=1;break}B.gzindex<B.gzhead.comment.length?oe=B.gzhead.comment.charCodeAt(B.gzindex++)&255:oe=0,De(B,oe)}while(oe!==0);B.gzhead.hcrc&&B.pending>X&&(E.adler=n(E.adler,B.pending_buf,B.pending-X,X)),oe===0&&(B.status=pe)}else B.status=pe;if(B.status===pe&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&it(E),B.pending+2<=B.pending_buf_size&&(De(B,E.adler&255),De(B,E.adler>>8&255),E.adler=0,B.status=be)):B.status=be),B.pending!==0){if(it(E),E.avail_out===0)return B.last_flush=-1,c}else if(E.avail_in===0&&lt(ue)<=lt(ce)&&ue!==f)return Ye(E,p);if(B.status===Ie&&E.avail_in!==0)return Ye(E,p);if(E.avail_in!==0||B.lookahead!==0||ue!==i&&B.status!==Ie){var Te=B.strategy===b?Fe(B,ue):B.strategy===g?Ne(B,ue):Je[B.level].func(B,ue);if((Te===We||Te===qe)&&(B.status=Ie),Te===me||Te===We)return E.avail_out===0&&(B.last_flush=-1),c;if(Te===xe&&(ue===s?t._tr_align(B):ue!==u&&(t._tr_stored_block(B,0,0,!1),ue===o&&(st(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),it(E),E.avail_out===0))return B.last_flush=-1,c}return ue!==f?c:B.wrap<=0?l:(B.wrap===2?(De(B,E.adler&255),De(B,E.adler>>8&255),De(B,E.adler>>16&255),De(B,E.adler>>24&255),De(B,E.total_in&255),De(B,E.total_in>>8&255),De(B,E.total_in>>16&255),De(B,E.total_in>>24&255)):(Rt(B,E.adler>>>16),Rt(B,E.adler&65535)),it(E),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?c:l)}function _e(E){var ue;return!E||!E.state?d:(ue=E.state.status,ue!==V&&ue!==W&&ue!==Q&&ue!==te&&ue!==pe&&ue!==be&&ue!==Ie?Ye(E,d):(E.state=null,ue===be?Ye(E,h):c))}function Le(E,ue){var ce=ue.length,B,X,oe,Re,ve,Te,Ve,Dt;if(!E||!E.state||(B=E.state,Re=B.wrap,Re===2||Re===1&&B.status!==V||B.lookahead))return d;for(Re===1&&(E.adler=r(E.adler,ue,ce,0)),B.wrap=0,ce>=B.w_size&&(Re===0&&(st(B.head),B.strstart=0,B.block_start=0,B.insert=0),Dt=new e.Buf8(B.w_size),e.arraySet(Dt,ue,ce-B.w_size,B.w_size,0),ue=Dt,ce=B.w_size),ve=E.avail_in,Te=E.next_in,Ve=E.input,E.avail_in=ce,E.next_in=0,E.input=ue,ct(B);B.lookahead>=F;){X=B.strstart,oe=B.lookahead-(F-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[X+F-1])&B.hash_mask,B.prev[X&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=X,X++;while(--oe);B.strstart=X,B.lookahead=F-1,ct(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=F-1,B.match_available=0,E.next_in=Te,E.input=Ve,E.avail_in=ve,B.wrap=Re,c}return ui.deflateInit=le,ui.deflateInit2=ee,ui.deflateReset=ye,ui.deflateResetKeep=he,ui.deflateSetHeader=Pe,ui.deflate=k,ui.deflateEnd=_e,ui.deflateSetDictionary=Le,ui.deflateInfo="pako deflate (from Nodeca project)",ui}var ja={},Zb,GA;function UG(){if(GA)return Zb;GA=1;var e=30,t=12;return Zb=function(n,a){var i,s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N,S,D,w,T,x;i=n.state,s=n.next_in,T=n.input,o=s+(n.avail_in-5),f=n.next_out,x=n.output,u=f-(a-n.avail_out),c=f+(n.avail_out-257),l=i.dmax,d=i.wsize,h=i.whave,p=i.wnext,m=i.window,v=i.hold,b=i.bits,g=i.lencode,y=i.distcode,C=(1<<i.lenbits)-1,I=(1<<i.distbits)-1;e:do{b<15&&(v+=T[s++]<<b,b+=8,v+=T[s++]<<b,b+=8),P=g[v&C];t:for(;;){if(O=P>>>24,v>>>=O,b-=O,O=P>>>16&255,O===0)x[f++]=P&65535;else if(O&16){N=P&65535,O&=15,O&&(b<O&&(v+=T[s++]<<b,b+=8),N+=v&(1<<O)-1,v>>>=O,b-=O),b<15&&(v+=T[s++]<<b,b+=8,v+=T[s++]<<b,b+=8),P=y[v&I];r:for(;;){if(O=P>>>24,v>>>=O,b-=O,O=P>>>16&255,O&16){if(S=P&65535,O&=15,b<O&&(v+=T[s++]<<b,b+=8,b<O&&(v+=T[s++]<<b,b+=8)),S+=v&(1<<O)-1,S>l){n.msg="invalid distance too far back",i.mode=e;break e}if(v>>>=O,b-=O,O=f-u,S>O){if(O=S-O,O>h&&i.sane){n.msg="invalid distance too far back",i.mode=e;break e}if(D=0,w=m,p===0){if(D+=d-O,O<N){N-=O;do x[f++]=m[D++];while(--O);D=f-S,w=x}}else if(p<O){if(D+=d+p-O,O-=p,O<N){N-=O;do x[f++]=m[D++];while(--O);if(D=0,p<N){O=p,N-=O;do x[f++]=m[D++];while(--O);D=f-S,w=x}}}else if(D+=p-O,O<N){N-=O;do x[f++]=m[D++];while(--O);D=f-S,w=x}for(;N>2;)x[f++]=w[D++],x[f++]=w[D++],x[f++]=w[D++],N-=3;N&&(x[f++]=w[D++],N>1&&(x[f++]=w[D++]))}else{D=f-S;do x[f++]=x[D++],x[f++]=x[D++],x[f++]=x[D++],N-=3;while(N>2);N&&(x[f++]=x[D++],N>1&&(x[f++]=x[D++]))}}else if(O&64){n.msg="invalid distance code",i.mode=e;break e}else{P=y[(P&65535)+(v&(1<<O)-1)];continue r}break}}else if(O&64)if(O&32){i.mode=t;break e}else{n.msg="invalid literal/length code",i.mode=e;break e}else{P=g[(P&65535)+(v&(1<<O)-1)];continue t}break}}while(s<o&&f<c);N=b>>3,s-=N,b-=N<<3,v&=(1<<b)-1,n.next_in=s,n.next_out=f,n.avail_in=s<o?5+(o-s):5-(s-o),n.avail_out=f<c?257+(c-f):257-(f-c),i.hold=v,i.bits=b},Zb}var eg,KA;function jG(){if(KA)return eg;KA=1;var e=Hm(),t=15,r=852,n=592,a=0,i=1,s=2,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return eg=function(d,h,p,m,v,b,g,y){var C=y.bits,I=0,P=0,O=0,N=0,S=0,D=0,w=0,T=0,x=0,_=0,M,L,F,G,U,q=null,V=0,W,Q=new e.Buf16(t+1),te=new e.Buf16(t+1),pe=null,be=0,Ie,me,xe;for(I=0;I<=t;I++)Q[I]=0;for(P=0;P<m;P++)Q[h[p+P]]++;for(S=C,N=t;N>=1&&Q[N]===0;N--);if(S>N&&(S=N),N===0)return v[b++]=1<<24|64<<16|0,v[b++]=1<<24|64<<16|0,y.bits=1,0;for(O=1;O<N&&Q[O]===0;O++);for(S<O&&(S=O),T=1,I=1;I<=t;I++)if(T<<=1,T-=Q[I],T<0)return-1;if(T>0&&(d===a||N!==1))return-1;for(te[1]=0,I=1;I<t;I++)te[I+1]=te[I]+Q[I];for(P=0;P<m;P++)h[p+P]!==0&&(g[te[h[p+P]]++]=P);if(d===a?(q=pe=g,W=19):d===i?(q=o,V-=257,pe=f,be-=257,W=256):(q=u,pe=c,W=-1),_=0,P=0,I=O,U=b,D=S,w=0,F=-1,x=1<<S,G=x-1,d===i&&x>r||d===s&&x>n)return 1;for(;;){Ie=I-w,g[P]<W?(me=0,xe=g[P]):g[P]>W?(me=pe[be+g[P]],xe=q[V+g[P]]):(me=96,xe=0),M=1<<I-w,L=1<<D,O=L;do L-=M,v[U+(_>>w)+L]=Ie<<24|me<<16|xe|0;while(L!==0);for(M=1<<I-1;_&M;)M>>=1;if(M!==0?(_&=M-1,_+=M):_=0,P++,--Q[I]===0){if(I===N)break;I=h[p+g[P]]}if(I>S&&(_&G)!==F){for(w===0&&(w=S),U+=O,D=I-w,T=1<<D;D+w<N&&(T-=Q[D+w],!(T<=0));)D++,T<<=1;if(x+=1<<D,d===i&&x>r||d===s&&x>n)return 1;F=_&G,v[F]=S<<24|D<<16|U-b|0}}return _!==0&&(v[U+_]=I-w<<24|64<<16|0),y.bits=S,0},eg}var WA;function GG(){if(WA)return ja;WA=1;var e=Hm(),t=JI(),r=QI(),n=UG(),a=jG(),i=0,s=1,o=2,f=4,u=5,c=6,l=0,d=1,h=2,p=-2,m=-3,v=-4,b=-5,g=8,y=1,C=2,I=3,P=4,O=5,N=6,S=7,D=8,w=9,T=10,x=11,_=12,M=13,L=14,F=15,G=16,U=17,q=18,V=19,W=20,Q=21,te=22,pe=23,be=24,Ie=25,me=26,xe=27,We=28,qe=29,$e=30,Ye=31,lt=32,st=852,it=592,Ce=15,De=Ce;function Rt(ee){return(ee>>>24&255)+(ee>>>8&65280)+((ee&65280)<<8)+((ee&255)<<24)}function Ft(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ue(ee){var le;return!ee||!ee.state?p:(le=ee.state,ee.total_in=ee.total_out=le.total=0,ee.msg="",le.wrap&&(ee.adler=le.wrap&1),le.mode=y,le.last=0,le.havedict=0,le.dmax=32768,le.head=null,le.hold=0,le.bits=0,le.lencode=le.lendyn=new e.Buf32(st),le.distcode=le.distdyn=new e.Buf32(it),le.sane=1,le.back=-1,l)}function ct(ee){var le;return!ee||!ee.state?p:(le=ee.state,le.wsize=0,le.whave=0,le.wnext=0,Ue(ee))}function se(ee,le){var k,_e;return!ee||!ee.state||(_e=ee.state,le<0?(k=0,le=-le):(k=(le>>4)+1,le<48&&(le&=15)),le&&(le<8||le>15))?p:(_e.window!==null&&_e.wbits!==le&&(_e.window=null),_e.wrap=k,_e.wbits=le,ct(ee))}function Ee(ee,le){var k,_e;return ee?(_e=new Ft,ee.state=_e,_e.window=null,k=se(ee,le),k!==l&&(ee.state=null),k):p}function Se(ee){return Ee(ee,De)}var Ne=!0,Fe,Me;function Je(ee){if(Ne){var le;for(Fe=new e.Buf32(512),Me=new e.Buf32(32),le=0;le<144;)ee.lens[le++]=8;for(;le<256;)ee.lens[le++]=9;for(;le<280;)ee.lens[le++]=7;for(;le<288;)ee.lens[le++]=8;for(a(s,ee.lens,0,288,Fe,0,ee.work,{bits:9}),le=0;le<32;)ee.lens[le++]=5;a(o,ee.lens,0,32,Me,0,ee.work,{bits:5}),Ne=!1}ee.lencode=Fe,ee.lenbits=9,ee.distcode=Me,ee.distbits=5}function Ct(ee,le,k,_e){var Le,E=ee.state;return E.window===null&&(E.wsize=1<<E.wbits,E.wnext=0,E.whave=0,E.window=new e.Buf8(E.wsize)),_e>=E.wsize?(e.arraySet(E.window,le,k-E.wsize,E.wsize,0),E.wnext=0,E.whave=E.wsize):(Le=E.wsize-E.wnext,Le>_e&&(Le=_e),e.arraySet(E.window,le,k-_e,Le,E.wnext),_e-=Le,_e?(e.arraySet(E.window,le,k-_e,_e,0),E.wnext=_e,E.whave=E.wsize):(E.wnext+=Le,E.wnext===E.wsize&&(E.wnext=0),E.whave<E.wsize&&(E.whave+=Le))),0}function j(ee,le){var k,_e,Le,E,ue,ce,B,X,oe,Re,ve,Te,Ve,Dt,Mt=0,It,rr,yr,Mr,_r,si,Zt,Lr,Gt=new e.Buf8(4),Hr,vr,zi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ee||!ee.state||!ee.output||!ee.input&&ee.avail_in!==0)return p;k=ee.state,k.mode===_&&(k.mode=M),ue=ee.next_out,Le=ee.output,B=ee.avail_out,E=ee.next_in,_e=ee.input,ce=ee.avail_in,X=k.hold,oe=k.bits,Re=ce,ve=B,Lr=l;e:for(;;)switch(k.mode){case y:if(k.wrap===0){k.mode=M;break}for(;oe<16;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(k.wrap&2&&X===35615){k.check=0,Gt[0]=X&255,Gt[1]=X>>>8&255,k.check=r(k.check,Gt,2,0),X=0,oe=0,k.mode=C;break}if(k.flags=0,k.head&&(k.head.done=!1),!(k.wrap&1)||(((X&255)<<8)+(X>>8))%31){ee.msg="incorrect header check",k.mode=$e;break}if((X&15)!==g){ee.msg="unknown compression method",k.mode=$e;break}if(X>>>=4,oe-=4,Zt=(X&15)+8,k.wbits===0)k.wbits=Zt;else if(Zt>k.wbits){ee.msg="invalid window size",k.mode=$e;break}k.dmax=1<<Zt,ee.adler=k.check=1,k.mode=X&512?T:_,X=0,oe=0;break;case C:for(;oe<16;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(k.flags=X,(k.flags&255)!==g){ee.msg="unknown compression method",k.mode=$e;break}if(k.flags&57344){ee.msg="unknown header flags set",k.mode=$e;break}k.head&&(k.head.text=X>>8&1),k.flags&512&&(Gt[0]=X&255,Gt[1]=X>>>8&255,k.check=r(k.check,Gt,2,0)),X=0,oe=0,k.mode=I;case I:for(;oe<32;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}k.head&&(k.head.time=X),k.flags&512&&(Gt[0]=X&255,Gt[1]=X>>>8&255,Gt[2]=X>>>16&255,Gt[3]=X>>>24&255,k.check=r(k.check,Gt,4,0)),X=0,oe=0,k.mode=P;case P:for(;oe<16;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}k.head&&(k.head.xflags=X&255,k.head.os=X>>8),k.flags&512&&(Gt[0]=X&255,Gt[1]=X>>>8&255,k.check=r(k.check,Gt,2,0)),X=0,oe=0,k.mode=O;case O:if(k.flags&1024){for(;oe<16;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}k.length=X,k.head&&(k.head.extra_len=X),k.flags&512&&(Gt[0]=X&255,Gt[1]=X>>>8&255,k.check=r(k.check,Gt,2,0)),X=0,oe=0}else k.head&&(k.head.extra=null);k.mode=N;case N:if(k.flags&1024&&(Te=k.length,Te>ce&&(Te=ce),Te&&(k.head&&(Zt=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),e.arraySet(k.head.extra,_e,E,Te,Zt)),k.flags&512&&(k.check=r(k.check,_e,Te,E)),ce-=Te,E+=Te,k.length-=Te),k.length))break e;k.length=0,k.mode=S;case S:if(k.flags&2048){if(ce===0)break e;Te=0;do Zt=_e[E+Te++],k.head&&Zt&&k.length<65536&&(k.head.name+=String.fromCharCode(Zt));while(Zt&&Te<ce);if(k.flags&512&&(k.check=r(k.check,_e,Te,E)),ce-=Te,E+=Te,Zt)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=D;case D:if(k.flags&4096){if(ce===0)break e;Te=0;do Zt=_e[E+Te++],k.head&&Zt&&k.length<65536&&(k.head.comment+=String.fromCharCode(Zt));while(Zt&&Te<ce);if(k.flags&512&&(k.check=r(k.check,_e,Te,E)),ce-=Te,E+=Te,Zt)break e}else k.head&&(k.head.comment=null);k.mode=w;case w:if(k.flags&512){for(;oe<16;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(X!==(k.check&65535)){ee.msg="header crc mismatch",k.mode=$e;break}X=0,oe=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),ee.adler=k.check=0,k.mode=_;break;case T:for(;oe<32;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}ee.adler=k.check=Rt(X),X=0,oe=0,k.mode=x;case x:if(k.havedict===0)return ee.next_out=ue,ee.avail_out=B,ee.next_in=E,ee.avail_in=ce,k.hold=X,k.bits=oe,h;ee.adler=k.check=1,k.mode=_;case _:if(le===u||le===c)break e;case M:if(k.last){X>>>=oe&7,oe-=oe&7,k.mode=xe;break}for(;oe<3;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}switch(k.last=X&1,X>>>=1,oe-=1,X&3){case 0:k.mode=L;break;case 1:if(Je(k),k.mode=W,le===c){X>>>=2,oe-=2;break e}break;case 2:k.mode=U;break;case 3:ee.msg="invalid block type",k.mode=$e}X>>>=2,oe-=2;break;case L:for(X>>>=oe&7,oe-=oe&7;oe<32;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if((X&65535)!==(X>>>16^65535)){ee.msg="invalid stored block lengths",k.mode=$e;break}if(k.length=X&65535,X=0,oe=0,k.mode=F,le===c)break e;case F:k.mode=G;case G:if(Te=k.length,Te){if(Te>ce&&(Te=ce),Te>B&&(Te=B),Te===0)break e;e.arraySet(Le,_e,E,Te,ue),ce-=Te,E+=Te,B-=Te,ue+=Te,k.length-=Te;break}k.mode=_;break;case U:for(;oe<14;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(k.nlen=(X&31)+257,X>>>=5,oe-=5,k.ndist=(X&31)+1,X>>>=5,oe-=5,k.ncode=(X&15)+4,X>>>=4,oe-=4,k.nlen>286||k.ndist>30){ee.msg="too many length or distance symbols",k.mode=$e;break}k.have=0,k.mode=q;case q:for(;k.have<k.ncode;){for(;oe<3;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}k.lens[zi[k.have++]]=X&7,X>>>=3,oe-=3}for(;k.have<19;)k.lens[zi[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Hr={bits:k.lenbits},Lr=a(i,k.lens,0,19,k.lencode,0,k.work,Hr),k.lenbits=Hr.bits,Lr){ee.msg="invalid code lengths set",k.mode=$e;break}k.have=0,k.mode=V;case V:for(;k.have<k.nlen+k.ndist;){for(;Mt=k.lencode[X&(1<<k.lenbits)-1],It=Mt>>>24,rr=Mt>>>16&255,yr=Mt&65535,!(It<=oe);){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(yr<16)X>>>=It,oe-=It,k.lens[k.have++]=yr;else{if(yr===16){for(vr=It+2;oe<vr;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(X>>>=It,oe-=It,k.have===0){ee.msg="invalid bit length repeat",k.mode=$e;break}Zt=k.lens[k.have-1],Te=3+(X&3),X>>>=2,oe-=2}else if(yr===17){for(vr=It+3;oe<vr;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}X>>>=It,oe-=It,Zt=0,Te=3+(X&7),X>>>=3,oe-=3}else{for(vr=It+7;oe<vr;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}X>>>=It,oe-=It,Zt=0,Te=11+(X&127),X>>>=7,oe-=7}if(k.have+Te>k.nlen+k.ndist){ee.msg="invalid bit length repeat",k.mode=$e;break}for(;Te--;)k.lens[k.have++]=Zt}}if(k.mode===$e)break;if(k.lens[256]===0){ee.msg="invalid code -- missing end-of-block",k.mode=$e;break}if(k.lenbits=9,Hr={bits:k.lenbits},Lr=a(s,k.lens,0,k.nlen,k.lencode,0,k.work,Hr),k.lenbits=Hr.bits,Lr){ee.msg="invalid literal/lengths set",k.mode=$e;break}if(k.distbits=6,k.distcode=k.distdyn,Hr={bits:k.distbits},Lr=a(o,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Hr),k.distbits=Hr.bits,Lr){ee.msg="invalid distances set",k.mode=$e;break}if(k.mode=W,le===c)break e;case W:k.mode=Q;case Q:if(ce>=6&&B>=258){ee.next_out=ue,ee.avail_out=B,ee.next_in=E,ee.avail_in=ce,k.hold=X,k.bits=oe,n(ee,ve),ue=ee.next_out,Le=ee.output,B=ee.avail_out,E=ee.next_in,_e=ee.input,ce=ee.avail_in,X=k.hold,oe=k.bits,k.mode===_&&(k.back=-1);break}for(k.back=0;Mt=k.lencode[X&(1<<k.lenbits)-1],It=Mt>>>24,rr=Mt>>>16&255,yr=Mt&65535,!(It<=oe);){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(rr&&!(rr&240)){for(Mr=It,_r=rr,si=yr;Mt=k.lencode[si+((X&(1<<Mr+_r)-1)>>Mr)],It=Mt>>>24,rr=Mt>>>16&255,yr=Mt&65535,!(Mr+It<=oe);){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}X>>>=Mr,oe-=Mr,k.back+=Mr}if(X>>>=It,oe-=It,k.back+=It,k.length=yr,rr===0){k.mode=me;break}if(rr&32){k.back=-1,k.mode=_;break}if(rr&64){ee.msg="invalid literal/length code",k.mode=$e;break}k.extra=rr&15,k.mode=te;case te:if(k.extra){for(vr=k.extra;oe<vr;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}k.length+=X&(1<<k.extra)-1,X>>>=k.extra,oe-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=pe;case pe:for(;Mt=k.distcode[X&(1<<k.distbits)-1],It=Mt>>>24,rr=Mt>>>16&255,yr=Mt&65535,!(It<=oe);){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(!(rr&240)){for(Mr=It,_r=rr,si=yr;Mt=k.distcode[si+((X&(1<<Mr+_r)-1)>>Mr)],It=Mt>>>24,rr=Mt>>>16&255,yr=Mt&65535,!(Mr+It<=oe);){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}X>>>=Mr,oe-=Mr,k.back+=Mr}if(X>>>=It,oe-=It,k.back+=It,rr&64){ee.msg="invalid distance code",k.mode=$e;break}k.offset=yr,k.extra=rr&15,k.mode=be;case be:if(k.extra){for(vr=k.extra;oe<vr;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}k.offset+=X&(1<<k.extra)-1,X>>>=k.extra,oe-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){ee.msg="invalid distance too far back",k.mode=$e;break}k.mode=Ie;case Ie:if(B===0)break e;if(Te=ve-B,k.offset>Te){if(Te=k.offset-Te,Te>k.whave&&k.sane){ee.msg="invalid distance too far back",k.mode=$e;break}Te>k.wnext?(Te-=k.wnext,Ve=k.wsize-Te):Ve=k.wnext-Te,Te>k.length&&(Te=k.length),Dt=k.window}else Dt=Le,Ve=ue-k.offset,Te=k.length;Te>B&&(Te=B),B-=Te,k.length-=Te;do Le[ue++]=Dt[Ve++];while(--Te);k.length===0&&(k.mode=Q);break;case me:if(B===0)break e;Le[ue++]=k.length,B--,k.mode=Q;break;case xe:if(k.wrap){for(;oe<32;){if(ce===0)break e;ce--,X|=_e[E++]<<oe,oe+=8}if(ve-=B,ee.total_out+=ve,k.total+=ve,ve&&(ee.adler=k.check=k.flags?r(k.check,Le,ve,ue-ve):t(k.check,Le,ve,ue-ve)),ve=B,(k.flags?X:Rt(X))!==k.check){ee.msg="incorrect data check",k.mode=$e;break}X=0,oe=0}k.mode=We;case We:if(k.wrap&&k.flags){for(;oe<32;){if(ce===0)break e;ce--,X+=_e[E++]<<oe,oe+=8}if(X!==(k.total&4294967295)){ee.msg="incorrect length check",k.mode=$e;break}X=0,oe=0}k.mode=qe;case qe:Lr=d;break e;case $e:Lr=m;break e;case Ye:return v;case lt:default:return p}return ee.next_out=ue,ee.avail_out=B,ee.next_in=E,ee.avail_in=ce,k.hold=X,k.bits=oe,(k.wsize||ve!==ee.avail_out&&k.mode<$e&&(k.mode<xe||le!==f))&&Ct(ee,ee.output,ee.next_out,ve-ee.avail_out),Re-=ee.avail_in,ve-=ee.avail_out,ee.total_in+=Re,ee.total_out+=ve,k.total+=ve,k.wrap&&ve&&(ee.adler=k.check=k.flags?r(k.check,Le,ve,ee.next_out-ve):t(k.check,Le,ve,ee.next_out-ve)),ee.data_type=k.bits+(k.last?64:0)+(k.mode===_?128:0)+(k.mode===W||k.mode===F?256:0),(Re===0&&ve===0||le===f)&&Lr===l&&(Lr=b),Lr}function he(ee){if(!ee||!ee.state)return p;var le=ee.state;return le.window&&(le.window=null),ee.state=null,l}function ye(ee,le){var k;return!ee||!ee.state||(k=ee.state,!(k.wrap&2))?p:(k.head=le,le.done=!1,l)}function Pe(ee,le){var k=le.length,_e,Le,E;return!ee||!ee.state||(_e=ee.state,_e.wrap!==0&&_e.mode!==x)?p:_e.mode===x&&(Le=1,Le=t(Le,le,k,0),Le!==_e.check)?m:(E=Ct(ee,le,k,k),E?(_e.mode=Ye,v):(_e.havedict=1,l))}return ja.inflateReset=ct,ja.inflateReset2=se,ja.inflateResetKeep=Ue,ja.inflateInit=Se,ja.inflateInit2=Ee,ja.inflate=j,ja.inflateEnd=he,ja.inflateGetHeader=ye,ja.inflateSetDictionary=Pe,ja.inflateInfo="pako inflate (from Nodeca project)",ja}var tg,qA;function KG(){return qA||(qA=1,tg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),tg}var VA;function WG(){return VA||(VA=1,function(e){var t=b4(),r=BG(),n=$G(),a=GG(),i=KG();for(var s in i)e[s]=i[s];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;var o=31,f=139;function u(c){if(typeof c!="number"||c<e.DEFLATE||c>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=c,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}u.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,t(this.init_done,"close before init"),t(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?n.deflateEnd(this.strm):(this.mode===e.INFLATE||this.mode===e.GUNZIP||this.mode===e.INFLATERAW||this.mode===e.UNZIP)&&a.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null},u.prototype.write=function(c,l,d,h,p,m,v){return this._write(!0,c,l,d,h,p,m,v)},u.prototype.writeSync=function(c,l,d,h,p,m,v){return this._write(!1,c,l,d,h,p,m,v)},u.prototype._write=function(c,l,d,h,p,m,v,b){if(t.equal(arguments.length,8),t(this.init_done,"write before init"),t(this.mode!==e.NONE,"already finalized"),t.equal(!1,this.write_in_progress,"write already in progress"),t.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,t.equal(!1,l===void 0,"must provide flush value"),this.write_in_progress=!0,l!==e.Z_NO_FLUSH&&l!==e.Z_PARTIAL_FLUSH&&l!==e.Z_SYNC_FLUSH&&l!==e.Z_FULL_FLUSH&&l!==e.Z_FINISH&&l!==e.Z_BLOCK)throw new Error("Invalid flush value");if(d==null&&(d=ae.alloc(0),p=0,h=0),this.strm.avail_in=p,this.strm.input=d,this.strm.next_in=h,this.strm.avail_out=b,this.strm.output=m,this.strm.next_out=v,this.flush=l,!c)return this._process(),this._checkError()?this._afterSync():void 0;var g=this;return vn.nextTick(function(){g._process(),g._after()}),this},u.prototype._afterSync=function(){var c=this.strm.avail_out,l=this.strm.avail_in;return this.write_in_progress=!1,[l,c]},u.prototype._process=function(){var c=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(c=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(c===null)break;if(this.strm.input[c]===o){if(this.gzip_id_bytes_read=1,c++,this.strm.avail_in===1)break}else{this.mode=e.INFLATE;break}case 1:if(c===null)break;this.strm.input[c]===f?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var c=this.strm.avail_out,l=this.strm.avail_in;this.write_in_progress=!1,this.callback(l,c),this.pending_close&&this.close()}},u.prototype._error=function(c){this.strm.msg&&(c=this.strm.msg),this.onerror(c,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(c,l,d,h,p){t(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),t(c>=8&&c<=15,"invalid windowBits"),t(l>=-1&&l<=9,"invalid compression level"),t(d>=1&&d<=9,"invalid memlevel"),t(h===e.Z_FILTERED||h===e.Z_HUFFMAN_ONLY||h===e.Z_RLE||h===e.Z_FIXED||h===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(l,c,d,h,p),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(c,l,d,h,p){switch(this.level=c,this.windowBits=l,this.memLevel=d,this.strategy=h,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,(this.mode===e.GZIP||this.mode===e.GUNZIP)&&(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),(this.mode===e.DEFLATERAW||this.mode===e.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=p,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=n.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=a.inflateReset(this.strm);break}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=u}(Vb)),Vb}var zA;function qG(){return zA||(zA=1,function(e){var t=ip.Buffer,r=$7.Transform,n=WG(),a=m_,i=b4().ok,s=ip.kMaxLength,o="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";n.Z_MIN_WINDOWBITS=8,n.Z_MAX_WINDOWBITS=15,n.Z_DEFAULT_WINDOWBITS=15,n.Z_MIN_CHUNK=64,n.Z_MAX_CHUNK=1/0,n.Z_DEFAULT_CHUNK=16*1024,n.Z_MIN_MEMLEVEL=1,n.Z_MAX_MEMLEVEL=9,n.Z_DEFAULT_MEMLEVEL=8,n.Z_MIN_LEVEL=-1,n.Z_MAX_LEVEL=9,n.Z_DEFAULT_LEVEL=n.Z_DEFAULT_COMPRESSION;for(var f=Object.keys(n),u=0;u<f.length;u++){var c=f[u];c.match(/^Z/)&&Object.defineProperty(e,c,{enumerable:!0,value:n[c],writable:!1})}for(var l={Z_OK:n.Z_OK,Z_STREAM_END:n.Z_STREAM_END,Z_NEED_DICT:n.Z_NEED_DICT,Z_ERRNO:n.Z_ERRNO,Z_STREAM_ERROR:n.Z_STREAM_ERROR,Z_DATA_ERROR:n.Z_DATA_ERROR,Z_MEM_ERROR:n.Z_MEM_ERROR,Z_BUF_ERROR:n.Z_BUF_ERROR,Z_VERSION_ERROR:n.Z_VERSION_ERROR},d=Object.keys(l),h=0;h<d.length;h++){var p=d[h];l[l[p]]=p}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(l),writable:!1}),e.Deflate=b,e.Inflate=g,e.Gzip=y,e.Gunzip=C,e.DeflateRaw=I,e.InflateRaw=P,e.Unzip=O,e.createDeflate=function(T){return new b(T)},e.createInflate=function(T){return new g(T)},e.createDeflateRaw=function(T){return new I(T)},e.createInflateRaw=function(T){return new P(T)},e.createGzip=function(T){return new y(T)},e.createGunzip=function(T){return new C(T)},e.createUnzip=function(T){return new O(T)},e.deflate=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new b(x),T,_)},e.deflateSync=function(T,x){return v(new b(x),T)},e.gzip=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new y(x),T,_)},e.gzipSync=function(T,x){return v(new y(x),T)},e.deflateRaw=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new I(x),T,_)},e.deflateRawSync=function(T,x){return v(new I(x),T)},e.unzip=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new O(x),T,_)},e.unzipSync=function(T,x){return v(new O(x),T)},e.inflate=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new g(x),T,_)},e.inflateSync=function(T,x){return v(new g(x),T)},e.gunzip=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new C(x),T,_)},e.gunzipSync=function(T,x){return v(new C(x),T)},e.inflateRaw=function(T,x,_){return typeof x=="function"&&(_=x,x={}),m(new P(x),T,_)},e.inflateRawSync=function(T,x){return v(new P(x),T)};function m(T,x,_){var M=[],L=0;T.on("error",G),T.on("end",U),T.end(x),F();function F(){for(var q;(q=T.read())!==null;)M.push(q),L+=q.length;T.once("readable",F)}function G(q){T.removeListener("end",U),T.removeListener("readable",F),_(q)}function U(){var q,V=null;L>=s?V=new RangeError(o):q=t.concat(M,L),M=[],T.close(),_(V,q)}}function v(T,x){if(typeof x=="string"&&(x=t.from(x)),!t.isBuffer(x))throw new TypeError("Not a string or buffer");var _=T._finishFlushFlag;return T._processChunk(x,_)}function b(T){if(!(this instanceof b))return new b(T);S.call(this,T,n.DEFLATE)}function g(T){if(!(this instanceof g))return new g(T);S.call(this,T,n.INFLATE)}function y(T){if(!(this instanceof y))return new y(T);S.call(this,T,n.GZIP)}function C(T){if(!(this instanceof C))return new C(T);S.call(this,T,n.GUNZIP)}function I(T){if(!(this instanceof I))return new I(T);S.call(this,T,n.DEFLATERAW)}function P(T){if(!(this instanceof P))return new P(T);S.call(this,T,n.INFLATERAW)}function O(T){if(!(this instanceof O))return new O(T);S.call(this,T,n.UNZIP)}function N(T){return T===n.Z_NO_FLUSH||T===n.Z_PARTIAL_FLUSH||T===n.Z_SYNC_FLUSH||T===n.Z_FULL_FLUSH||T===n.Z_FINISH||T===n.Z_BLOCK}function S(T,x){var _=this;if(this._opts=T=T||{},this._chunkSize=T.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,T),T.flush&&!N(T.flush))throw new Error("Invalid flush flag: "+T.flush);if(T.finishFlush&&!N(T.finishFlush))throw new Error("Invalid flush flag: "+T.finishFlush);if(this._flushFlag=T.flush||n.Z_NO_FLUSH,this._finishFlushFlag=typeof T.finishFlush<"u"?T.finishFlush:n.Z_FINISH,T.chunkSize&&(T.chunkSize<e.Z_MIN_CHUNK||T.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+T.chunkSize);if(T.windowBits&&(T.windowBits<e.Z_MIN_WINDOWBITS||T.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+T.windowBits);if(T.level&&(T.level<e.Z_MIN_LEVEL||T.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+T.level);if(T.memLevel&&(T.memLevel<e.Z_MIN_MEMLEVEL||T.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+T.memLevel);if(T.strategy&&T.strategy!=e.Z_FILTERED&&T.strategy!=e.Z_HUFFMAN_ONLY&&T.strategy!=e.Z_RLE&&T.strategy!=e.Z_FIXED&&T.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+T.strategy);if(T.dictionary&&!t.isBuffer(T.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new n.Zlib(x);var M=this;this._hadError=!1,this._handle.onerror=function(G,U){D(M),M._hadError=!0;var q=new Error(G);q.errno=U,q.code=e.codes[U],M.emit("error",q)};var L=e.Z_DEFAULT_COMPRESSION;typeof T.level=="number"&&(L=T.level);var F=e.Z_DEFAULT_STRATEGY;typeof T.strategy=="number"&&(F=T.strategy),this._handle.init(T.windowBits||e.Z_DEFAULT_WINDOWBITS,L,T.memLevel||e.Z_DEFAULT_MEMLEVEL,F,T.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=L,this._strategy=F,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!_._handle},configurable:!0,enumerable:!0})}a.inherits(S,r),S.prototype.params=function(T,x,_){if(T<e.Z_MIN_LEVEL||T>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+T);if(x!=e.Z_FILTERED&&x!=e.Z_HUFFMAN_ONLY&&x!=e.Z_RLE&&x!=e.Z_FIXED&&x!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+x);if(this._level!==T||this._strategy!==x){var M=this;this.flush(n.Z_SYNC_FLUSH,function(){i(M._handle,"zlib binding closed"),M._handle.params(T,x),M._hadError||(M._level=T,M._strategy=x,_&&_())})}else vn.nextTick(_)},S.prototype.reset=function(){return i(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(T){this._transform(t.alloc(0),"",T)},S.prototype.flush=function(T,x){var _=this,M=this._writableState;(typeof T=="function"||T===void 0&&!x)&&(x=T,T=n.Z_FULL_FLUSH),M.ended?x&&vn.nextTick(x):M.ending?x&&this.once("end",x):M.needDrain?x&&this.once("drain",function(){return _.flush(T,x)}):(this._flushFlag=T,this.write(t.alloc(0),"",x))},S.prototype.close=function(T){D(this,T),vn.nextTick(w,this)};function D(T,x){x&&vn.nextTick(x),T._handle&&(T._handle.close(),T._handle=null)}function w(T){T.emit("close")}S.prototype._transform=function(T,x,_){var M,L=this._writableState,F=L.ending||L.ended,G=F&&(!T||L.length===T.length);if(T!==null&&!t.isBuffer(T))return _(new Error("invalid input"));if(!this._handle)return _(new Error("zlib binding closed"));G?M=this._finishFlushFlag:(M=this._flushFlag,T.length>=L.length&&(this._flushFlag=this._opts.flush||n.Z_NO_FLUSH)),this._processChunk(T,M,_)},S.prototype._processChunk=function(T,x,_){var M=T&&T.length,L=this._chunkSize-this._offset,F=0,G=this,U=typeof _=="function";if(!U){var q=[],V=0,W;this.on("error",function(Ie){W=Ie}),i(this._handle,"zlib binding closed");do var Q=this._handle.writeSync(x,T,F,M,this._buffer,this._offset,L);while(!this._hadError&&be(Q[0],Q[1]));if(this._hadError)throw W;if(V>=s)throw D(this),new RangeError(o);var te=t.concat(q,V);return D(this),te}i(this._handle,"zlib binding closed");var pe=this._handle.write(x,T,F,M,this._buffer,this._offset,L);pe.buffer=T,pe.callback=be;function be(Ie,me){if(this&&(this.buffer=null,this.callback=null),!G._hadError){var xe=L-me;if(i(xe>=0,"have should not go down"),xe>0){var We=G._buffer.slice(G._offset,G._offset+xe);G._offset+=xe,U?G.push(We):(q.push(We),V+=We.length)}if((me===0||G._offset>=G._chunkSize)&&(L=G._chunkSize,G._offset=0,G._buffer=t.allocUnsafe(G._chunkSize)),me===0){if(F+=M-Ie,M=Ie,!U)return!0;var qe=G._handle.write(x,T,F,M,G._buffer,G._offset,G._chunkSize);qe.callback=be,qe.buffer=T;return}if(!U)return!1;_()}}},a.inherits(b,S),a.inherits(g,S),a.inherits(y,S),a.inherits(C,S),a.inherits(I,S),a.inherits(P,S),a.inherits(O,S)}(qb)),qb}Object.defineProperty(xu,"__esModule",{value:!0});xu.InvalidStatusCodeError=xu.InvalidCertError=void 0;const ZI=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class c1 extends Error{constructor(t,r){super(t),this.fingerprint256=r}}xu.InvalidCertError=c1;class g2 extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}xu.InvalidStatusCodeError=g2;function eP(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let YA={};function f1(e,t){var d;let r={...ZI,...t};const n=b2(),a=XI(),i=qG(),{promisify:s}=m_,{resolve:o}=mf,f=!!/^https/.test(e);let u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const c=h=>h.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const h={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},p=[f,f&&((d=r.sslPinnedCertificates)==null?void 0:d.map(m=>c(m)).sort())].join();u.agent=YA[p]||(YA[p]=new(f?a:n).Agent(h))}r.type==="json"&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body=r.type==="json"?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);const l=async h=>{const p=h.statusCode;if(r.redirect&&300<=p&&p<400&&h.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await f1(o(e,h.headers.location),r)}if(r.expectStatusCode&&p!==r.expectStatusCode)throw h.resume(),new g2(p);let m=[];for await(const y of h)m.push(y);let v=ae.concat(m);const b=h.headers["content-encoding"];b==="br"&&(v=await s(i.brotliDecompress)(v)),(b==="gzip"||b==="deflate")&&(v=await s(i.unzip)(v));const g=eP(v,r.type);return r.full?{headers:h.headers,status:p,body:g}:g};return new Promise((h,p)=>{var y;const m=async C=>{if(C&&C.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await f1(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(I){I&&I.fingerprint256&&(C=new c1(`Self-signed SSL certificate: ${I.fingerprint256}`,I.fingerprint256))}p(C)},v=(f?a:n).request(e,u,C=>{C.on("error",m),(async()=>{try{h(await l(C))}catch(I){p(I)}})()});v.on("error",m);const b=(y=r.sslPinnedCertificates)==null?void 0:y.map(C=>c(C)),g=C=>{var P;const I=c(((P=C.getPeerCertificate())==null?void 0:P.fingerprint256)||"");if(!(!I&&C.isSessionReused())&&!b.includes(I))return v.emit("error",new c1(`Invalid SSL certificate: ${I} Expected: ${b}`,I)),v.abort()};r.sslPinnedCertificates&&v.on("socket",C=>{C.listeners("secureConnect").map(P=>(P.name||"").replace("bound ","")).includes("mfetchSecureConnect")||C.on("secureConnect",g.bind(null,C))}),r.keepAlive&&v.setNoDelay(!0),u.body&&v.write(u.body),v.end()})}const VG=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),zG=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function YG(e,t){let r={...ZI,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let a=new URL(e);if(a.username){const f=btoa(`${a.username}:${a.password}`);n.set("Authorization",`Basic ${f}`),a.username="",a.password=""}e=""+a;for(let f in r.headers){const u=f.toLowerCase();(VG.has(u)||r.cors&&!zG.has(u))&&n.set(f,r.headers[f])}let i={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(i.referrerPolicy="no-referrer"),r.cors&&(i.mode="cors"),r.data&&(r.method||(i.method="POST"),i.body=r.type==="json"?JSON.stringify(r.data):r.data);const s=await fetch(e,i);if(r.expectStatusCode&&s.status!==r.expectStatusCode)throw new g2(s.status);const o=eP(new Uint8Array(await s.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(s.headers.entries()),status:s.status,body:o}:o}const XG=!!(typeof vn=="object"&&vn.versions&&vn.versions.node&&vn.versions.v8);function JG(e,t){return(XG?f1:YG)(e,t)}xu.default=JG;Object.defineProperty(pf,"__esModule",{value:!0});pf.getProvider=pf.fetchFromProvider=void 0;const QG=xu,ZG=async(e,t)=>(await(0,QG.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;pf.fetchFromProvider=ZG;const eK=e=>{var t;if(typeof e=="string")return e;if(((t=e==null?void 0:e.connection)==null?void 0:t.url)!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};pf.getProvider=eK;(function(e){var t=$&&$.__createBinding||(Object.create?function(a,i,s,o){o===void 0&&(o=s);var f=Object.getOwnPropertyDescriptor(i,s);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(a,o,f)}:function(a,i,s,o){o===void 0&&(o=s),a[o]=i[s]}),r=$&&$.__exportStar||function(a,i){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(xm,e),r(Dm,e),r(p2,e),r(mh,e),r(Mm,e),r(Cn,e),r(Yu,e),r(v2,e),r(MI,e),r(Bm,e);var n=sr;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(Fm,e),r(pf,e)})(AI);var vf=Qe,tK=lo,tP=ho,XA=AI,Xf=po,{keccak256:rP}=d_,y2=function(e){return vf.isBN(e)},nP=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},bh=function(e){try{return tK.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},rK=function(e){return"0x"+bh(e).toTwos(256).toString(16,64)},aP=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:iP(e):!1},iP=function(e){e=e.replace(/^0x/i,"");for(var t=$m(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},nK=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},aK=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},l1=function(e){e=tP.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},iK=function(e){if(!Xu(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return tP.decode(t)},sP=function(e,t=!1){if(!e)return e;if(typeof e=="string"&&!Xu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');const r=bh(e);return t&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(r):r.toNumber()},sK=function(e){if(!e)return e;if(typeof e=="string"&&!Xu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return bh(e).toString(10)},d1=function(e){if(e==null)return e;if(!isFinite(e)&&!Xu(e))throw new Error('Given input "'+e+'" is not a number.');var t=bh(e),r=t.toString(16);return t.lt(new vf(0))?"-0x"+r.slice(1):"0x"+r},oK=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},uK=function(e){if(e=e.toString(16),!Xu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},oP=function(e,t){if(aP(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!nP(e)&&!y2(e))return t?"string":l1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":d1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":l1(e)}return t?e<0?"int256":"uint256":d1(e)},Xu=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},uP=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},cK=function(e){return e!==0&&uP(e)?e.replace(/^(-)?0x/i,"$1"):e},fK=function(e){return Xf.isBloom(e)},lK=function(e,t){return Xf.isUserEthereumAddressInBloom(e,t)},dK=function(e,t){return Xf.isContractAddressInBloom(e,t)},hK=function(e){return Xf.isTopic(e)},pK=function(e,t){return Xf.isTopicInBloom(e,t)},mK=function(e,t){return Xf.isInBloom(e,t)},cP="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",$m=function(e){y2(e)&&(e=e.toString()),Xu(e)&&/^0x/i.test(e.toString())?e=XA.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=XA.bufferToHex(rP(e));return t===cP?null:t};$m._Hash=rP;var vK=function(e){return e=$m(e),e===null?cP:e},bK=function(e,t=!1){return typeof e=="number"?e:sP(oP(e),t)},_2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new vf(t+r,16)}else return new vf(e)};Object.setPrototypeOf(_2,vf);Object.setPrototypeOf(_2.prototype,vf.prototype);var fP={BN:_2,isBN:y2,isBigNumber:nP,toBN:bh,isAddress:aP,isBloom:fK,isUserEthereumAddressInBloom:lK,isContractAddressInBloom:dK,isTopic:hK,isTopicInBloom:pK,isInBloom:mK,checkAddressChecksum:iP,utf8ToHex:l1,hexToUtf8:iK,hexToNumber:sP,hexToNumberString:sK,numberToHex:d1,toHex:oP,hexToBytes:uK,bytesToHex:oK,isHex:uP,isHexStrict:Xu,stripHexPrefix:cK,leftPad:nK,rightPad:aK,toTwosComplement:rK,sha3:$m,sha3Raw:vK,toNumber:bK},Jo=Qe,ya=fP,gK=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},yK=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},_K=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},JA=function(e){var t=typeof e;if(t==="string")return ya.isHexStrict(e)?new Jo(e.replace(/0x/i,""),16):new Jo(e,10);if(t==="number")return new Jo(e);if(ya.isBigNumber(e))return new Jo(e.toString(10));if(ya.isBN(e))return e;throw new Error(e+" is not a number")},QA=function(e,t,r){var n,a;if(e=gK(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return ya.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!ya.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return ya.leftPad(t.toLowerCase(),n)}}if(n=yK(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return ya.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=JA(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new Jo(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?ya.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=JA(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new Jo(0))?a.toTwos(n).toString("hex"):n?ya.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},T2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=ya.toHex(e,!0),r=ya.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new Jo(r)),Array.isArray(r)){if(a=_K(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return QA(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=QA(t,r,a),n.toString("hex").replace("0x",""))},TK=function(){var e=Array.prototype.slice.call(arguments),t=e.map(T2);return ya.sha3("0x"+t.join(""))},EK=function(){return ya.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(T2).join(""))},SK=function(){var e=Array.prototype.slice.call(arguments),t=e.map(T2);return"0x"+t.join("").toLowerCase()},AK={soliditySha3:TK,soliditySha3Raw:EK,encodePacked:SK},Ru=mo,pt=fP,rg=AK,wK=bo,ZA=Qe,CK=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},IK=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+E2(!1,e.inputs).join(",")+")"},E2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=E2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},PK=function(e){return"0x"+wK(e).toString("hex")},e3=function(e){if(!pt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},t3=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},lP=function(e){if(e=e?e.toLowerCase():"ether",!Ru.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(Ru.unitMap,null,2));return e},NK=function(e,t){if(t=lP(t),!pt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return pt.isBN(e)?Ru.fromWei(e,t):Ru.fromWei(e,t).toString(10)},OK=function(e,t){if(t=lP(t),!pt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return pt.isBN(e)?Ru.toWei(e,t):Ru.toWei(e,t).toString(10)},xK=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=pt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},RK=function(e,t){if(e===t)return 0;if((e==="genesis"||e==="earliest"||e===0)&&(t==="genesis"||t==="earliest"||t===0))return 0;if(e==="genesis"||e==="earliest"||e===0)return-1;if(t==="genesis"||t==="earliest"||t===0)return 1;if(e==="latest"||e==="finalized")return t==="pending"?-1:1;if(t==="latest"||t==="finalized")return e==="pending"?1:-1;if(e==="pending")return 1;if(t==="pending")return-1;if(e==="safe"||t==="safe")return;{let r=new ZA(e),n=new ZA(t);return r.lt(n)?-1:r.eq(n)?0:1}},ua={_fireError:CK,_jsonInterfaceMethodToString:IK,_flattenTypes:E2,randomHex:PK,BN:pt.BN,isBN:pt.isBN,isBigNumber:pt.isBigNumber,isHex:pt.isHex,isHexStrict:pt.isHexStrict,sha3:pt.sha3,sha3Raw:pt.sha3Raw,keccak256:pt.sha3,soliditySha3:rg.soliditySha3,soliditySha3Raw:rg.soliditySha3Raw,encodePacked:rg.encodePacked,isAddress:pt.isAddress,checkAddressChecksum:pt.checkAddressChecksum,toChecksumAddress:xK,toHex:pt.toHex,toBN:pt.toBN,bytesToHex:pt.bytesToHex,hexToBytes:pt.hexToBytes,hexToNumberString:pt.hexToNumberString,hexToNumber:pt.hexToNumber,toDecimal:pt.hexToNumber,numberToHex:pt.numberToHex,fromDecimal:pt.numberToHex,hexToUtf8:pt.hexToUtf8,hexToString:pt.hexToUtf8,toUtf8:pt.hexToUtf8,stripHexPrefix:pt.stripHexPrefix,utf8ToHex:pt.utf8ToHex,stringToHex:pt.utf8ToHex,fromUtf8:pt.utf8ToHex,hexToAscii:e3,toAscii:e3,asciiToHex:t3,fromAscii:t3,unitMap:Ru.unitMap,toWei:OK,fromWei:NK,padLeft:pt.leftPad,leftPad:pt.leftPad,padRight:pt.rightPad,rightPad:pt.rightPad,toTwosComplement:pt.toTwosComplement,isBloom:pt.isBloom,isUserEthereumAddressInBloom:pt.isUserEthereumAddressInBloom,isContractAddressInBloom:pt.isContractAddressInBloom,isTopic:pt.isTopic,isTopicInBloom:pt.isTopicInBloom,isInBloom:pt.isInBloom,compareBlockNumbers:RK,toNumber:pt.toNumber};function DK(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function MK(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var LK=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dP=function(e){LK(t,e);function t(r,n){var a=this.constructor,i=e.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),DK(i,a.prototype),MK(i),i}return t}(Error);const Xt=new EI.ec("secp256k1");async function Ap(e,t){const r=await uj(e,t);return{ciphertext:r.ciphertext.toString("hex"),ephemPublicKey:r.ephemPublicKey.toString("hex"),iv:r.iv.toString("hex"),mac:r.mac.toString("hex")}}async function Um(e,t){const r={ciphertext:ae.from(t.ciphertext,"hex"),ephemPublicKey:ae.from(t.ephemPublicKey,"hex"),iv:ae.from(t.iv,"hex"),mac:ae.from(t.mac,"hex")};return cj(e,r)}function kK(e){return Object.keys(e).length===0&&e.constructor===Object}const BK=e=>e&&e.stack&&e.message!=="";function Rc(e){return BK(e)?e.message:JSON.stringify(SI.serializeError(e))}function zs(e){const t=new we(ij());return e.find(r=>r.eq(t))?zs(e):t}const wp="KEY_NOT_FOUND",ng="SHARE_DELETED";function Ad(e){return e.slice(0,2)==="0x"?e.slice(2):e}function FK(){return`${Math.random().toString(36).substr(2,9)}`}let oa=class h1{constructor(t,r){ie(this,"x",void 0),ie(this,"y",void 0),this.x=new we(t,"hex"),this.y=new we(r,"hex")}static fromCompressedPub(t){const n=Xt.keyFromPublic(t,"hex").getPublic();return new h1(n.getX(),n.getY())}static fromJSON(t){const{x:r,y:n}=t;return new h1(r,n)}encode(t,r){switch(t){case"arr":return ae.concat([ae.from("0x04","hex"),ae.from(this.x.toString("hex"),"hex"),ae.from(this.y.toString("hex"),"hex")]);case"elliptic-compressed":{let n=r;n=Xt;const a=n.keyFromPublic({x:this.x.toString("hex"),y:this.y.toString("hex")},"hex");return ae.from(a.getPublic(!0,"hex"))}default:throw new Error("encoding doesnt exist in Point")}}toJSON(){return{x:this.x.toString("hex"),y:this.y.toString("hex")}}};const Kc=e=>Xt.keyFromPrivate(e.toString("hex",64)),Jf=e=>{const t=new we(e,"hex");return ae.from(t.toString("hex",64),"hex")},HK=e=>Xt.keyFromPrivate(e.toString("hex",64)).getPublic(),Cp=e=>vI(Jf(e)),Va=e=>{const t=HK(e);return new oa(t.getX().toString("hex"),t.getY().toString("hex"))};let hP=class extends dP{constructor(t,r){super(r),ie(this,"code",void 0),ie(this,"message",void 0),this.code=t,this.message=r||"",Object.defineProperty(this,"name",{value:"TkeyError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}};const p1="__ONE_KEY_DELETE_NONCE__",$K="noncev2";let pP=class mP{constructor(t){ie(this,"polynomialCommitments",void 0),ie(this,"polynomialId",void 0),this.polynomialCommitments=t}static fromJSON(t){const r=t.polynomialCommitments.map(n=>oa.fromJSON(n));return new mP(r)}getThreshold(){return this.polynomialCommitments.length}getPolynomialID(){let t="";for(let r=0;r<this.polynomialCommitments.length;r+=1){let n=this.polynomialCommitments[r].encode("elliptic-compressed").toString();r!==0&&(n=`|${n}`),t+=n}return this.polynomialId=t,this.polynomialId}toJSON(){return{polynomialCommitments:this.polynomialCommitments}}},Ip=class vP{constructor(t,r){ie(this,"shareCommitment",void 0),ie(this,"shareIndex",void 0),this.shareCommitment=new oa(r.x,r.y),this.shareIndex=new we(t,"hex")}static fromJSON(t){const{shareCommitment:r,shareIndex:n}=t;return new vP(n,oa.fromJSON(r))}toJSON(){return{shareCommitment:this.shareCommitment,shareIndex:this.shareIndex.toString("hex")}}},Tu=class bP{constructor(t,r){ie(this,"share",void 0),ie(this,"shareIndex",void 0),this.share=new we(r,"hex"),this.shareIndex=new we(t,"hex")}static fromJSON(t){const{share:r,shareIndex:n}=t;return new bP(n,r)}getPublicShare(){return new Ip(this.shareIndex,Va(this.share))}toJSON(){return{share:this.share.toString("hex"),shareIndex:this.shareIndex.toString("hex")}}},gP=class yP{constructor(t){ie(this,"polynomial",void 0),ie(this,"publicPolynomial",void 0),this.polynomial=t}static fromJSON(t){const{polynomial:r}=t;return new yP(r.map(n=>new we(n,"hex")))}getThreshold(){return this.polynomial.length}polyEval(t){const r=new we(t,"hex");let n=new we(r),a=new we(0);a=a.add(this.polynomial[0]);for(let i=1;i<this.polynomial.length;i+=1){const s=n.mul(this.polynomial[i]);a=a.add(s),a=a.umod(Xt.curve.n),n=n.mul(new we(r)),n=n.umod(Xt.curve.n)}return a}generateShares(t){const r=t.map(a=>typeof a=="number"?new we(a):a instanceof we?a:typeof a=="string"?new we(a,"hex"):a),n={};for(let a=0;a<r.length;a+=1)n[r[a].toString("hex")]=new Tu(r[a],this.polyEval(r[a]));return n}getPublicPolynomial(){const t=[];for(let r=0;r<this.polynomial.length;r+=1)t.push(Va(this.polynomial[r]));return this.publicPolynomial=new pP(t),this.publicPolynomial}getPolynomialID(){return this.publicPolynomial.polynomialId}toJSON(){return{polynomial:this.polynomial.map(t=>t.toString("hex"))}}},Pr=class _P{constructor(t,r){ie(this,"share",void 0),ie(this,"polynomialID",void 0),this.share=t,this.polynomialID=r}static fromJSON(t){const{share:r,polynomialID:n}=t;return new _P(Tu.fromJSON(r),n)}toJSON(){return{share:this.share,polynomialID:this.polynomialID.toString()}}};var r3=function(){function e(t){var r=t.enableLogging,n=r===void 0?!1:r,a=t.postboxKey;qr(this,e),ie(this,"enableLogging",void 0),ie(this,"postboxKey",void 0),ie(this,"serviceProviderName",void 0),this.enableLogging=n,this.postboxKey=new we(a,"hex"),this.serviceProviderName="ServiceProviderBase"}return Vr(e,[{key:"encrypt",value:function(){var t=Ke(de.mark(function n(a){var i;return de.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.retrievePubKey("ecc"),o.abrupt("return",Ap(i,a));case 2:case"end":return o.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"decrypt",value:function(){var t=Ke(de.mark(function n(a){return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Um(Jf(this.postboxKey),a));case 1:case"end":return s.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"retrievePubKeyPoint",value:function(){return Kc(this.postboxKey).getPublic()}},{key:"retrievePubKey",value:function(r){if(r==="ecc")return Cp(this.postboxKey);throw new Error("Unsupported pub key type")}},{key:"sign",value:function(r){var n=new we(r,"hex"),a=Kc(this.postboxKey).sign(n.toString("hex"));return ae.from(a.r.toString(16,64)+a.s.toString(16,64)+new we(0).toString(16,2),"hex").toString("base64")}},{key:"toJSON",value:function(){return{enableLogging:this.enableLogging,postboxKey:this.postboxKey.toString("hex"),serviceProviderName:this.serviceProviderName}}}],[{key:"fromJSON",value:function(r){var n=r.enableLogging,a=r.postboxKey,i=r.serviceProviderName;if(i==="ServiceProviderBase")return new e({enableLogging:n,postboxKey:a})}}]),e}();const UK=Object.freeze(Object.defineProperty({__proto__:null,ServiceProviderBase:r3,default:r3},Symbol.toStringTag,{value:"Module"})),jK=ei(UK);var F0,GK=om().ec,m1=new GK("secp256k1"),Pp=$.crypto||$.msCrypto||{},ag=Pp.subtle||Pp.webkitSubtle,wd=Wu();const KK=ae.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),WK=ae.alloc(32,0);function Ni(e,t){if(!e)throw new Error(t||"Assertion failed")}function qK(e){return ae.isBuffer(e)&&e.length===32}function S2(e){return qK(e)?e.compare(WK)>0&&e.compare(KK)<0:!1}function VK(e,t){if(e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function n3(e){var t=new Uint8Array(e);return typeof Pp.getRandomValues>"u"?ae.from(wd.randomBytes(e)):(Pp.getRandomValues(t),ae.from(t))}function zK(e){return new Promise(function(t){var r=wd.createHash("sha512"),n=r.update(e).digest();t(new Uint8Array(n))})}function YK(e){return function(t,r,n){return new Promise(function(a){if(ag){var i={name:"AES-CBC"},s=ag.importKey("raw",r,i,!1,[e]);return s.then(function(u){var c={name:"AES-CBC",iv:t};return ag[e](c,u,n)}).then(function(u){a(ae.from(new Uint8Array(u)))})}else if(e==="encrypt"){var o=wd.createCipheriv("aes-256-cbc",r,t);let u=o.update(n),c=o.final();a(ae.concat([u,c]))}else if(e==="decrypt"){var f=wd.createDecipheriv("aes-256-cbc",r,t);let u=f.update(n),c=f.final();a(ae.concat([u,c]))}})}}var XK=YK("decrypt");function JK(e,t,r){return new Promise(function(n){var a=wd.createHmac("sha256",ae.from(e));a.update(t);var i=a.digest();n(VK(i,r))})}var QK=function(){for(var e=n3(32);!S2(e);)e=n3(32);return e};F0=function(e){return Ni(e.length===32,"Bad private key"),Ni(S2(e),"Bad private key"),ae.from(m1.keyFromPrivate(e).getPublic("arr"))};var ZK=function(e,t){return new Promise(function(r){Ni(ae.isBuffer(e),"Bad private key"),Ni(ae.isBuffer(t),"Bad public key"),Ni(e.length===32,"Bad private key"),Ni(S2(e),"Bad private key"),Ni(t.length===65||t.length===33,"Bad public key"),t.length===65&&Ni(t[0]===4,"Bad public key"),t.length===33&&Ni(t[0]===2||t[0]===3,"Bad public key");var n=m1.keyFromPrivate(e),a=m1.keyFromPublic(t),i=n.derive(a.getPublic());r(ae.from(i.toArray()))})},eW=function(e,t){var r;return ZK(e,t.ephemPublicKey).then(function(n){return zK(n)}).then(function(n){r=n.slice(0,32);var a=n.slice(32),i=ae.concat([t.iv,t.ephemPublicKey,t.ciphertext]);return JK(a,i,t.mac)}).then(function(n){return Ni(n,"Bad MAC"),XK(t.iv,r,t.ciphertext)}).then(function(n){return ae.from(new Uint8Array(n))})},Np={exports:{}};Np.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",a=800,i=16,s=9007199254740991,o="[object Arguments]",f="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",v="[object Number]",b="[object Null]",g="[object Object]",y="[object Proxy]",C="[object RegExp]",I="[object Set]",P="[object String]",O="[object Undefined]",N="[object WeakMap]",S="[object ArrayBuffer]",D="[object DataView]",w="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",M="[object Int32Array]",L="[object Uint8Array]",F="[object Uint8ClampedArray]",G="[object Uint16Array]",U="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,Q={};Q[w]=Q[T]=Q[x]=Q[_]=Q[M]=Q[L]=Q[F]=Q[G]=Q[U]=!0,Q[o]=Q[f]=Q[S]=Q[c]=Q[D]=Q[l]=Q[d]=Q[h]=Q[m]=Q[v]=Q[g]=Q[C]=Q[I]=Q[P]=Q[N]=!1;var te=typeof $=="object"&&$&&$.Object===Object&&$,pe=typeof self=="object"&&self&&self.Object===Object&&self,be=te||pe||Function("return this")(),Ie=t&&!t.nodeType&&t,me=Ie&&!0&&e&&!e.nodeType&&e,xe=me&&me.exports===Ie,We=xe&&te.process,qe=function(){try{var z=me&&me.require&&me.require("util").types;return z||We&&We.binding&&We.binding("util")}catch{}}(),$e=qe&&qe.isTypedArray;function Ye(z,ne,fe){switch(fe.length){case 0:return z.call(ne);case 1:return z.call(ne,fe[0]);case 2:return z.call(ne,fe[0],fe[1]);case 3:return z.call(ne,fe[0],fe[1],fe[2])}return z.apply(ne,fe)}function lt(z,ne){for(var fe=-1,He=Array(z);++fe<z;)He[fe]=ne(fe);return He}function st(z){return function(ne){return z(ne)}}function it(z,ne){return z==null?void 0:z[ne]}function Ce(z,ne){return function(fe){return z(ne(fe))}}var De=Array.prototype,Rt=Function.prototype,Ft=Object.prototype,Ue=be["__core-js_shared__"],ct=Rt.toString,se=Ft.hasOwnProperty,Ee=function(){var z=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Se=Ft.toString,Ne=ct.call(Object),Fe=RegExp("^"+ct.call(se).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=xe?be.Buffer:void 0,Je=be.Symbol,Ct=be.Uint8Array,j=Me?Me.allocUnsafe:void 0,he=Ce(Object.getPrototypeOf,Object),ye=Object.create,Pe=Ft.propertyIsEnumerable,ee=De.splice,le=Je?Je.toStringTag:void 0,k=function(){try{var z=tb(Object,"defineProperty");return z({},"",{}),z}catch{}}(),_e=Me?Me.isBuffer:void 0,Le=Math.max,E=Date.now,ue=tb(be,"Map"),ce=tb(Object,"create"),B=function(){function z(){}return function(ne){if(!wo(ne))return{};if(ye)return ye(ne);z.prototype=ne;var fe=new z;return z.prototype=void 0,fe}}();function X(z){var ne=-1,fe=z==null?0:z.length;for(this.clear();++ne<fe;){var He=z[ne];this.set(He[0],He[1])}}function oe(){this.__data__=ce?ce(null):{},this.size=0}function Re(z){var ne=this.has(z)&&delete this.__data__[z];return this.size-=ne?1:0,ne}function ve(z){var ne=this.__data__;if(ce){var fe=ne[z];return fe===n?void 0:fe}return se.call(ne,z)?ne[z]:void 0}function Te(z){var ne=this.__data__;return ce?ne[z]!==void 0:se.call(ne,z)}function Ve(z,ne){var fe=this.__data__;return this.size+=this.has(z)?0:1,fe[z]=ce&&ne===void 0?n:ne,this}X.prototype.clear=oe,X.prototype.delete=Re,X.prototype.get=ve,X.prototype.has=Te,X.prototype.set=Ve;function Dt(z){var ne=-1,fe=z==null?0:z.length;for(this.clear();++ne<fe;){var He=z[ne];this.set(He[0],He[1])}}function Mt(){this.__data__=[],this.size=0}function It(z){var ne=this.__data__,fe=Si(ne,z);if(fe<0)return!1;var He=ne.length-1;return fe==He?ne.pop():ee.call(ne,fe,1),--this.size,!0}function rr(z){var ne=this.__data__,fe=Si(ne,z);return fe<0?void 0:ne[fe][1]}function yr(z){return Si(this.__data__,z)>-1}function Mr(z,ne){var fe=this.__data__,He=Si(fe,z);return He<0?(++this.size,fe.push([z,ne])):fe[He][1]=ne,this}Dt.prototype.clear=Mt,Dt.prototype.delete=It,Dt.prototype.get=rr,Dt.prototype.has=yr,Dt.prototype.set=Mr;function _r(z){var ne=-1,fe=z==null?0:z.length;for(this.clear();++ne<fe;){var He=z[ne];this.set(He[0],He[1])}}function si(){this.size=0,this.__data__={hash:new X,map:new(ue||Dt),string:new X}}function Zt(z){var ne=qh(this,z).delete(z);return this.size-=ne?1:0,ne}function Lr(z){return qh(this,z).get(z)}function Gt(z){return qh(this,z).has(z)}function Hr(z,ne){var fe=qh(this,z),He=fe.size;return fe.set(z,ne),this.size+=fe.size==He?0:1,this}_r.prototype.clear=si,_r.prototype.delete=Zt,_r.prototype.get=Lr,_r.prototype.has=Gt,_r.prototype.set=Hr;function vr(z){var ne=this.__data__=new Dt(z);this.size=ne.size}function zi(){this.__data__=new Dt,this.size=0}function fc(z){var ne=this.__data__,fe=ne.delete(z);return this.size=ne.size,fe}function Ht(z){return this.__data__.get(z)}function Ot(z){return this.__data__.has(z)}function br(z,ne){var fe=this.__data__;if(fe instanceof Dt){var He=fe.__data__;if(!ue||He.length<r-1)return He.push([z,ne]),this.size=++fe.size,this;fe=this.__data__=new _r(He)}return fe.set(z,ne),this.size=fe.size,this}vr.prototype.clear=zi,vr.prototype.delete=fc,vr.prototype.get=Ht,vr.prototype.has=Ot,vr.prototype.set=br;function _n(z,ne){var fe=ab(z),He=!fe&&nb(z),$t=!fe&&!He&&VT(z),tr=!fe&&!He&&!$t&&YT(z),lr=fe||He||$t||tr,Lt=lr?lt(z.length,String):[],dr=Lt.length;for(var Ha in z)(ne||se.call(z,Ha))&&!(lr&&(Ha=="length"||$t&&(Ha=="offset"||Ha=="parent")||tr&&(Ha=="buffer"||Ha=="byteLength"||Ha=="byteOffset")||WT(Ha,dr)))&&Lt.push(Ha);return Lt}function da(z,ne,fe){(fe!==void 0&&!Vh(z[ne],fe)||fe===void 0&&!(ne in z))&&So(z,ne,fe)}function Ei(z,ne,fe){var He=z[ne];(!(se.call(z,ne)&&Vh(He,fe))||fe===void 0&&!(ne in z))&&So(z,ne,fe)}function Si(z,ne){for(var fe=z.length;fe--;)if(Vh(z[fe][0],ne))return fe;return-1}function So(z,ne,fe){ne=="__proto__"&&k?k(z,ne,{configurable:!0,enumerable:!0,value:fe,writable:!0}):z[ne]=fe}var lc=O9();function Yi(z){return z==null?z===void 0?O:b:le&&le in Object(z)?x9(z):B9(z)}function dc(z){return _l(z)&&Yi(z)==o}function yl(z){if(!wo(z)||L9(z))return!1;var ne=sb(z)?Fe:V;return ne.test(U9(z))}function er(z){return _l(z)&&zT(z.length)&&!!Q[Yi(z)]}function jt(z){if(!wo(z))return k9(z);var ne=qT(z),fe=[];for(var He in z)He=="constructor"&&(ne||!se.call(z,He))||fe.push(He);return fe}function Jt(z,ne,fe,He,$t){z!==ne&&lc(ne,function(tr,lr){if($t||($t=new vr),wo(tr))$r(z,ne,lr,fe,Jt,He,$t);else{var Lt=He?He(rb(z,lr),tr,lr+"",z,ne,$t):void 0;Lt===void 0&&(Lt=tr),da(z,lr,Lt)}},XT)}function $r(z,ne,fe,He,$t,tr,lr){var Lt=rb(z,fe),dr=rb(ne,fe),Ha=lr.get(dr);if(Ha){da(z,fe,Ha);return}var ha=tr?tr(Lt,dr,fe+"",z,ne,lr):void 0,Tl=ha===void 0;if(Tl){var ob=ab(dr),ub=!ob&&VT(dr),QT=!ob&&!ub&&YT(dr);ha=dr,ob||ub||QT?ab(Lt)?ha=Lt:j9(Lt)?ha=I9(Lt):ub?(Tl=!1,ha=Ao(dr,!0)):QT?(Tl=!1,ha=C9(dr,!0)):ha=[]:G9(dr)||nb(dr)?(ha=Lt,nb(Lt)?ha=K9(Lt):(!wo(Lt)||sb(Lt))&&(ha=R9(dr))):Tl=!1}Tl&&(lr.set(dr,ha),$t(ha,dr,He,tr,lr),lr.delete(dr)),da(z,fe,ha)}function Hn(z,ne){return H9(F9(z,ne,JT),z+"")}var Xi=k?function(z,ne){return k(z,"toString",{configurable:!0,enumerable:!1,value:q9(ne),writable:!0})}:JT;function Ao(z,ne){if(ne)return z.slice();var fe=z.length,He=j?j(fe):new z.constructor(fe);return z.copy(He),He}function eb(z){var ne=new z.constructor(z.byteLength);return new Ct(ne).set(new Ct(z)),ne}function C9(z,ne){var fe=ne?eb(z.buffer):z.buffer;return new z.constructor(fe,z.byteOffset,z.length)}function I9(z,ne){var fe=-1,He=z.length;for(ne||(ne=Array(He));++fe<He;)ne[fe]=z[fe];return ne}function P9(z,ne,fe,He){var $t=!fe;fe||(fe={});for(var tr=-1,lr=ne.length;++tr<lr;){var Lt=ne[tr],dr=He?He(fe[Lt],z[Lt],Lt,fe,z):void 0;dr===void 0&&(dr=z[Lt]),$t?So(fe,Lt,dr):Ei(fe,Lt,dr)}return fe}function N9(z){return Hn(function(ne,fe){var He=-1,$t=fe.length,tr=$t>1?fe[$t-1]:void 0,lr=$t>2?fe[2]:void 0;for(tr=z.length>3&&typeof tr=="function"?($t--,tr):void 0,lr&&D9(fe[0],fe[1],lr)&&(tr=$t<3?void 0:tr,$t=1),ne=Object(ne);++He<$t;){var Lt=fe[He];Lt&&z(ne,Lt,He,tr)}return ne})}function O9(z){return function(ne,fe,He){for(var $t=-1,tr=Object(ne),lr=He(ne),Lt=lr.length;Lt--;){var dr=lr[z?Lt:++$t];if(fe(tr[dr],dr,tr)===!1)break}return ne}}function qh(z,ne){var fe=z.__data__;return M9(ne)?fe[typeof ne=="string"?"string":"hash"]:fe.map}function tb(z,ne){var fe=it(z,ne);return yl(fe)?fe:void 0}function x9(z){var ne=se.call(z,le),fe=z[le];try{z[le]=void 0;var He=!0}catch{}var $t=Se.call(z);return He&&(ne?z[le]=fe:delete z[le]),$t}function R9(z){return typeof z.constructor=="function"&&!qT(z)?B(he(z)):{}}function WT(z,ne){var fe=typeof z;return ne=ne??s,!!ne&&(fe=="number"||fe!="symbol"&&W.test(z))&&z>-1&&z%1==0&&z<ne}function D9(z,ne,fe){if(!wo(fe))return!1;var He=typeof ne;return(He=="number"?ib(fe)&&WT(ne,fe.length):He=="string"&&ne in fe)?Vh(fe[ne],z):!1}function M9(z){var ne=typeof z;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?z!=="__proto__":z===null}function L9(z){return!!Ee&&Ee in z}function qT(z){var ne=z&&z.constructor,fe=typeof ne=="function"&&ne.prototype||Ft;return z===fe}function k9(z){var ne=[];if(z!=null)for(var fe in Object(z))ne.push(fe);return ne}function B9(z){return Se.call(z)}function F9(z,ne,fe){return ne=Le(ne===void 0?z.length-1:ne,0),function(){for(var He=arguments,$t=-1,tr=Le(He.length-ne,0),lr=Array(tr);++$t<tr;)lr[$t]=He[ne+$t];$t=-1;for(var Lt=Array(ne+1);++$t<ne;)Lt[$t]=He[$t];return Lt[ne]=fe(lr),Ye(z,this,Lt)}}function rb(z,ne){if(!(ne==="constructor"&&typeof z[ne]=="function")&&ne!="__proto__")return z[ne]}var H9=$9(Xi);function $9(z){var ne=0,fe=0;return function(){var He=E(),$t=i-(He-fe);if(fe=He,$t>0){if(++ne>=a)return arguments[0]}else ne=0;return z.apply(void 0,arguments)}}function U9(z){if(z!=null){try{return ct.call(z)}catch{}try{return z+""}catch{}}return""}function Vh(z,ne){return z===ne||z!==z&&ne!==ne}var nb=dc(function(){return arguments}())?dc:function(z){return _l(z)&&se.call(z,"callee")&&!Pe.call(z,"callee")},ab=Array.isArray;function ib(z){return z!=null&&zT(z.length)&&!sb(z)}function j9(z){return _l(z)&&ib(z)}var VT=_e||V9;function sb(z){if(!wo(z))return!1;var ne=Yi(z);return ne==h||ne==p||ne==u||ne==y}function zT(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=s}function wo(z){var ne=typeof z;return z!=null&&(ne=="object"||ne=="function")}function _l(z){return z!=null&&typeof z=="object"}function G9(z){if(!_l(z)||Yi(z)!=g)return!1;var ne=he(z);if(ne===null)return!0;var fe=se.call(ne,"constructor")&&ne.constructor;return typeof fe=="function"&&fe instanceof fe&&ct.call(fe)==Ne}var YT=$e?st($e):er;function K9(z){return P9(z,XT(z))}function XT(z){return ib(z)?_n(z,!0):jt(z)}var W9=N9(function(z,ne,fe){Jt(z,ne,fe)});function q9(z){return function(){return z}}function JT(z){return z}function V9(){return!1}e.exports=W9})(Np,Np.exports);var tW=Np.exports;const TP=Ts(tW);var EP={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})($,function(){var t=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],i={},s=null;function o(m,v){var b=m[v];if(typeof b.bind=="function")return b.bind(m);try{return Function.prototype.bind.call(b,m)}catch{return function(){return Function.prototype.apply.apply(b,[m,arguments])}}}function f(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(m){return m==="debug"&&(m="log"),typeof console===r?!1:m==="trace"&&n?f:console[m]!==void 0?o(console,m):console.log!==void 0?o(console,"log"):t}function c(){for(var m=this.getLevel(),v=0;v<a.length;v++){var b=a[v];this[b]=v<m?t:this.methodFactory(b,m,this.name)}if(this.log=this.debug,typeof console===r&&m<this.levels.SILENT)return"No console available for logging"}function l(m){return function(){typeof console!==r&&(c.call(this),this[m].apply(this,arguments))}}function d(m,v,b){return u(m)||l.apply(this,arguments)}function h(m,v){var b=this,g,y,C,I="loglevel";typeof m=="string"?I+=":"+m:typeof m=="symbol"&&(I=void 0);function P(w){var T=(a[w]||"silent").toUpperCase();if(!(typeof window===r||!I)){try{window.localStorage[I]=T;return}catch{}try{window.document.cookie=encodeURIComponent(I)+"="+T+";"}catch{}}}function O(){var w;if(!(typeof window===r||!I)){try{w=window.localStorage[I]}catch{}if(typeof w===r)try{var T=window.document.cookie,x=encodeURIComponent(I),_=T.indexOf(x+"=");_!==-1&&(w=/^([^;]+)/.exec(T.slice(_+x.length+1))[1])}catch{}return b.levels[w]===void 0&&(w=void 0),w}}function N(){if(!(typeof window===r||!I)){try{window.localStorage.removeItem(I)}catch{}try{window.document.cookie=encodeURIComponent(I)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function S(w){var T=w;if(typeof T=="string"&&b.levels[T.toUpperCase()]!==void 0&&(T=b.levels[T.toUpperCase()]),typeof T=="number"&&T>=0&&T<=b.levels.SILENT)return T;throw new TypeError("log.setLevel() called with invalid level: "+w)}b.name=m,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=v||d,b.getLevel=function(){return C??y??g},b.setLevel=function(w,T){return C=S(w),T!==!1&&P(C),c.call(b)},b.setDefaultLevel=function(w){y=S(w),O()||b.setLevel(w,!1)},b.resetLevel=function(){C=null,N(),c.call(b)},b.enableAll=function(w){b.setLevel(b.levels.TRACE,w)},b.disableAll=function(w){b.setLevel(b.levels.SILENT,w)},b.rebuild=function(){if(s!==b&&(g=S(s.getLevel())),c.call(b),s===b)for(var w in i)i[w].rebuild()},g=S(s?s.getLevel():"WARN");var D=O();D!=null&&(C=S(D)),c.call(b)}s=new h,s.getLogger=function(v){if(typeof v!="symbol"&&typeof v!="string"||v==="")throw new TypeError("You must supply a name when creating a logger.");var b=i[v];return b||(b=i[v]=new h(v,s.methodFactory)),b};var p=typeof window!==r?window.log:void 0;return s.noConflict=function(){return typeof window!==r&&window.log===s&&(window.log=p),s},s.getLoggers=function(){return i},s.default=s,s})})(EP);var SP=EP.exports;const AP=Ts(SP);function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const xp=AP.getLogger("http-helpers");xp.setLevel(SP.levels.INFO);let v1="torus-default",b1="";const rW="x-api-key",nW="x-embed-host";function aW(e){b1=e}function iW(e){v1=e}async function wP(e,t){let r=null;try{r=new URL(e)}catch{}return fetch(e,t)}function CP(){const e={};return v1&&(e[rW]=v1),b1&&(e[nW]=b1),e}function IP(e){xp.info(`Response: ${e.status} ${e.statusText}`),xp.info(`Url: ${e.url}`)}function sW(e){xp.info(`Request tracing with traceID=${e.headers.get("x-web3-correlation-id")}`)}const oW=(e,t)=>{const r=new Promise((n,a)=>{const i=setTimeout(()=>{clearTimeout(i),a(new Error(`Timed out in ${e}ms`))},e)});return Promise.race([t,r])},uW=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=Op(Op({},n.headers),CP()));const a=TP(n,t,{method:"GET"}),i=await wP(e,a);if(i.ok)return i.json();throw IP(i),i},Na=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(a.headers=Op(Op({},a.headers),CP()));const i=TP(a,r,{method:"POST"});return n.isUrlEncodedData?(i.body=t,i.headers["Content-Type"]==="application/json; charset=utf-8"&&delete i.headers["Content-Type"]):i.body=JSON.stringify(t),oW(n.timeout||6e4,wP(e,i).then(s=>{if(n.logTracingHeader&&sW(s),s.ok)return s.json();throw IP(s),s}))},Rp=(e,t)=>({jsonrpc:"2.0",method:e,id:10,params:t});var h0={},ig,i3;function cW(){if(i3)return ig;i3=1;var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function a(h){throw{name:"SyntaxError",message:h,at:e,text:n}}function i(h){return h&&h!==t&&a("Expected '"+h+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t}function s(){var h,p="";for(t==="-"&&(p="-",i("-"));t>="0"&&t<="9";)p+=t,i();if(t===".")for(p+=".";i()&&t>="0"&&t<="9";)p+=t;if(t==="e"||t==="E")for(p+=t,i(),(t==="-"||t==="+")&&(p+=t,i());t>="0"&&t<="9";)p+=t,i();return h=Number(p),isFinite(h)||a("Bad number"),h}function o(){var h,p,m="",v;if(t==='"')for(;i();){if(t==='"')return i(),m;if(t==="\\")if(i(),t==="u"){for(v=0,p=0;p<4&&(h=parseInt(i(),16),!!isFinite(h));p+=1)v=v*16+h;m+=String.fromCharCode(v)}else if(typeof r[t]=="string")m+=r[t];else break;else m+=t}a("Bad string")}function f(){for(;t&&t<=" ";)i()}function u(){switch(t){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null;default:a("Unexpected '"+t+"'")}}function c(){var h=[];if(t==="["){if(i("["),f(),t==="]")return i("]"),h;for(;t;){if(h.push(d()),f(),t==="]")return i("]"),h;i(","),f()}}a("Bad array")}function l(){var h,p={};if(t==="{"){if(i("{"),f(),t==="}")return i("}"),p;for(;t;){if(h=o(),f(),i(":"),Object.prototype.hasOwnProperty.call(p,h)&&a('Duplicate key "'+h+'"'),p[h]=d(),f(),t==="}")return i("}"),p;i(","),f()}}a("Bad object")}function d(){switch(f(),t){case"{":return l();case"[":return c();case'"':return o();case"-":return s();default:return t>="0"&&t<="9"?s():u()}}return ig=function(h,p){var m;return n=h,e=0,t=" ",m=d(),f(),t&&a("Syntax error"),typeof p=="function"?function v(b,g){var y,C,I=b[g];if(I&&typeof I=="object")for(y in d)Object.prototype.hasOwnProperty.call(I,y)&&(C=v(I,y),typeof C>"u"?delete I[y]:I[y]=C);return p.call(b,g,I)}({"":m},""):m},ig}var sg,s3;function fW(){if(s3)return sg;s3=1;var e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t,r,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function i(o){return e.lastIndex=0,e.test(o)?'"'+o.replace(e,function(f){var u=n[f];return typeof u=="string"?u:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function s(o,f){var u,c,l,d,h=t,p,m=f[o];switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(o)),typeof a=="function"&&(m=a.call(f,o,m)),typeof m){case"string":return i(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":return String(m);case"object":if(!m)return"null";if(t+=r,p=[],Object.prototype.toString.apply(m)==="[object Array]"){for(d=m.length,u=0;u<d;u+=1)p[u]=s(u,m)||"null";return l=p.length===0?"[]":t?`[
`+t+p.join(`,
`+t)+`
`+h+"]":"["+p.join(",")+"]",t=h,l}if(a&&typeof a=="object")for(d=a.length,u=0;u<d;u+=1)c=a[u],typeof c=="string"&&(l=s(c,m),l&&p.push(i(c)+(t?": ":":")+l));else for(c in m)Object.prototype.hasOwnProperty.call(m,c)&&(l=s(c,m),l&&p.push(i(c)+(t?": ":":")+l));return l=p.length===0?"{}":t?`{
`+t+p.join(`,
`+t)+`
`+h+"}":"{"+p.join(",")+"}",t=h,l}}return sg=function(o,f,u){var c;if(t="",r="",typeof u=="number")for(c=0;c<u;c+=1)r+=" ";else typeof u=="string"&&(r=u);if(a=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return s("",{"":o})},sg}var o3;function PP(){return o3||(o3=1,h0.parse=cW(),h0.stringify=fW()),h0}var lW={}.toString,dW=Array.isArray||function(e){return lW.call(e)=="[object Array]"},p0=(typeof JSON<"u"?JSON:PP()).stringify,hW=dW,pW=K7,mW=j7,NP=U7,u3=NP("Array.prototype.join"),og=NP("Array.prototype.push"),c3=function(t,r){for(var n="",a=0;a<t;a+=1)n+=r;return n},vW=function(e,t,r){return r},bW=function(t){var r=arguments.length>1?arguments[1]:void 0,n=r&&r.space||"";typeof n=="number"&&(n=c3(n," "));var a=!!r&&typeof r.cycles=="boolean"&&r.cycles,i=r&&r.replacer?mW(r.replacer):vW,s=typeof r=="function"?r:r&&r.cmp,o=s&&function(u){var c=s.length>2&&function(d){return u[d]};return function(l,d){return s({key:l,value:u[l]},{key:d,value:u[d]},c?{__proto__:null,get:c}:void 0)}},f=[];return function u(c,l,d,h){var p=n?`
`+c3(h,n):"",m=n?": ":":";if(d&&d.toJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),d=i(c,l,d),d!==void 0){if(typeof d!="object"||d===null)return p0(d);if(hW(d)){for(var y=[],v=0;v<d.length;v++){var b=u(d,v,d[v],h+1)||p0(null);og(y,p+n+b)}return"["+u3(y,",")+p+"]"}if(f.indexOf(d)!==-1){if(a)return p0("__cycle__");throw new TypeError("Converting circular structure to JSON")}else og(f,d);for(var g=pW(d).sort(o&&o(d)),y=[],v=0;v<g.length;v++){var l=g[v],C=u(d,l,d[l],h+1);if(C){var I=p0(l)+m+C;og(y,p+n+I)}}return f.splice(f.indexOf(d),1),"{"+u3(y,",")+p+"}"}}({"":t},"",t,0)};const On=Ts(bW),Gr=AP.getLogger("torus.js");Gr.disableAll();function gW(e){return e.charAt(0).toUpperCase()+e.slice(1)}class yW extends Error{constructor(t){let{errors:r,responses:n,predicate:a}=t;super("Unable to resolve enough promises."),ie(this,"errors",void 0),ie(this,"responses",void 0),ie(this,"predicate",void 0),this.errors=r,this.responses=n,this.predicate=a}}const g1=(e,t)=>new Promise((r,n)=>{let a=0;const i={resolved:!1},s=new Array(e.length).fill(void 0),o=new Array(e.length).fill(void 0);let f;return e.forEach((u,c)=>u.then(l=>{o[c]=l}).catch(l=>{s[c]=l}).finally(()=>{if(!i.resolved)return t(o.slice(0),i).then(l=>{i.resolved=!0,r(l)}).catch(l=>{f=l}).finally(()=>{if(a+=1,a===e.length){const d=Object.values(o.reduce((h,p)=>{if(p){var m;const{id:v,error:b}=p;(b==null||(m=b.data)===null||m===void 0?void 0:m.length)>0&&(b.data.startsWith("Error occurred while verifying params")?h[v]=gW(b.data):h[v]=b.data)}return h},{}));if(d.length>0){const h=d.length>1?`
${d.map(p=>` ${p}`).join(`
`)}`:d[0];n(new Error(h))}else{var l;n(new yW({errors:s,responses:o,predicate:((l=f)===null||l===void 0?void 0:l.message)||f}))}}})}))});function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class H0 extends Error{}const A2=(e,t)=>{let r=e;if(typeof r=="number"&&(r=Array.from({length:r},(i,s)=>s)),t>r.length||t<=0)return[];if(t===r.length)return[r];if(t===1)return r.reduce((i,s)=>[...i,[s]],[]);const n=[];let a=[];for(let i=0;i<=r.length-t+1;i+=1){a=A2(r.slice(i+1),t-1);for(let s=0;s<a.length;s+=1)n.push([r[i],...a[s]])}return n},Dp=(e,t)=>{const r={};for(let n=0;n<e.length;n+=1){const a=On(e[n]);if(r[a]=r[a]?r[a]+1:1,r[a]===t)return e[n]}},Mp=async(e,t,r)=>{const n=e.map(a=>Na(a,Rp("VerifierLookupRequest",{verifier:t,verifier_id:r.toString()})).catch(i=>Gr.error("lookup request failed",i)));return g1(n,a=>{const i=a.filter(f=>f),s=Dp(i.map(f=>f&&f.error),~~(e.length/2)+1),o=Dp(i.map(f=>f&&f.result),~~(e.length/2)+1);return o||s?Promise.resolve({keyResult:o,errorResult:s}):Promise.reject(new Error(`invalid results ${JSON.stringify(a)}`))})},y1=(e,t,r,n)=>new Promise((a,i)=>{setTimeout(()=>{Mp(e,t,r).then(a).catch(i)},n)}),Lp=async e=>{let{endpoints:t,torusNodePubs:r,lastPoint:n,firstPoint:a,verifier:i,verifierId:s,signerHost:o,network:f}=e,u,c;if(n===void 0?(u=Math.floor(Math.random()*t.length),c=u):u=n%t.length,u===a)throw new Error("Looped through all");a!==void 0&&(c=a);const l=Rp("KeyAssign",{verifier:i,verifier_id:s.toString()});try{const d=await Na(o,l,{headers:{pubKeyX:r[u].X,pubKeyY:r[u].Y,network:f}},{useAPIKey:!0});return await Na(t[u],l3(l3({},l),d),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(d){Gr.error(d);const h=["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."];if((d==null?void 0:d.status)===502||h.includes(d.message)||d.message&&d.message.includes("reason: getaddrinfo EAI_AGAIN"))return Lp({endpoints:t,torusNodePubs:r,lastPoint:u+1,firstPoint:c,verifier:i,verifierId:s,signerHost:o,network:f});throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.
    We will generate your key in time. Pls try again later. 

    ${d.message||""}`)}};function Kl(e){return`0x${W7("keccak256").update(e).digest().toString("hex")}`}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class _W{constructor(){let{enableOneKey:t=!1,metadataHost:r="https://metadata.tor.us",allowHost:n="https://signer.tor.us/api/allow",signerHost:a="https://signer.tor.us/api/sign",serverTimeOffset:i=0,network:s="mainnet"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ie(this,"metadataHost",void 0),ie(this,"allowHost",void 0),ie(this,"serverTimeOffset",void 0),ie(this,"enableOneKey",void 0),ie(this,"signerHost",void 0),ie(this,"network",void 0),ie(this,"ec",void 0),this.ec=new EI.ec("secp256k1"),this.metadataHost=r,this.allowHost=n,this.enableOneKey=t,this.serverTimeOffset=i||0,this.signerHost=a,this.network=s}static enableLogging(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?Gr.enableAll():Gr.disableAll()}static setAPIKey(t){iW(t)}static setEmbedHost(t){aW(t)}static isGetOrSetNonceError(t){return t instanceof H0}async getUserTypeAndAddress(t,r,n){let{verifier:a,verifierId:i}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{keyResult:o,errorResult:f}=await Mp(t,a,i)||{};let u=!1,c;if(f&&JSON.stringify(f).includes("Verifier not supported"))throw new Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(f&&JSON.stringify(f).includes("Verifier + VerifierID has not yet been assigned")){if(!s)throw new Error("Verifier + VerifierID has not yet been assigned");await Lp({endpoints:t,torusNodePubs:r,lastPoint:void 0,firstPoint:void 0,verifier:a,verifierId:i,signerHost:this.signerHost,network:this.network});const h=await y1(t,a,i,1e3);c=h==null?void 0:h.keyResult,u=!0}else if(o)c=o;else throw new Error(`node results do not match at first lookup ${JSON.stringify(o||{})}, ${JSON.stringify(f||{})}`);if(Gr.debug("> torus.js/getUserTypeAndAddress",{finalKeyResult:c,isNewKey:u}),c){var l,d;const{pub_key_X:h,pub_key_Y:p}=c.keys[0];let m,v,b,g,y;try{m=await this.getOrSetNonce(h,p,void 0,!u),v=new we(m.nonce||"0",16),g=m.typeOfUser}catch{throw new H0}if(m.typeOfUser==="v1")b=this.ec.keyFromPublic({x:h,y:p}).getPublic().add(this.ec.keyFromPrivate(v.toString(16)).getPublic());else if(m.typeOfUser==="v2")b=this.ec.keyFromPublic({x:h,y:p}).getPublic().add(this.ec.keyFromPublic({x:m.pubNonce.x,y:m.pubNonce.y}).getPublic()),y=m.pubNonce;else throw new Error("getOrSetNonce should always return typeOfUser.");const C=b.getX().toString(16),I=b.getY().toString(16),P=this.generateAddressFromPubKey(b.getX(),b.getY());return Gr.debug("> torus.js/getUserTypeAndAddress",{X:h,Y:p,address:P,typeOfUser:g,nonce:(l=v)===null||l===void 0?void 0:l.toString(16),pubNonce:y}),{typeOfUser:g,address:P,X:C,Y:I,metadataNonce:v,pubNonce:y,upgraded:((d=m)===null||d===void 0?void 0:d.upgraded)||void 0}}throw new Error(`node results do not match at final lookup ${JSON.stringify(o||{})}, ${JSON.stringify(f||{})}`)}async setCustomKey(t){let{privKeyHex:r,metadataNonce:n,torusKeyHex:a,customKeyHex:i}=t,s;a?s=new we(a,16):s=new we(r,16).sub(n).umod(this.ec.curve.n);const f=new we(i,16).sub(s).umod(this.ec.curve.n),u=this.generateMetadataParams(f.toString(16),s);await this.setMetadata(u)}async retrieveShares(t,r,n,a,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const o=[];await uW(this.allowHost,{headers:{verifier:n,verifier_id:a.verifier_id,network:this.network}},{useAPIKey:!0});const f=QK(),u=F0(f).toString("hex"),c=u.slice(2,66),l=u.slice(66),d=Kl(i);for(let h=0;h<t.length;h+=1){const p=Na(t[h],Rp("CommitmentRequest",{messageprefix:"mug00",tokencommitment:d.slice(2),temppubx:c,temppuby:l,verifieridentifier:n})).catch(m=>{Gr.error("commitment",m)});o.push(p)}return g1(o,h=>h.filter(m=>!(!m||typeof m!="object"||m.error)).length>=~~(t.length/4)*3+1?Promise.resolve(h):Promise.reject(new Error(`invalid ${JSON.stringify(h)}`))).then(h=>{const p=[],m=[];for(let v=0;v<h.length;v+=1)h[v]&&m.push(h[v].result);for(let v=0;v<t.length;v+=1){const b=Na(t[v],Rp("ShareRequest",{encrypted:"yes",item:[m0(m0({},a),{},{idtoken:i,nodesignatures:m,verifieridentifier:n},s)]})).catch(g=>Gr.error("share req",g));p.push(b)}return g1(p,async(v,b)=>{const g=v.filter(P=>P),y=Dp(v.map(P=>P&&P.result&&P.result.keys[0].PublicKey),~~(t.length/2)+1);if(g.length>=~~(t.length/2)+1&&y){const P=[],O=[];for(let T=0;T<v.length;T+=1){var C,I;const x=v[T];if((x==null||(C=x.result)===null||C===void 0||(I=C.keys)===null||I===void 0?void 0:I.length)>0){x.result.keys.sort((M,L)=>new we(M.Index,16).cmp(new we(L.Index,16)));const _=x.result.keys[0];if(_.Metadata){const M={ephemPublicKey:ae.from(_.Metadata.ephemPublicKey,"hex"),iv:ae.from(_.Metadata.iv,"hex"),mac:ae.from(_.Metadata.mac,"hex")};P.push(eW(f,m0(m0({},M),{},{ciphertext:ae.from(ae.from(_.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch(L=>Gr.debug("share decryption",L)))}else P.push(Promise.resolve(ae.from(_.Share.padStart(64,"0"),"hex")))}else P.push(Promise.resolve(void 0));O.push(new we(r[T],16))}const N=await Promise.all(P);if(b.resolved)return;const S=N.reduce((T,x,_)=>(x&&T.push({index:O[_],value:new we(x)}),T),[]),D=A2(S.length,~~(t.length/2)+1);let w=null;for(let T=0;T<D.length;T+=1){const x=D[T],_=S.filter((V,W)=>x.includes(W)),M=_.map(V=>V.value),L=_.map(V=>V.index),F=this.lagrangeInterpolation(M,L);if(!F)continue;const G=F0(ae.from(F.toString(16,64),"hex")).toString("hex"),U=G.slice(2,66),q=G.slice(66);if(new we(U,16).cmp(new we(y.X,16))===0&&new we(q,16).cmp(new we(y.Y,16))===0){w=F;break}}if(w==null)throw new Error("could not derive private key");return w}throw new Error("invalid")})}).then(async h=>{let p=h;if(!p)throw new Error("Invalid private key returned");const m=F0(ae.from(p.toString(16,64),"hex")).toString("hex"),v=m.slice(2,66),b=m.slice(66);let g;if(this.enableOneKey){const{nonce:C}=await this.getNonce(v,b,p);g=new we(C||"0",16)}else g=await this.getMetadata({pub_key_X:v,pub_key_Y:b});Gr.debug("> torus.js/retrieveShares",{privKey:p.toString(16),metadataNonce:g.toString(16)}),p=p.add(g).umod(this.ec.curve.n);const y=this.generateAddressFromPrivKey(p);return Gr.debug("> torus.js/retrieveShares",{ethAddress:y,privKey:p.toString(16)}),{ethAddress:y,privKey:p.toString("hex",64),metadataNonce:g}})}async getMetadata(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};try{const n=await Na(`${this.metadataHost}/get`,t,r,{useAPIKey:!0});return!n||!n.message?new we(0):new we(n.message,16)}catch(n){return Gr.error("get metadata error",n),new we(0)}}generateMetadataParams(t,r){const n=this.ec.keyFromPrivate(r.toString("hex",64)),a={data:t,timestamp:new we(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},i=n.sign(Kl(On(a)).slice(2));return{pub_key_X:n.getPublic().getX().toString("hex"),pub_key_Y:n.getPublic().getY().toString("hex"),set_data:a,signature:ae.from(i.r.toString(16,64)+i.s.toString(16,64)+new we("").toString(16,2),"hex").toString("base64")}}async setMetadata(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};try{return(await Na(`${this.metadataHost}/set`,t,r,{useAPIKey:!0})).message}catch(n){return Gr.error("set metadata error",n),""}}lagrangeInterpolation(t,r){if(t.length!==r.length)return null;let n=new we(0);for(let a=0;a<t.length;a+=1){let i=new we(1),s=new we(1);for(let f=0;f<t.length;f+=1)if(a!==f){i=i.mul(r[f].neg()),i=i.umod(this.ec.curve.n);let u=r[a].sub(r[f]);u=u.umod(this.ec.curve.n),s=s.mul(u).umod(this.ec.curve.n)}let o=i.mul(s.invm(this.ec.curve.n)).umod(this.ec.curve.n);o=o.mul(t[a]).umod(this.ec.curve.n),n=n.add(o)}return n.umod(this.ec.curve.n)}generateAddressFromPrivKey(t){const n=this.ec.keyFromPrivate(t.toString("hex",64),"hex").getPublic().encode("hex",!1).slice(2);Gr.info(n,"public key");const a=`0x${Kl(ae.from(n,"hex")).slice(26)}`;return ua.toChecksumAddress(a)}generateAddressFromPubKey(t,r){const n=this.ec.keyFromPublic({x:t.toString("hex",64),y:r.toString("hex",64)}),a=n.getPublic().encode("hex",!1).slice(2);Gr.info(n.getPublic().encode("hex",!1),"public key");const i=`0x${Kl(ae.from(a,"hex")).slice(26)}`;return ua.toChecksumAddress(i)}async getPublicAddress(t,r,n){let{verifier:a,verifierId:i}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Gr.debug("> torus.js/getPublicAddress",{endpoints:t,torusNodePubs:r,verifier:a,verifierId:i,isExtended:s});let o,f=!1;const{keyResult:u,errorResult:c}=await Mp(t,a,i)||{};if(c&&JSON.stringify(c).includes("Verifier not supported"))throw new Error(`Verifier not supported. Check if you: 

      1. Are on the right network (Torus testnet/mainnet) 

      2. Have setup a verifier on dashboard.web3auth.io?`);if(c&&JSON.stringify(c).includes("Verifier + VerifierID has not yet been assigned")){await Lp({endpoints:t,torusNodePubs:r,lastPoint:void 0,firstPoint:void 0,verifier:a,verifierId:i,signerHost:this.signerHost,network:this.network});const h=await y1(t,a,i,1e3);o=h==null?void 0:h.keyResult,f=!0}else if(u)o=u;else throw new Error(`node results do not match at first lookup ${JSON.stringify(u||{})}, ${JSON.stringify(c||{})}`);if(Gr.debug("> torus.js/getPublicAddress",{finalKeyResult:o,isNewKey:f}),o){var l,d;let{pub_key_X:h,pub_key_Y:p}=o.keys[0],m,v,b,g,y;if(this.enableOneKey){try{m=await this.getOrSetNonce(h,p,void 0,!f),v=new we(m.nonce||"0",16),g=m.typeOfUser}catch{throw new H0}if(m.typeOfUser==="v1")b=this.ec.keyFromPublic({x:h,y:p}).getPublic().add(this.ec.keyFromPrivate(v.toString(16)).getPublic());else if(m.typeOfUser==="v2")m.upgraded?b=this.ec.keyFromPublic({x:h,y:p}).getPublic():(b=this.ec.keyFromPublic({x:h,y:p}).getPublic().add(this.ec.keyFromPublic({x:m.pubNonce.x,y:m.pubNonce.y}).getPublic()),y=m.pubNonce);else throw new Error("getOrSetNonce should always return typeOfUser.")}else g="v1",v=await this.getMetadata({pub_key_X:h,pub_key_Y:p}),b=this.ec.keyFromPublic({x:h,y:p}).getPublic().add(this.ec.keyFromPrivate(v.toString(16)).getPublic());h=b.getX().toString(16),p=b.getY().toString(16);const C=this.generateAddressFromPubKey(b.getX(),b.getY());return Gr.debug("> torus.js/getPublicAddress",{X:h,Y:p,address:C,typeOfUser:g,nonce:(l=v)===null||l===void 0?void 0:l.toString(16),pubNonce:y}),s?{typeOfUser:g,address:C,X:h,Y:p,metadataNonce:v,pubNonce:y,upgraded:((d=m)===null||d===void 0?void 0:d.upgraded)||void 0}:C}throw new Error(`node results do not match at final lookup ${JSON.stringify(u||{})}, ${JSON.stringify(c||{})}`)}async getOrSetNonce(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;const s=a?"getNonce":"getOrSetNonce";return n?i=this.generateMetadataParams(s,n):i={pub_key_X:t,pub_key_Y:r,set_data:{data:s}},Na(`${this.metadataHost}/get_or_set_nonce`,i,void 0,{useAPIKey:!0})}async getNonce(t,r,n){return this.getOrSetNonce(t,r,n,!0)}getPostboxKeyFrom1OutOf1(t,r){const n=new we(t,16),a=new we(r,16);return n.sub(a).umod(this.ec.curve.n).toString("hex")}}const TW=Object.freeze(Object.defineProperty({__proto__:null,GetOrSetNonceError:H0,default:_W,kCombinations:A2,keccak256:Kl,keyAssign:Lp,keyLookup:Mp,thresholdSame:Dp,waitKeyLookup:y1},Symbol.toStringTag,{value:"Module"})),gh=ei(TW);var jm={},w2={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.abi=e.NETWORK_MAP=e.TORUS_NETWORK=void 0,e.TORUS_NETWORK={TESTNET:"testnet",MAINNET:"mainnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},e.NETWORK_MAP=(t={},t[e.TORUS_NETWORK.MAINNET]="mainnet",t[e.TORUS_NETWORK.TESTNET]="goerli",t[e.TORUS_NETWORK.CYAN]="polygon-mainnet",t[e.TORUS_NETWORK.AQUA]="polygon-mainnet",t[e.TORUS_NETWORK.CELESTE]="polygon-mainnet",t),e.abi=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}]})(w2);var C2={},EW={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return typeof e=="object"&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){const r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+`" doesn't exist in this contract.`)},ContractReservedEventError:function(e){return new Error('The event "'+e+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},bf=Qe,SW=lo,OP=ho,$0=pi,Qf=po,I2=function(e){return bf.isBN(e)},xP=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},yh=function(e){try{return SW.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},AW=function(e){return"0x"+yh(e).toTwos(256).toString(16,64)},RP=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:DP(e):!1},DP=function(e){e=e.replace(/^0x/i,"");for(var t=Gm(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},wW=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},CW=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},_1=function(e){e=OP.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},IW=function(e){if(!Ju(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return OP.decode(t)},MP=function(e){if(!e)return e;if(typeof e=="string"&&!Ju(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return yh(e).toNumber()},PW=function(e){if(!e)return e;if(typeof e=="string"&&!Ju(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return yh(e).toString(10)},T1=function(e){if(e==null)return e;if(!isFinite(e)&&!Ju(e))throw new Error('Given input "'+e+'" is not a number.');var t=yh(e),r=t.toString(16);return t.lt(new bf(0))?"-0x"+r.slice(1):"0x"+r},NW=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},OW=function(e){if(e=e.toString(16),!Ju(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},LP=function(e,t){if(RP(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!xP(e)&&!I2(e))return t?"string":_1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":T1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":_1(e)}return t?e<0?"int256":"uint256":T1(e)},Ju=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},kP=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},xW=function(e){return e!==0&&kP(e)?e.replace(/^(-)?0x/i,"$1"):e},RW=function(e){return Qf.isBloom(e)},DW=function(e,t){return Qf.isUserEthereumAddressInBloom(e,t)},MW=function(e,t){return Qf.isContractAddressInBloom(e,t)},LW=function(e){return Qf.isTopic(e)},kW=function(e,t){return Qf.isTopicInBloom(e,t)},BW=function(e,t){return Qf.isInBloom(e,t)},BP="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Gm=function(e){I2(e)&&(e=e.toString()),Ju(e)&&/^0x/i.test(e.toString())?e=$0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=$0.bufferToHex($0.keccak256(e));return t===BP?null:t};Gm._Hash=$0.keccak256;var FW=function(e){return e=Gm(e),e===null?BP:e},HW=function(e){return typeof e=="number"?e:MP(LP(e))},P2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new bf(t+r,16)}else return new bf(e)};Object.setPrototypeOf(P2,bf);Object.setPrototypeOf(P2.prototype,bf.prototype);var FP={BN:P2,isBN:I2,isBigNumber:xP,toBN:yh,isAddress:RP,isBloom:RW,isUserEthereumAddressInBloom:DW,isContractAddressInBloom:MW,isTopic:LW,isTopicInBloom:kW,isInBloom:BW,checkAddressChecksum:DP,utf8ToHex:_1,hexToUtf8:IW,hexToNumber:MP,hexToNumberString:PW,numberToHex:T1,toHex:LP,hexToBytes:OW,bytesToHex:NW,isHex:kP,isHexStrict:Ju,stripHexPrefix:xW,leftPad:wW,rightPad:CW,toTwosComplement:AW,sha3:Gm,sha3Raw:FW,toNumber:HW},Qo=Qe,_a=FP,$W=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},UW=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},jW=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},h3=function(e){var t=typeof e;if(t==="string")return _a.isHexStrict(e)?new Qo(e.replace(/0x/i,""),16):new Qo(e,10);if(t==="number")return new Qo(e);if(_a.isBigNumber(e))return new Qo(e.toString(10));if(_a.isBN(e))return e;throw new Error(e+" is not a number")},p3=function(e,t,r){var n,a;if(e=$W(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return _a.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!_a.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return _a.leftPad(t.toLowerCase(),n)}}if(n=UW(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return _a.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=h3(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new Qo(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?_a.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=h3(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new Qo(0))?a.toTwos(n).toString("hex"):n?_a.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},N2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=_a.toHex(e,!0),r=_a.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new Qo(r)),Array.isArray(r)){if(a=jW(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return p3(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=p3(t,r,a),n.toString("hex").replace("0x",""))},GW=function(){var e=Array.prototype.slice.call(arguments),t=e.map(N2);return _a.sha3("0x"+t.join(""))},KW=function(){return _a.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(N2).join(""))},WW=function(){var e=Array.prototype.slice.call(arguments),t=e.map(N2);return"0x"+t.join("").toLowerCase()},qW={soliditySha3:GW,soliditySha3Raw:KW,encodePacked:WW},Du=mo,mt=FP,ug=qW,VW=bo,m3=Qe,zW=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},YW=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+O2(!1,e.inputs).join(",")+")"},O2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=O2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},XW=function(e){return"0x"+VW(e).toString("hex")},v3=function(e){if(!mt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},b3=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},HP=function(e){if(e=e?e.toLowerCase():"ether",!Du.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(Du.unitMap,null,2));return e},JW=function(e,t){if(t=HP(t),!mt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return mt.isBN(e)?Du.fromWei(e,t):Du.fromWei(e,t).toString(10)},QW=function(e,t){if(t=HP(t),!mt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return mt.isBN(e)?Du.toWei(e,t):Du.toWei(e,t).toString(10)},ZW=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=mt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},eq=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new m3(e),n=new m3(t);return r.lt(n)?-1:r.eq(n)?0:1}},$P={_fireError:zW,_jsonInterfaceMethodToString:YW,_flattenTypes:O2,randomHex:XW,BN:mt.BN,isBN:mt.isBN,isBigNumber:mt.isBigNumber,isHex:mt.isHex,isHexStrict:mt.isHexStrict,sha3:mt.sha3,sha3Raw:mt.sha3Raw,keccak256:mt.sha3,soliditySha3:ug.soliditySha3,soliditySha3Raw:ug.soliditySha3Raw,encodePacked:ug.encodePacked,isAddress:mt.isAddress,checkAddressChecksum:mt.checkAddressChecksum,toChecksumAddress:ZW,toHex:mt.toHex,toBN:mt.toBN,bytesToHex:mt.bytesToHex,hexToBytes:mt.hexToBytes,hexToNumberString:mt.hexToNumberString,hexToNumber:mt.hexToNumber,toDecimal:mt.hexToNumber,numberToHex:mt.numberToHex,fromDecimal:mt.numberToHex,hexToUtf8:mt.hexToUtf8,hexToString:mt.hexToUtf8,toUtf8:mt.hexToUtf8,stripHexPrefix:mt.stripHexPrefix,utf8ToHex:mt.utf8ToHex,stringToHex:mt.utf8ToHex,fromUtf8:mt.utf8ToHex,hexToAscii:v3,toAscii:v3,asciiToHex:b3,fromAscii:b3,unitMap:Du.unitMap,toWei:QW,fromWei:JW,padLeft:mt.leftPad,leftPad:mt.leftPad,padRight:mt.rightPad,rightPad:mt.rightPad,toTwosComplement:mt.toTwosComplement,isBloom:mt.isBloom,isUserEthereumAddressInBloom:mt.isUserEthereumAddressInBloom,isContractAddressInBloom:mt.isContractAddressInBloom,isTopic:mt.isTopic,isTopicInBloom:mt.isTopicInBloom,isInBloom:mt.isInBloom,compareBlockNumbers:eq,toNumber:mt.toNumber};const g3=$P,y3=Qe,tq=function(e,t){let r=e;for(;r.length<t*2;)r="0"+r;return r},_3=function(e){return e=e.toUpperCase(),e=e.slice(4)+e.slice(0,4),e.split("").map(function(n){const a=n.charCodeAt(0);return a>=65&&a<=90?a-65+10:n}).join("")},T3=function(e){let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=parseInt(r,10)%97+t.slice(r.length);return parseInt(t,10)%97};let rq=class Bo{constructor(t){this._iban=t}static toAddress(t){if(t=new Bo(t),!t.isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(t){return Bo.fromAddress(t).toString()}static fromAddress(t){if(!g3.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");const n=new y3(t,16).toString(36),a=tq(n,15);return Bo.fromBban(a.toUpperCase())}static fromBban(t){const r="XE",a=("0"+(98-T3(_3(r+"00"+t)))).slice(-2);return new Bo(r+a+t)}static createIndirect(t){return Bo.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new Bo(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&T3(_3(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const t=this._iban.slice(4),r=new y3(t,36);return g3.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var nq=rq,Ze=$P,aq=nq,iq=function(e){return e.map(Ze.numberToHex)},sq=function(e){return e.address=Ze.toChecksumAddress(e.address),e.nonce=Ze.hexToNumberString(e.nonce),e.balance=Ze.hexToNumberString(e.balance),e},Zo=function(e){return Ze.toBN(e).toString(10)},oq=function(e){return e==="latest"||e==="pending"||e==="earliest"},uq=function(e){return this&&e==null?Cd(this.defaultBlock):Cd(e)},Cd=function(e){if(e!==void 0)return oq(e)?e:e==="genesis"?"0x0":Ze.isHexStrict(e)?typeof e=="string"?e.toLowerCase():e:Ze.numberToHex(e)},UP=function(e){if(e.to&&(e.to=gf(e.to)),e.data&&e.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!Ze.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),(e.maxPriorityFeePerGas||e.maxFeePerGas)&&delete e.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(t){return e[t]!==void 0}).forEach(function(t){e[t]=Ze.numberToHex(e[t])}),e},cq=function(e){e=UP(e);var t=e.from||(this?this.defaultAccount:null);return t&&(e.from=gf(t)),e},fq=function(e){if(e=UP(e),typeof e.from!="number"&&!(e.from&&typeof e.from=="object")){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&typeof e.from!="number")throw new Error('The send transactions "from" field must be defined!');e.from=gf(e.from)}return e},lq=function(e){return Ze.isHexStrict(e)?e:Ze.utf8ToHex(e)},jP=function(e){return e.blockNumber!==null&&(e.blockNumber=Ze.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=Ze.hexToNumber(e.transactionIndex)),e.nonce=Ze.hexToNumber(e.nonce),e.gas=Ze.hexToNumber(e.gas),e.gasPrice&&(e.gasPrice=Zo(e.gasPrice)),e.maxFeePerGas&&(e.maxFeePerGas=Zo(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=Zo(e.maxPriorityFeePerGas)),e.type&&(e.type=Ze.hexToNumber(e.type)),e.value=Zo(e.value),e.to&&Ze.isAddress(e.to)?e.to=Ze.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=Ze.toChecksumAddress(e.from)),e},dq=function(e){if(typeof e!="object")throw new Error("Received receipt is invalid: "+e);return this.hexFormat||(e.blockNumber!==null&&(e.blockNumber=Ze.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=Ze.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=Ze.hexToNumber(e.cumulativeGasUsed),e.gasUsed=Ze.hexToNumber(e.gasUsed),e.effectiveGasPrice&&(e.effectiveGasPrice=Ze.hexToNumber(e.effectiveGasPrice))),Array.isArray(e.logs)&&(e.logs=e.logs.map(GP)),e.contractAddress&&(e.contractAddress=Ze.toChecksumAddress(e.contractAddress)),typeof e.status<"u"&&e.status!==null&&(e.status=!!parseInt(e.status)),e},hq=function(e){return e.gasLimit=Ze.hexToNumber(e.gasLimit),e.gasUsed=Ze.hexToNumber(e.gasUsed),e.size=Ze.hexToNumber(e.size),e.timestamp=Ze.hexToNumber(e.timestamp),e.number!==null&&(e.number=Ze.hexToNumber(e.number)),e.difficulty&&(e.difficulty=Zo(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=Zo(e.totalDifficulty)),Array.isArray(e.transactions)&&e.transactions.forEach(function(t){if(typeof t!="string")return jP(t)}),e.miner&&(e.miner=Ze.toChecksumAddress(e.miner)),e.baseFeePerGas&&(e.baseFeePerGas=Ze.hexToNumber(e.baseFeePerGas)),e},pq=function(e){var t=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:Ze.fromUtf8(r))};return e===void 0&&(e={}),e.fromBlock===void 0&&(e={...e,fromBlock:"latest"}),(e.fromBlock||e.fromBlock===0)&&(e.fromBlock=Cd(e.fromBlock)),(e.toBlock||e.toBlock===0)&&(e.toBlock=Cd(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map(function(r){return Array.isArray(r)?r.map(t):t(r)}),t=null,e.address&&(e.address=Array.isArray(e.address)?e.address.map(function(r){return gf(r)}):gf(e.address)),e},GP=function(e){if(typeof e.blockHash=="string"&&typeof e.transactionHash=="string"&&typeof e.logIndex=="string"){var t=Ze.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").slice(0,8)}else e.id||(e.id=null);return e.blockNumber!==null&&(e.blockNumber=Ze.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=Ze.hexToNumber(e.transactionIndex)),e.logIndex!==null&&(e.logIndex=Ze.hexToNumber(e.logIndex)),e.address&&(e.address=Ze.toChecksumAddress(e.address)),e},mq=function(e){return e.ttl&&(e.ttl=Ze.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=Ze.numberToHex(e.workToProve)),e.priority&&(e.priority=Ze.numberToHex(e.priority)),Array.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(t){return t.indexOf("0x")===0?t:Ze.fromUtf8(t)}),e},vq=function(e){return e.expiry=Ze.hexToNumber(e.expiry),e.sent=Ze.hexToNumber(e.sent),e.ttl=Ze.hexToNumber(e.ttl),e.workProved=Ze.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(t){return Ze.toUtf8(t)}),e},gf=function(e){var t=new aq(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(Ze.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error(`Provided address ${e} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},bq=function(e){return e.startingBlock=Ze.hexToNumber(e.startingBlock),e.currentBlock=Ze.hexToNumber(e.currentBlock),e.highestBlock=Ze.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=Ze.hexToNumber(e.knownStates),e.pulledStates=Ze.hexToNumber(e.pulledStates)),e},gq={inputDefaultBlockNumberFormatter:uq,inputBlockNumberFormatter:Cd,inputCallFormatter:cq,inputTransactionFormatter:fq,inputAddressFormatter:gf,inputPostFormatter:mq,inputLogFormatter:pq,inputSignFormatter:lq,inputStorageKeysFormatter:iq,outputProofFormatter:sq,outputBigNumberFormatter:Zo,outputTransactionFormatter:jP,outputTransactionReceiptFormatter:dq,outputBlockFormatter:hq,outputLogFormatter:GP,outputPostFormatter:vq,outputSyncingFormatter:bq},yq=EW,_q=gq,KP={errors:yq,formatters:_q},Eu={messageId:0};Eu.toPayload=function(e,t){if(!e)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(t)+'"!');return Eu.messageId++,{jsonrpc:"2.0",id:Eu.messageId,method:e,params:t||[]}};Eu.isValidResponse=function(e){return Array.isArray(e)?e.every(t):t(e);function t(r){return!!r&&!r.error&&r.jsonrpc==="2.0"&&(typeof r.id=="number"||typeof r.id=="string")&&r.result!==void 0}};Eu.toBatchPayload=function(e){return e.map(function(t){return Eu.toPayload(t.method,t.params)})};var WP=Eu,Tq=WP,E3=KP.errors,Km=function(e){this.requestManager=e,this.requests=[]};Km.prototype.add=function(e){this.requests.push(e)};Km.prototype.execute=function(){var e=this.requests,t=this._sortResponses.bind(this);this.requestManager.sendBatch(e,function(r,n){n=t(n),e.map(function(a,i){return n[i]||{}}).forEach(function(a,i){if(e[i].callback){if(a&&a.error)return e[i].callback(E3.ErrorResponse(a));if(!Tq.isValidResponse(a))return e[i].callback(E3.InvalidResponse(a));try{e[i].callback(null,e[i].format?e[i].format(a.result):a.result)}catch(s){e[i].callback(s)}}})})};Km.prototype._sortResponses=function(e){return(e||[]).sort((t,r)=>t.id-r.id)};var Eq=Km,E1=null,En=typeof globalThis=="object"?globalThis:void 0;if(!En)try{En=Function("return this")()}catch{En=self}typeof En.ethereum<"u"?E1=En.ethereum:typeof En.web3<"u"&&En.web3.currentProvider&&(En.web3.currentProvider.sendAsync&&(En.web3.currentProvider.send=En.web3.currentProvider.sendAsync,delete En.web3.currentProvider.sendAsync),!En.web3.currentProvider.on&&En.web3.currentProvider.connection&&En.web3.currentProvider.connection.constructor.name==="ipcProviderWrapper"&&(En.web3.currentProvider.on=function(e,t){if(typeof t!="function")throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.connection.on("data",function(r){var n="";r=r.toString();try{n=JSON.parse(r)}catch{return t(new Error("Couldn't parse response data"+r))}!n.id&&n.method.indexOf("_subscription")!==-1&&t(null,n)});break;default:this.connection.on(e,t);break}}),E1=En.web3.currentProvider);var Sq=E1,qP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,u,c){this.fn=f,this.context=u,this.once=c||!1}function i(f,u,c,l,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new a(c,l||f,d),p=r?r+u:u;return f._events[p]?f._events[p].fn?f._events[p]=[f._events[p],h]:f._events[p].push(h):(f._events[p]=h,f._eventsCount++),f}function s(f,u){--f._eventsCount===0?f._events=new n:delete f._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,l;if(this._eventsCount===0)return u;for(l in c=this._events)t.call(c,l)&&u.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,l=this._events[c];if(!l)return[];if(l.fn)return[l.fn];for(var d=0,h=l.length,p=new Array(h);d<h;d++)p[d]=l[d].fn;return p},o.prototype.listenerCount=function(u){var c=r?r+u:u,l=this._events[c];return l?l.fn?1:l.length:0},o.prototype.emit=function(u,c,l,d,h,p){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,g,y;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,l),!0;case 4:return v.fn.call(v.context,c,l,d),!0;case 5:return v.fn.call(v.context,c,l,d,h),!0;case 6:return v.fn.call(v.context,c,l,d,h,p),!0}for(y=1,g=new Array(b-1);y<b;y++)g[y-1]=arguments[y];v.fn.apply(v.context,g)}else{var C=v.length,I;for(y=0;y<C;y++)switch(v[y].once&&this.removeListener(u,v[y].fn,void 0,!0),b){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,c);break;case 3:v[y].fn.call(v[y].context,c,l);break;case 4:v[y].fn.call(v[y].context,c,l,d);break;default:if(!g)for(I=1,g=new Array(b-1);I<b;I++)g[I-1]=arguments[I];v[y].fn.apply(v[y].context,g)}}return!0},o.prototype.on=function(u,c,l){return i(this,u,c,l,!1)},o.prototype.once=function(u,c,l){return i(this,u,c,l,!0)},o.prototype.removeListener=function(u,c,l,d){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!l||p.context===l)&&s(this,h);else{for(var m=0,v=[],b=p.length;m<b;m++)(p[m].fn!==c||d&&!p[m].once||l&&p[m].context!==l)&&v.push(p[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(qP);var _h=qP.exports,Aq=Object.prototype.toString.call(typeof vn<"u"?vn:0)==="[object process]",wq=typeof navigator<"u"&&navigator.product==="ReactNative",S1=null,U0=null;if(Aq||wq){S1=function(e){return ae.from(e).toString("base64")};var S3=mf;if(S3.URL){var Cq=S3.URL;U0=function(e){return new Cq(e)}}else U0=mf.parse}else S1=btoa.bind(typeof globalThis=="object"?globalThis:self),U0=function(e){return new URL(e)};var Iq={parseURL:U0,btoa:S1},Pq={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return typeof e=="object"&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){const r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+`" doesn't exist in this contract.`)},ContractReservedEventError:function(e){return new Error('The event "'+e+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},yf=Qe,Nq=lo,VP=ho,j0=pi,Zf=po,x2=function(e){return yf.isBN(e)},zP=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},Th=function(e){try{return Nq.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},Oq=function(e){return"0x"+Th(e).toTwos(256).toString(16,64)},YP=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:XP(e):!1},XP=function(e){e=e.replace(/^0x/i,"");for(var t=Wm(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},xq=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},Rq=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},A1=function(e){e=VP.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},Dq=function(e){if(!Qu(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return VP.decode(t)},JP=function(e){if(!e)return e;if(typeof e=="string"&&!Qu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Th(e).toNumber()},Mq=function(e){if(!e)return e;if(typeof e=="string"&&!Qu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Th(e).toString(10)},w1=function(e){if(e==null)return e;if(!isFinite(e)&&!Qu(e))throw new Error('Given input "'+e+'" is not a number.');var t=Th(e),r=t.toString(16);return t.lt(new yf(0))?"-0x"+r.slice(1):"0x"+r},Lq=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},kq=function(e){if(e=e.toString(16),!Qu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},QP=function(e,t){if(YP(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!zP(e)&&!x2(e))return t?"string":A1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":w1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":A1(e)}return t?e<0?"int256":"uint256":w1(e)},Qu=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},ZP=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},Bq=function(e){return e!==0&&ZP(e)?e.replace(/^(-)?0x/i,"$1"):e},Fq=function(e){return Zf.isBloom(e)},Hq=function(e,t){return Zf.isUserEthereumAddressInBloom(e,t)},$q=function(e,t){return Zf.isContractAddressInBloom(e,t)},Uq=function(e){return Zf.isTopic(e)},jq=function(e,t){return Zf.isTopicInBloom(e,t)},Gq=function(e,t){return Zf.isInBloom(e,t)},e5="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Wm=function(e){x2(e)&&(e=e.toString()),Qu(e)&&/^0x/i.test(e.toString())?e=j0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=j0.bufferToHex(j0.keccak256(e));return t===e5?null:t};Wm._Hash=j0.keccak256;var Kq=function(e){return e=Wm(e),e===null?e5:e},Wq=function(e){return typeof e=="number"?e:JP(QP(e))},R2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new yf(t+r,16)}else return new yf(e)};Object.setPrototypeOf(R2,yf);Object.setPrototypeOf(R2.prototype,yf.prototype);var t5={BN:R2,isBN:x2,isBigNumber:zP,toBN:Th,isAddress:YP,isBloom:Fq,isUserEthereumAddressInBloom:Hq,isContractAddressInBloom:$q,isTopic:Uq,isTopicInBloom:jq,isInBloom:Gq,checkAddressChecksum:XP,utf8ToHex:A1,hexToUtf8:Dq,hexToNumber:JP,hexToNumberString:Mq,numberToHex:w1,toHex:QP,hexToBytes:kq,bytesToHex:Lq,isHex:ZP,isHexStrict:Qu,stripHexPrefix:Bq,leftPad:xq,rightPad:Rq,toTwosComplement:Oq,sha3:Wm,sha3Raw:Kq,toNumber:Wq},eu=Qe,Ta=t5,qq=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},Vq=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},zq=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},A3=function(e){var t=typeof e;if(t==="string")return Ta.isHexStrict(e)?new eu(e.replace(/0x/i,""),16):new eu(e,10);if(t==="number")return new eu(e);if(Ta.isBigNumber(e))return new eu(e.toString(10));if(Ta.isBN(e))return e;throw new Error(e+" is not a number")},w3=function(e,t,r){var n,a;if(e=qq(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return Ta.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!Ta.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return Ta.leftPad(t.toLowerCase(),n)}}if(n=Vq(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return Ta.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=A3(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new eu(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?Ta.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=A3(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new eu(0))?a.toTwos(n).toString("hex"):n?Ta.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},D2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=Ta.toHex(e,!0),r=Ta.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new eu(r)),Array.isArray(r)){if(a=zq(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return w3(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=w3(t,r,a),n.toString("hex").replace("0x",""))},Yq=function(){var e=Array.prototype.slice.call(arguments),t=e.map(D2);return Ta.sha3("0x"+t.join(""))},Xq=function(){return Ta.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(D2).join(""))},Jq=function(){var e=Array.prototype.slice.call(arguments),t=e.map(D2);return"0x"+t.join("").toLowerCase()},Qq={soliditySha3:Yq,soliditySha3Raw:Xq,encodePacked:Jq},Mu=mo,vt=t5,cg=Qq,Zq=bo,C3=Qe,eV=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},tV=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+M2(!1,e.inputs).join(",")+")"},M2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=M2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},rV=function(e){return"0x"+Zq(e).toString("hex")},I3=function(e){if(!vt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},P3=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},r5=function(e){if(e=e?e.toLowerCase():"ether",!Mu.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(Mu.unitMap,null,2));return e},nV=function(e,t){if(t=r5(t),!vt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return vt.isBN(e)?Mu.fromWei(e,t):Mu.fromWei(e,t).toString(10)},aV=function(e,t){if(t=r5(t),!vt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return vt.isBN(e)?Mu.toWei(e,t):Mu.toWei(e,t).toString(10)},iV=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=vt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},sV=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new C3(e),n=new C3(t);return r.lt(n)?-1:r.eq(n)?0:1}},n5={_fireError:eV,_jsonInterfaceMethodToString:tV,_flattenTypes:M2,randomHex:rV,BN:vt.BN,isBN:vt.isBN,isBigNumber:vt.isBigNumber,isHex:vt.isHex,isHexStrict:vt.isHexStrict,sha3:vt.sha3,sha3Raw:vt.sha3Raw,keccak256:vt.sha3,soliditySha3:cg.soliditySha3,soliditySha3Raw:cg.soliditySha3Raw,encodePacked:cg.encodePacked,isAddress:vt.isAddress,checkAddressChecksum:vt.checkAddressChecksum,toChecksumAddress:iV,toHex:vt.toHex,toBN:vt.toBN,bytesToHex:vt.bytesToHex,hexToBytes:vt.hexToBytes,hexToNumberString:vt.hexToNumberString,hexToNumber:vt.hexToNumber,toDecimal:vt.hexToNumber,numberToHex:vt.numberToHex,fromDecimal:vt.numberToHex,hexToUtf8:vt.hexToUtf8,hexToString:vt.hexToUtf8,toUtf8:vt.hexToUtf8,stripHexPrefix:vt.stripHexPrefix,utf8ToHex:vt.utf8ToHex,stringToHex:vt.utf8ToHex,fromUtf8:vt.utf8ToHex,hexToAscii:I3,toAscii:I3,asciiToHex:P3,fromAscii:P3,unitMap:Mu.unitMap,toWei:aV,fromWei:nV,padLeft:vt.leftPad,leftPad:vt.leftPad,padRight:vt.rightPad,rightPad:vt.rightPad,toTwosComplement:vt.toTwosComplement,isBloom:vt.isBloom,isUserEthereumAddressInBloom:vt.isUserEthereumAddressInBloom,isContractAddressInBloom:vt.isContractAddressInBloom,isTopic:vt.isTopic,isTopicInBloom:vt.isTopicInBloom,isInBloom:vt.isInBloom,compareBlockNumbers:sV,toNumber:vt.toNumber};const N3=n5,O3=Qe,oV=function(e,t){let r=e;for(;r.length<t*2;)r="0"+r;return r},x3=function(e){return e=e.toUpperCase(),e=e.slice(4)+e.slice(0,4),e.split("").map(function(n){const a=n.charCodeAt(0);return a>=65&&a<=90?a-65+10:n}).join("")},R3=function(e){let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=parseInt(r,10)%97+t.slice(r.length);return parseInt(t,10)%97};let uV=class Fo{constructor(t){this._iban=t}static toAddress(t){if(t=new Fo(t),!t.isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(t){return Fo.fromAddress(t).toString()}static fromAddress(t){if(!N3.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");const n=new O3(t,16).toString(36),a=oV(n,15);return Fo.fromBban(a.toUpperCase())}static fromBban(t){const r="XE",a=("0"+(98-R3(x3(r+"00"+t)))).slice(-2);return new Fo(r+a+t)}static createIndirect(t){return Fo.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new Fo(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&R3(x3(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const t=this._iban.slice(4),r=new O3(t,36);return N3.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var cV=uV,et=n5,fV=cV,lV=function(e){return e.map(et.numberToHex)},dV=function(e){return e.address=et.toChecksumAddress(e.address),e.nonce=et.hexToNumberString(e.nonce),e.balance=et.hexToNumberString(e.balance),e},tu=function(e){return et.toBN(e).toString(10)},hV=function(e){return e==="latest"||e==="pending"||e==="earliest"},pV=function(e){return this&&e==null?Id(this.defaultBlock):Id(e)},Id=function(e){if(e!==void 0)return hV(e)?e:e==="genesis"?"0x0":et.isHexStrict(e)?typeof e=="string"?e.toLowerCase():e:et.numberToHex(e)},a5=function(e){if(e.to&&(e.to=_f(e.to)),e.data&&e.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!et.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),(e.maxPriorityFeePerGas||e.maxFeePerGas)&&delete e.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(t){return e[t]!==void 0}).forEach(function(t){e[t]=et.numberToHex(e[t])}),e},mV=function(e){e=a5(e);var t=e.from||(this?this.defaultAccount:null);return t&&(e.from=_f(t)),e},vV=function(e){if(e=a5(e),typeof e.from!="number"&&!(e.from&&typeof e.from=="object")){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&typeof e.from!="number")throw new Error('The send transactions "from" field must be defined!');e.from=_f(e.from)}return e},bV=function(e){return et.isHexStrict(e)?e:et.utf8ToHex(e)},i5=function(e){return e.blockNumber!==null&&(e.blockNumber=et.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=et.hexToNumber(e.transactionIndex)),e.nonce=et.hexToNumber(e.nonce),e.gas=et.hexToNumber(e.gas),e.gasPrice&&(e.gasPrice=tu(e.gasPrice)),e.maxFeePerGas&&(e.maxFeePerGas=tu(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=tu(e.maxPriorityFeePerGas)),e.type&&(e.type=et.hexToNumber(e.type)),e.value=tu(e.value),e.to&&et.isAddress(e.to)?e.to=et.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=et.toChecksumAddress(e.from)),e},gV=function(e){if(typeof e!="object")throw new Error("Received receipt is invalid: "+e);return this.hexFormat||(e.blockNumber!==null&&(e.blockNumber=et.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=et.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=et.hexToNumber(e.cumulativeGasUsed),e.gasUsed=et.hexToNumber(e.gasUsed),e.effectiveGasPrice&&(e.effectiveGasPrice=et.hexToNumber(e.effectiveGasPrice))),Array.isArray(e.logs)&&(e.logs=e.logs.map(s5)),e.contractAddress&&(e.contractAddress=et.toChecksumAddress(e.contractAddress)),typeof e.status<"u"&&e.status!==null&&(e.status=!!parseInt(e.status)),e},yV=function(e){return e.gasLimit=et.hexToNumber(e.gasLimit),e.gasUsed=et.hexToNumber(e.gasUsed),e.size=et.hexToNumber(e.size),e.timestamp=et.hexToNumber(e.timestamp),e.number!==null&&(e.number=et.hexToNumber(e.number)),e.difficulty&&(e.difficulty=tu(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=tu(e.totalDifficulty)),Array.isArray(e.transactions)&&e.transactions.forEach(function(t){if(typeof t!="string")return i5(t)}),e.miner&&(e.miner=et.toChecksumAddress(e.miner)),e.baseFeePerGas&&(e.baseFeePerGas=et.hexToNumber(e.baseFeePerGas)),e},_V=function(e){var t=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:et.fromUtf8(r))};return e===void 0&&(e={}),e.fromBlock===void 0&&(e={...e,fromBlock:"latest"}),(e.fromBlock||e.fromBlock===0)&&(e.fromBlock=Id(e.fromBlock)),(e.toBlock||e.toBlock===0)&&(e.toBlock=Id(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map(function(r){return Array.isArray(r)?r.map(t):t(r)}),t=null,e.address&&(e.address=Array.isArray(e.address)?e.address.map(function(r){return _f(r)}):_f(e.address)),e},s5=function(e){if(typeof e.blockHash=="string"&&typeof e.transactionHash=="string"&&typeof e.logIndex=="string"){var t=et.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").slice(0,8)}else e.id||(e.id=null);return e.blockNumber!==null&&(e.blockNumber=et.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=et.hexToNumber(e.transactionIndex)),e.logIndex!==null&&(e.logIndex=et.hexToNumber(e.logIndex)),e.address&&(e.address=et.toChecksumAddress(e.address)),e},TV=function(e){return e.ttl&&(e.ttl=et.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=et.numberToHex(e.workToProve)),e.priority&&(e.priority=et.numberToHex(e.priority)),Array.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(t){return t.indexOf("0x")===0?t:et.fromUtf8(t)}),e},EV=function(e){return e.expiry=et.hexToNumber(e.expiry),e.sent=et.hexToNumber(e.sent),e.ttl=et.hexToNumber(e.ttl),e.workProved=et.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(t){return et.toUtf8(t)}),e},_f=function(e){var t=new fV(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(et.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error(`Provided address ${e} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},SV=function(e){return e.startingBlock=et.hexToNumber(e.startingBlock),e.currentBlock=et.hexToNumber(e.currentBlock),e.highestBlock=et.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=et.hexToNumber(e.knownStates),e.pulledStates=et.hexToNumber(e.pulledStates)),e},AV={inputDefaultBlockNumberFormatter:pV,inputBlockNumberFormatter:Id,inputCallFormatter:mV,inputTransactionFormatter:vV,inputAddressFormatter:_f,inputPostFormatter:TV,inputLogFormatter:_V,inputSignFormatter:bV,inputStorageKeysFormatter:lV,outputProofFormatter:dV,outputBigNumberFormatter:tu,outputTransactionFormatter:i5,outputTransactionReceiptFormatter:gV,outputBlockFormatter:yV,outputLogFormatter:s5,outputPostFormatter:EV,outputSyncingFormatter:SV},wV=Pq,CV=AV,IV={errors:wV,formatters:CV},fg,D3;function PV(){if(D3)return fg;D3=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return fg=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),fg}const NV="websocket",OV="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",xV=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],RV="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",DV=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],MV="1.0.34",LV={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},kV="https://github.com/theturtle32/WebSocket-Node",BV={node:">=4.0.0"},FV={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},HV={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},$V={verbose:!1},UV={test:"tape test/unit/*.js",gulp:"gulp"},jV="index",GV={lib:"./lib"},KV="lib/browser.js",WV="Apache-2.0",qV={name:NV,description:OV,keywords:xV,author:RV,contributors:DV,version:MV,repository:LV,homepage:kV,engines:BV,dependencies:FV,devDependencies:HV,config:$V,scripts:UV,main:jV,directories:GV,browser:KV,license:WV};var VV=qV.version,Wo;if(typeof globalThis=="object")Wo=globalThis;else try{Wo=PV()}catch{}finally{if(!Wo&&typeof window<"u"&&(Wo=window),!Wo)throw new Error("Could not determine global this")}var Pd=Wo.WebSocket||Wo.MozWebSocket,zV=VV;function o5(e,t){var r;return t?r=new Pd(e,t):r=new Pd(e),r}Pd&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(o5,e,{get:function(){return Pd[e]}})});var YV={w3cwebsocket:Pd?o5:null,version:zV},u5=_h,lg=Iq,ys=IV.errors,XV=YV.w3cwebsocket,kn=function(t,r){u5.call(this),r=r||{},this.url=t,this._customTimeout=r.timeout||1e3*15,this.headers=r.headers||{},this.protocol=r.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},r.reconnect),this.clientConfig=r.clientConfig||void 0,this.requestOptions=r.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var n=lg.parseURL(t);n.username&&n.password&&(this.headers.authorization="Basic "+lg.btoa(n.username+":"+n.password)),n.auth&&(this.headers.authorization="Basic "+lg.btoa(n.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};kn.prototype=Object.create(u5.prototype);kn.prototype.constructor=kn;kn.prototype.connect=function(){this.connection=new XV(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()};kn.prototype._onMessage=function(e){var t=this;this._parseResponse(typeof e.data=="string"?e.data:"").forEach(function(r){if(r.method&&r.method.indexOf("_subscription")!==-1){t.emit(t.DATA,r);return}var n=r.id;Array.isArray(r)&&(n=r[0].id),t.responseQueue.has(n)&&(t.responseQueue.get(n).callback!==void 0&&t.responseQueue.get(n).callback(!1,r),t.responseQueue.delete(n))})};kn.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var e=this;this.requestQueue.forEach(function(t,r){e.send(t.payload,t.callback),e.requestQueue.delete(r)})}};kn.prototype._onClose=function(e){var t=this;if(this.reconnectOptions.auto&&(![1e3,1001].includes(e.code)||e.wasClean===!1)){this.reconnect();return}this.emit(this.CLOSE,e),this.requestQueue.size>0&&this.requestQueue.forEach(function(r,n){r.callback(ys.ConnectionNotOpenError(e)),t.requestQueue.delete(n)}),this.responseQueue.size>0&&this.responseQueue.forEach(function(r,n){r.callback(ys.InvalidConnection("on WS",e)),t.responseQueue.delete(n)}),this._removeSocketListeners(),this.removeAllListeners()};kn.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))};kn.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)};kn.prototype._parseResponse=function(e){var t=this,r=[],n=e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return n.forEach(function(a){t.lastChunk&&(a=t.lastChunk+a);var i=null;try{i=JSON.parse(a)}catch{t.lastChunk=a,clearTimeout(t.lastChunkTimeout),t.lastChunkTimeout=setTimeout(function(){if(t.reconnectOptions.auto&&t.reconnectOptions.onTimeout){t.reconnect();return}t.emit(t.ERROR,ys.ConnectionTimeout(t._customTimeout)),t.requestQueue.size>0&&t.requestQueue.forEach(function(o,f){o.callback(ys.ConnectionTimeout(t._customTimeout)),t.requestQueue.delete(f)})},t._customTimeout);return}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,i&&r.push(i)}),r};kn.prototype.send=function(e,t){var r=this,n=e.id,a={payload:e,callback:t};if(Array.isArray(e)&&(n=e[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting){this.requestQueue.set(n,a);return}if(this.connection.readyState!==this.connection.OPEN){this.requestQueue.delete(n),this.emit(this.ERROR,ys.ConnectionNotOpenError()),a.callback(ys.ConnectionNotOpenError());return}this.responseQueue.set(n,a),this.requestQueue.delete(n);try{this.connection.send(JSON.stringify(a.payload))}catch(i){a.callback(i),r.responseQueue.delete(n)}};kn.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()};kn.prototype.disconnect=function(e,t){this._removeSocketListeners(),this.connection.close(e||1e3,t)};kn.prototype.supportsSubscriptions=function(){return!0};kn.prototype.reconnect=function(){var e=this;if(this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach(function(t,r){t.callback(ys.PendingRequestsOnReconnectingError()),e.responseQueue.delete(r)}),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts){setTimeout(function(){e.reconnectAttempts++,e._removeSocketListeners(),e.emit(e.RECONNECT,e.reconnectAttempts),e.connect()},this.reconnectOptions.delay);return}this.emit(this.ERROR,ys.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach(function(t,r){t.callback(ys.MaxAttemptsReachedOnReconnectingError()),e.requestQueue.delete(r)})};var JV=kn,QV={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return typeof e=="object"&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){const r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+`" doesn't exist in this contract.`)},ContractReservedEventError:function(e){return new Error('The event "'+e+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},Tf=Qe,ZV=lo,c5=ho,G0=pi,el=po,L2=function(e){return Tf.isBN(e)},f5=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},Eh=function(e){try{return ZV.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},ez=function(e){return"0x"+Eh(e).toTwos(256).toString(16,64)},l5=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:d5(e):!1},d5=function(e){e=e.replace(/^0x/i,"");for(var t=qm(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},tz=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},rz=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},C1=function(e){e=c5.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},nz=function(e){if(!Zu(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return c5.decode(t)},h5=function(e){if(!e)return e;if(typeof e=="string"&&!Zu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Eh(e).toNumber()},az=function(e){if(!e)return e;if(typeof e=="string"&&!Zu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Eh(e).toString(10)},I1=function(e){if(e==null)return e;if(!isFinite(e)&&!Zu(e))throw new Error('Given input "'+e+'" is not a number.');var t=Eh(e),r=t.toString(16);return t.lt(new Tf(0))?"-0x"+r.slice(1):"0x"+r},iz=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},sz=function(e){if(e=e.toString(16),!Zu(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},p5=function(e,t){if(l5(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!f5(e)&&!L2(e))return t?"string":C1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":I1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":C1(e)}return t?e<0?"int256":"uint256":I1(e)},Zu=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},m5=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},oz=function(e){return e!==0&&m5(e)?e.replace(/^(-)?0x/i,"$1"):e},uz=function(e){return el.isBloom(e)},cz=function(e,t){return el.isUserEthereumAddressInBloom(e,t)},fz=function(e,t){return el.isContractAddressInBloom(e,t)},lz=function(e){return el.isTopic(e)},dz=function(e,t){return el.isTopicInBloom(e,t)},hz=function(e,t){return el.isInBloom(e,t)},v5="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",qm=function(e){L2(e)&&(e=e.toString()),Zu(e)&&/^0x/i.test(e.toString())?e=G0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=G0.bufferToHex(G0.keccak256(e));return t===v5?null:t};qm._Hash=G0.keccak256;var pz=function(e){return e=qm(e),e===null?v5:e},mz=function(e){return typeof e=="number"?e:h5(p5(e))},k2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new Tf(t+r,16)}else return new Tf(e)};Object.setPrototypeOf(k2,Tf);Object.setPrototypeOf(k2.prototype,Tf.prototype);var b5={BN:k2,isBN:L2,isBigNumber:f5,toBN:Eh,isAddress:l5,isBloom:uz,isUserEthereumAddressInBloom:cz,isContractAddressInBloom:fz,isTopic:lz,isTopicInBloom:dz,isInBloom:hz,checkAddressChecksum:d5,utf8ToHex:C1,hexToUtf8:nz,hexToNumber:h5,hexToNumberString:az,numberToHex:I1,toHex:p5,hexToBytes:sz,bytesToHex:iz,isHex:m5,isHexStrict:Zu,stripHexPrefix:oz,leftPad:tz,rightPad:rz,toTwosComplement:ez,sha3:qm,sha3Raw:pz,toNumber:mz},ru=Qe,Ea=b5,vz=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},bz=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},gz=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},M3=function(e){var t=typeof e;if(t==="string")return Ea.isHexStrict(e)?new ru(e.replace(/0x/i,""),16):new ru(e,10);if(t==="number")return new ru(e);if(Ea.isBigNumber(e))return new ru(e.toString(10));if(Ea.isBN(e))return e;throw new Error(e+" is not a number")},L3=function(e,t,r){var n,a;if(e=vz(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return Ea.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!Ea.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return Ea.leftPad(t.toLowerCase(),n)}}if(n=bz(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return Ea.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=M3(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new ru(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?Ea.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=M3(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new ru(0))?a.toTwos(n).toString("hex"):n?Ea.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},B2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=Ea.toHex(e,!0),r=Ea.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new ru(r)),Array.isArray(r)){if(a=gz(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return L3(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=L3(t,r,a),n.toString("hex").replace("0x",""))},yz=function(){var e=Array.prototype.slice.call(arguments),t=e.map(B2);return Ea.sha3("0x"+t.join(""))},_z=function(){return Ea.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(B2).join(""))},Tz=function(){var e=Array.prototype.slice.call(arguments),t=e.map(B2);return"0x"+t.join("").toLowerCase()},Ez={soliditySha3:yz,soliditySha3Raw:_z,encodePacked:Tz},Lu=mo,bt=b5,dg=Ez,Sz=bo,k3=Qe,Az=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},wz=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+F2(!1,e.inputs).join(",")+")"},F2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=F2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},Cz=function(e){return"0x"+Sz(e).toString("hex")},B3=function(e){if(!bt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},F3=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},g5=function(e){if(e=e?e.toLowerCase():"ether",!Lu.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(Lu.unitMap,null,2));return e},Iz=function(e,t){if(t=g5(t),!bt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return bt.isBN(e)?Lu.fromWei(e,t):Lu.fromWei(e,t).toString(10)},Pz=function(e,t){if(t=g5(t),!bt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return bt.isBN(e)?Lu.toWei(e,t):Lu.toWei(e,t).toString(10)},Nz=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=bt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},Oz=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new k3(e),n=new k3(t);return r.lt(n)?-1:r.eq(n)?0:1}},y5={_fireError:Az,_jsonInterfaceMethodToString:wz,_flattenTypes:F2,randomHex:Cz,BN:bt.BN,isBN:bt.isBN,isBigNumber:bt.isBigNumber,isHex:bt.isHex,isHexStrict:bt.isHexStrict,sha3:bt.sha3,sha3Raw:bt.sha3Raw,keccak256:bt.sha3,soliditySha3:dg.soliditySha3,soliditySha3Raw:dg.soliditySha3Raw,encodePacked:dg.encodePacked,isAddress:bt.isAddress,checkAddressChecksum:bt.checkAddressChecksum,toChecksumAddress:Nz,toHex:bt.toHex,toBN:bt.toBN,bytesToHex:bt.bytesToHex,hexToBytes:bt.hexToBytes,hexToNumberString:bt.hexToNumberString,hexToNumber:bt.hexToNumber,toDecimal:bt.hexToNumber,numberToHex:bt.numberToHex,fromDecimal:bt.numberToHex,hexToUtf8:bt.hexToUtf8,hexToString:bt.hexToUtf8,toUtf8:bt.hexToUtf8,stripHexPrefix:bt.stripHexPrefix,utf8ToHex:bt.utf8ToHex,stringToHex:bt.utf8ToHex,fromUtf8:bt.utf8ToHex,hexToAscii:B3,toAscii:B3,asciiToHex:F3,fromAscii:F3,unitMap:Lu.unitMap,toWei:Pz,fromWei:Iz,padLeft:bt.leftPad,leftPad:bt.leftPad,padRight:bt.rightPad,rightPad:bt.rightPad,toTwosComplement:bt.toTwosComplement,isBloom:bt.isBloom,isUserEthereumAddressInBloom:bt.isUserEthereumAddressInBloom,isContractAddressInBloom:bt.isContractAddressInBloom,isTopic:bt.isTopic,isTopicInBloom:bt.isTopicInBloom,isInBloom:bt.isInBloom,compareBlockNumbers:Oz,toNumber:bt.toNumber};const H3=y5,$3=Qe,xz=function(e,t){let r=e;for(;r.length<t*2;)r="0"+r;return r},U3=function(e){return e=e.toUpperCase(),e=e.slice(4)+e.slice(0,4),e.split("").map(function(n){const a=n.charCodeAt(0);return a>=65&&a<=90?a-65+10:n}).join("")},j3=function(e){let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=parseInt(r,10)%97+t.slice(r.length);return parseInt(t,10)%97};let Rz=class Ho{constructor(t){this._iban=t}static toAddress(t){if(t=new Ho(t),!t.isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(t){return Ho.fromAddress(t).toString()}static fromAddress(t){if(!H3.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");const n=new $3(t,16).toString(36),a=xz(n,15);return Ho.fromBban(a.toUpperCase())}static fromBban(t){const r="XE",a=("0"+(98-j3(U3(r+"00"+t)))).slice(-2);return new Ho(r+a+t)}static createIndirect(t){return Ho.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new Ho(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&j3(U3(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const t=this._iban.slice(4),r=new $3(t,36);return H3.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var Dz=Rz,tt=y5,Mz=Dz,Lz=function(e){return e.map(tt.numberToHex)},kz=function(e){return e.address=tt.toChecksumAddress(e.address),e.nonce=tt.hexToNumberString(e.nonce),e.balance=tt.hexToNumberString(e.balance),e},nu=function(e){return tt.toBN(e).toString(10)},Bz=function(e){return e==="latest"||e==="pending"||e==="earliest"},Fz=function(e){return this&&e==null?Nd(this.defaultBlock):Nd(e)},Nd=function(e){if(e!==void 0)return Bz(e)?e:e==="genesis"?"0x0":tt.isHexStrict(e)?typeof e=="string"?e.toLowerCase():e:tt.numberToHex(e)},_5=function(e){if(e.to&&(e.to=Ef(e.to)),e.data&&e.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!tt.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),(e.maxPriorityFeePerGas||e.maxFeePerGas)&&delete e.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(t){return e[t]!==void 0}).forEach(function(t){e[t]=tt.numberToHex(e[t])}),e},Hz=function(e){e=_5(e);var t=e.from||(this?this.defaultAccount:null);return t&&(e.from=Ef(t)),e},$z=function(e){if(e=_5(e),typeof e.from!="number"&&!(e.from&&typeof e.from=="object")){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&typeof e.from!="number")throw new Error('The send transactions "from" field must be defined!');e.from=Ef(e.from)}return e},Uz=function(e){return tt.isHexStrict(e)?e:tt.utf8ToHex(e)},T5=function(e){return e.blockNumber!==null&&(e.blockNumber=tt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=tt.hexToNumber(e.transactionIndex)),e.nonce=tt.hexToNumber(e.nonce),e.gas=tt.hexToNumber(e.gas),e.gasPrice&&(e.gasPrice=nu(e.gasPrice)),e.maxFeePerGas&&(e.maxFeePerGas=nu(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=nu(e.maxPriorityFeePerGas)),e.type&&(e.type=tt.hexToNumber(e.type)),e.value=nu(e.value),e.to&&tt.isAddress(e.to)?e.to=tt.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=tt.toChecksumAddress(e.from)),e},jz=function(e){if(typeof e!="object")throw new Error("Received receipt is invalid: "+e);return this.hexFormat||(e.blockNumber!==null&&(e.blockNumber=tt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=tt.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=tt.hexToNumber(e.cumulativeGasUsed),e.gasUsed=tt.hexToNumber(e.gasUsed),e.effectiveGasPrice&&(e.effectiveGasPrice=tt.hexToNumber(e.effectiveGasPrice))),Array.isArray(e.logs)&&(e.logs=e.logs.map(E5)),e.contractAddress&&(e.contractAddress=tt.toChecksumAddress(e.contractAddress)),typeof e.status<"u"&&e.status!==null&&(e.status=!!parseInt(e.status)),e},Gz=function(e){return e.gasLimit=tt.hexToNumber(e.gasLimit),e.gasUsed=tt.hexToNumber(e.gasUsed),e.size=tt.hexToNumber(e.size),e.timestamp=tt.hexToNumber(e.timestamp),e.number!==null&&(e.number=tt.hexToNumber(e.number)),e.difficulty&&(e.difficulty=nu(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=nu(e.totalDifficulty)),Array.isArray(e.transactions)&&e.transactions.forEach(function(t){if(typeof t!="string")return T5(t)}),e.miner&&(e.miner=tt.toChecksumAddress(e.miner)),e.baseFeePerGas&&(e.baseFeePerGas=tt.hexToNumber(e.baseFeePerGas)),e},Kz=function(e){var t=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:tt.fromUtf8(r))};return e===void 0&&(e={}),e.fromBlock===void 0&&(e={...e,fromBlock:"latest"}),(e.fromBlock||e.fromBlock===0)&&(e.fromBlock=Nd(e.fromBlock)),(e.toBlock||e.toBlock===0)&&(e.toBlock=Nd(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map(function(r){return Array.isArray(r)?r.map(t):t(r)}),t=null,e.address&&(e.address=Array.isArray(e.address)?e.address.map(function(r){return Ef(r)}):Ef(e.address)),e},E5=function(e){if(typeof e.blockHash=="string"&&typeof e.transactionHash=="string"&&typeof e.logIndex=="string"){var t=tt.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").slice(0,8)}else e.id||(e.id=null);return e.blockNumber!==null&&(e.blockNumber=tt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=tt.hexToNumber(e.transactionIndex)),e.logIndex!==null&&(e.logIndex=tt.hexToNumber(e.logIndex)),e.address&&(e.address=tt.toChecksumAddress(e.address)),e},Wz=function(e){return e.ttl&&(e.ttl=tt.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=tt.numberToHex(e.workToProve)),e.priority&&(e.priority=tt.numberToHex(e.priority)),Array.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(t){return t.indexOf("0x")===0?t:tt.fromUtf8(t)}),e},qz=function(e){return e.expiry=tt.hexToNumber(e.expiry),e.sent=tt.hexToNumber(e.sent),e.ttl=tt.hexToNumber(e.ttl),e.workProved=tt.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(t){return tt.toUtf8(t)}),e},Ef=function(e){var t=new Mz(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(tt.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error(`Provided address ${e} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},Vz=function(e){return e.startingBlock=tt.hexToNumber(e.startingBlock),e.currentBlock=tt.hexToNumber(e.currentBlock),e.highestBlock=tt.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=tt.hexToNumber(e.knownStates),e.pulledStates=tt.hexToNumber(e.pulledStates)),e},zz={inputDefaultBlockNumberFormatter:Fz,inputBlockNumberFormatter:Nd,inputCallFormatter:Hz,inputTransactionFormatter:$z,inputAddressFormatter:Ef,inputPostFormatter:Wz,inputLogFormatter:Kz,inputSignFormatter:Uz,inputStorageKeysFormatter:Lz,outputProofFormatter:kz,outputBigNumberFormatter:nu,outputTransactionFormatter:T5,outputTransactionReceiptFormatter:jz,outputBlockFormatter:Gz,outputLogFormatter:E5,outputPostFormatter:qz,outputSyncingFormatter:Vz},Yz=QV,Xz=zz,Jz={errors:Yz,formatters:Xz};(function(){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(S){return S&&DataView.prototype.isPrototypeOf(S)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(S){return S&&a.indexOf(Object.prototype.toString.call(S))>-1};function s(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(S))throw new TypeError("Invalid character in header field name");return S.toLowerCase()}function o(S){return typeof S!="string"&&(S=String(S)),S}function f(S){var D={next:function(){var w=S.shift();return{done:w===void 0,value:w}}};return r.iterable&&(D[Symbol.iterator]=function(){return D}),D}function u(S){this.map={},S instanceof u?S.forEach(function(D,w){this.append(w,D)},this):Array.isArray(S)?S.forEach(function(D){this.append(D[0],D[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(D){this.append(D,S[D])},this)}u.prototype.append=function(S,D){S=s(S),D=o(D);var w=this.map[S];this.map[S]=w?w+", "+D:D},u.prototype.delete=function(S){delete this.map[s(S)]},u.prototype.get=function(S){return S=s(S),this.has(S)?this.map[S]:null},u.prototype.has=function(S){return this.map.hasOwnProperty(s(S))},u.prototype.set=function(S,D){this.map[s(S)]=o(D)},u.prototype.forEach=function(S,D){for(var w in this.map)this.map.hasOwnProperty(w)&&S.call(D,this.map[w],w,this)},u.prototype.keys=function(){var S=[];return this.forEach(function(D,w){S.push(w)}),f(S)},u.prototype.values=function(){var S=[];return this.forEach(function(D){S.push(D)}),f(S)},u.prototype.entries=function(){var S=[];return this.forEach(function(D,w){S.push([w,D])}),f(S)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function c(S){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}function l(S){return new Promise(function(D,w){S.onload=function(){D(S.result)},S.onerror=function(){w(S.error)}})}function d(S){var D=new FileReader,w=l(D);return D.readAsArrayBuffer(S),w}function h(S){var D=new FileReader,w=l(D);return D.readAsText(S),w}function p(S){for(var D=new Uint8Array(S),w=new Array(D.length),T=0;T<D.length;T++)w[T]=String.fromCharCode(D[T]);return w.join("")}function m(S){if(S.slice)return S.slice(0);var D=new Uint8Array(S.byteLength);return D.set(new Uint8Array(S)),D.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(S){this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:r.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:r.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():r.arrayBuffer&&r.blob&&n(S)?(this._bodyArrayBuffer=m(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||i(S))?this._bodyArrayBuffer=m(S):this._bodyText=S=Object.prototype.toString.call(S):this._bodyText="",this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var S=c(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var S=c(this);if(S)return S;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(S){var D=S.toUpperCase();return b.indexOf(D)>-1?D:S}function y(S,D){D=D||{};var w=D.body;if(S instanceof y){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,D.headers||(this.headers=new u(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!w&&S._bodyInit!=null&&(w=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new u(D.headers)),this.method=g(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})};function C(S){var D=new FormData;return S.trim().split("&").forEach(function(w){if(w){var T=w.split("="),x=T.shift().replace(/\+/g," "),_=T.join("=").replace(/\+/g," ");D.append(decodeURIComponent(x),decodeURIComponent(_))}}),D}function I(S){var D=new u,w=S.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(T){var x=T.split(":"),_=x.shift().trim();if(_){var M=x.join(":").trim();D.append(_,M)}}),D}v.call(y.prototype);function P(S,D){D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new u(D.headers),this.url=D.url||"",this._initBody(S)}v.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},P.error=function(){var S=new P(null,{status:0,statusText:""});return S.type="error",S};var O=[301,302,303,307,308];P.redirect=function(S,D){if(O.indexOf(D)===-1)throw new RangeError("Invalid status code");return new P(null,{status:D,headers:{location:S}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(D,w){this.message=D,this.name=w;var T=Error(D);this.stack=T.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function N(S,D){return new Promise(function(w,T){var x=new y(S,D);if(x.signal&&x.signal.aborted)return T(new t.DOMException("Aborted","AbortError"));var _=new XMLHttpRequest;function M(){_.abort()}_.onload=function(){var L={status:_.status,statusText:_.statusText,headers:I(_.getAllResponseHeaders()||"")};L.url="responseURL"in _?_.responseURL:L.headers.get("X-Request-URL");var F="response"in _?_.response:_.responseText;w(new P(F,L))},_.onerror=function(){T(new TypeError("Network request failed"))},_.ontimeout=function(){T(new TypeError("Network request failed"))},_.onabort=function(){T(new t.DOMException("Aborted","AbortError"))},_.open(x.method,x.url,!0),x.credentials==="include"?_.withCredentials=!0:x.credentials==="omit"&&(_.withCredentials=!1),"responseType"in _&&r.blob&&(_.responseType="blob"),x.headers.forEach(function(L,F){_.setRequestHeader(F,L)}),x.signal&&(x.signal.addEventListener("abort",M),_.onreadystatechange=function(){_.readyState===4&&x.signal.removeEventListener("abort",M)}),_.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return N.polyfill=!0,e.fetch||(e.fetch=N,e.Headers=u,e.Request=y,e.Response=P),t.Headers=u,t.Request=y,t.Response=P,t.fetch=N,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:$)})();var S5={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($,function(){function r(se){var Ee=typeof se;return se!==null&&(Ee==="object"||Ee==="function")}function n(se){return typeof se=="function"}var a=void 0;Array.isArray?a=Array.isArray:a=function(se){return Object.prototype.toString.call(se)==="[object Array]"};var i=a,s=0,o=void 0,f=void 0,u=function(Ee,Se){P[s]=Ee,P[s+1]=Se,s+=2,s===2&&(f?f(O):S())};function c(se){f=se}function l(se){u=se}var d=typeof window<"u"?window:void 0,h=d||{},p=h.MutationObserver||h.WebKitMutationObserver,m=typeof self>"u"&&typeof vn<"u"&&{}.toString.call(vn)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){return function(){return vn.nextTick(O)}}function g(){return typeof o<"u"?function(){o(O)}:I()}function y(){var se=0,Ee=new p(O),Se=document.createTextNode("");return Ee.observe(Se,{characterData:!0}),function(){Se.data=se=++se%2}}function C(){var se=new MessageChannel;return se.port1.onmessage=O,function(){return se.port2.postMessage(0)}}function I(){var se=setTimeout;return function(){return se(O,1)}}var P=new Array(1e3);function O(){for(var se=0;se<s;se+=2){var Ee=P[se],Se=P[se+1];Ee(Se),P[se]=void 0,P[se+1]=void 0}s=0}function N(){try{var se=Function("return this")().require("vertx");return o=se.runOnLoop||se.runOnContext,g()}catch{return I()}}var S=void 0;m?S=b():p?S=y():v?S=C():d===void 0&&typeof q7=="function"?S=N():S=I();function D(se,Ee){var Se=this,Ne=new this.constructor(x);Ne[T]===void 0&&Ye(Ne);var Fe=Se._state;if(Fe){var Me=arguments[Fe-1];u(function(){return xe(Fe,Ne,Me,Se._result)})}else Ie(Se,Ne,se,Ee);return Ne}function w(se){var Ee=this;if(se&&typeof se=="object"&&se.constructor===Ee)return se;var Se=new Ee(x);return Q(Se,se),Se}var T=Math.random().toString(36).substring(2);function x(){}var _=void 0,M=1,L=2;function F(){return new TypeError("You cannot resolve a promise with itself")}function G(){return new TypeError("A promises callback cannot return that same promise.")}function U(se,Ee,Se,Ne){try{se.call(Ee,Se,Ne)}catch(Fe){return Fe}}function q(se,Ee,Se){u(function(Ne){var Fe=!1,Me=U(Se,Ee,function(Je){Fe||(Fe=!0,Ee!==Je?Q(Ne,Je):pe(Ne,Je))},function(Je){Fe||(Fe=!0,be(Ne,Je))},"Settle: "+(Ne._label||" unknown promise"));!Fe&&Me&&(Fe=!0,be(Ne,Me))},se)}function V(se,Ee){Ee._state===M?pe(se,Ee._result):Ee._state===L?be(se,Ee._result):Ie(Ee,void 0,function(Se){return Q(se,Se)},function(Se){return be(se,Se)})}function W(se,Ee,Se){Ee.constructor===se.constructor&&Se===D&&Ee.constructor.resolve===w?V(se,Ee):Se===void 0?pe(se,Ee):n(Se)?q(se,Ee,Se):pe(se,Ee)}function Q(se,Ee){if(se===Ee)be(se,F());else if(r(Ee)){var Se=void 0;try{Se=Ee.then}catch(Ne){be(se,Ne);return}W(se,Ee,Se)}else pe(se,Ee)}function te(se){se._onerror&&se._onerror(se._result),me(se)}function pe(se,Ee){se._state===_&&(se._result=Ee,se._state=M,se._subscribers.length!==0&&u(me,se))}function be(se,Ee){se._state===_&&(se._state=L,se._result=Ee,u(te,se))}function Ie(se,Ee,Se,Ne){var Fe=se._subscribers,Me=Fe.length;se._onerror=null,Fe[Me]=Ee,Fe[Me+M]=Se,Fe[Me+L]=Ne,Me===0&&se._state&&u(me,se)}function me(se){var Ee=se._subscribers,Se=se._state;if(Ee.length!==0){for(var Ne=void 0,Fe=void 0,Me=se._result,Je=0;Je<Ee.length;Je+=3)Ne=Ee[Je],Fe=Ee[Je+Se],Ne?xe(Se,Ne,Fe,Me):Fe(Me);se._subscribers.length=0}}function xe(se,Ee,Se,Ne){var Fe=n(Se),Me=void 0,Je=void 0,Ct=!0;if(Fe){try{Me=Se(Ne)}catch(j){Ct=!1,Je=j}if(Ee===Me){be(Ee,G());return}}else Me=Ne;Ee._state!==_||(Fe&&Ct?Q(Ee,Me):Ct===!1?be(Ee,Je):se===M?pe(Ee,Me):se===L&&be(Ee,Me))}function We(se,Ee){try{Ee(function(Ne){Q(se,Ne)},function(Ne){be(se,Ne)})}catch(Se){be(se,Se)}}var qe=0;function $e(){return qe++}function Ye(se){se[T]=qe++,se._state=void 0,se._result=void 0,se._subscribers=[]}function lt(){return new Error("Array Methods must be provided an Array")}var st=function(){function se(Ee,Se){this._instanceConstructor=Ee,this.promise=new Ee(x),this.promise[T]||Ye(this.promise),i(Se)?(this.length=Se.length,this._remaining=Se.length,this._result=new Array(this.length),this.length===0?pe(this.promise,this._result):(this.length=this.length||0,this._enumerate(Se),this._remaining===0&&pe(this.promise,this._result))):be(this.promise,lt())}return se.prototype._enumerate=function(Se){for(var Ne=0;this._state===_&&Ne<Se.length;Ne++)this._eachEntry(Se[Ne],Ne)},se.prototype._eachEntry=function(Se,Ne){var Fe=this._instanceConstructor,Me=Fe.resolve;if(Me===w){var Je=void 0,Ct=void 0,j=!1;try{Je=Se.then}catch(ye){j=!0,Ct=ye}if(Je===D&&Se._state!==_)this._settledAt(Se._state,Ne,Se._result);else if(typeof Je!="function")this._remaining--,this._result[Ne]=Se;else if(Fe===Ue){var he=new Fe(x);j?be(he,Ct):W(he,Se,Je),this._willSettleAt(he,Ne)}else this._willSettleAt(new Fe(function(ye){return ye(Se)}),Ne)}else this._willSettleAt(Me(Se),Ne)},se.prototype._settledAt=function(Se,Ne,Fe){var Me=this.promise;Me._state===_&&(this._remaining--,Se===L?be(Me,Fe):this._result[Ne]=Fe),this._remaining===0&&pe(Me,this._result)},se.prototype._willSettleAt=function(Se,Ne){var Fe=this;Ie(Se,void 0,function(Me){return Fe._settledAt(M,Ne,Me)},function(Me){return Fe._settledAt(L,Ne,Me)})},se}();function it(se){return new st(this,se).promise}function Ce(se){var Ee=this;return i(se)?new Ee(function(Se,Ne){for(var Fe=se.length,Me=0;Me<Fe;Me++)Ee.resolve(se[Me]).then(Se,Ne)}):new Ee(function(Se,Ne){return Ne(new TypeError("You must pass an array to race."))})}function De(se){var Ee=this,Se=new Ee(x);return be(Se,se),Se}function Rt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ft(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ue=function(){function se(Ee){this[T]=$e(),this._result=this._state=void 0,this._subscribers=[],x!==Ee&&(typeof Ee!="function"&&Rt(),this instanceof se?We(this,Ee):Ft())}return se.prototype.catch=function(Se){return this.then(null,Se)},se.prototype.finally=function(Se){var Ne=this,Fe=Ne.constructor;return n(Se)?Ne.then(function(Me){return Fe.resolve(Se()).then(function(){return Me})},function(Me){return Fe.resolve(Se()).then(function(){throw Me})}):Ne.then(Se,Se)},se}();Ue.prototype.then=D,Ue.all=it,Ue.race=Ce,Ue.resolve=w,Ue.reject=De,Ue._setScheduler=c,Ue._setAsap=l,Ue._asap=u;function ct(){var se=void 0;if(typeof $<"u")se=$;else if(typeof self<"u")se=self;else try{se=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ee=se.Promise;if(Ee){var Se=null;try{Se=Object.prototype.toString.call(Ee.resolve())}catch{}if(Se==="[object Promise]"&&!Ee.cast)return}se.Promise=Ue}return Ue.polyfill=ct,Ue.Promise=Ue,Ue})})(S5);var Qz=S5.exports;(function(e){e()})(function(){function e(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function t(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function r(b,g,y){return g&&t(b.prototype,g),y&&t(b,y),Object.defineProperty(b,"prototype",{writable:!1}),b}function n(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),g&&i(b,g)}function a(b){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},a(b)}function i(b,g){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,I){return C.__proto__=I,C},i(b,g)}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function f(b,g){if(g&&(typeof g=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(b)}function u(b){var g=s();return function(){var C=a(b),I;if(g){var P=a(this).constructor;I=Reflect.construct(C,arguments,P)}else I=C.apply(this,arguments);return f(this,I)}}function c(b,g){for(;!Object.prototype.hasOwnProperty.call(b,g)&&(b=a(b),b!==null););return b}function l(){return typeof Reflect<"u"&&Reflect.get?l=Reflect.get.bind():l=function(g,y,C){var I=c(g,y);if(I){var P=Object.getOwnPropertyDescriptor(I,y);return P.get?P.get.call(arguments.length<3?g:C):P.value}},l.apply(this,arguments)}var d=function(){function b(){e(this,b),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(b,[{key:"addEventListener",value:function(y,C,I){y in this.listeners||(this.listeners[y]=[]),this.listeners[y].push({callback:C,options:I})}},{key:"removeEventListener",value:function(y,C){if(y in this.listeners){for(var I=this.listeners[y],P=0,O=I.length;P<O;P++)if(I[P].callback===C){I.splice(P,1);return}}}},{key:"dispatchEvent",value:function(y){if(y.type in this.listeners){for(var C=this.listeners[y.type],I=C.slice(),P=0,O=I.length;P<O;P++){var N=I[P];try{N.callback.call(this,y)}catch(S){Promise.resolve().then(function(){throw S})}N.options&&N.options.once&&this.removeEventListener(y.type,N.callback)}return!y.defaultPrevented}}}]),b}(),h=function(b){n(y,b);var g=u(y);function y(){var C;return e(this,y),C=g.call(this),C.listeners||d.call(o(C)),Object.defineProperty(o(C),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(C),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(o(C),"reason",{value:void 0,writable:!0,configurable:!0}),C}return r(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(I){I.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,I)),l(a(y.prototype),"dispatchEvent",this).call(this,I)}}]),y}(d),p=function(){function b(){e(this,b),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return r(b,[{key:"abort",value:function(y){var C;try{C=new Event("abort")}catch{typeof document<"u"?document.createEvent?(C=document.createEvent("Event"),C.initEvent("abort",!1,!1)):(C=document.createEventObject(),C.type="abort"):C={type:"abort",bubbles:!1,cancelable:!1}}var I=y;if(I===void 0)if(typeof document>"u")I=new Error("This operation was aborted"),I.name="AbortError";else try{I=new DOMException("signal is aborted without reason")}catch{I=new Error("This operation was aborted"),I.name="AbortError"}this.signal.reason=I,this.signal.dispatchEvent(C)}},{key:"toString",value:function(){return"[object AbortController]"}}]),b}();typeof Symbol<"u"&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal");function m(b){return b.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof b.Request=="function"&&!b.Request.prototype.hasOwnProperty("signal")||!b.AbortController}function v(b){typeof b=="function"&&(b={fetch:b});var g=b,y=g.fetch,C=g.Request,I=C===void 0?y.Request:C,P=g.AbortController,O=g.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,N=O===void 0?!1:O;if(!m({fetch:y,Request:I,AbortController:P,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:N}))return{fetch:y,Request:S};var S=I;(S&&!S.prototype.hasOwnProperty("signal")||N)&&(S=function(x,_){var M;_&&_.signal&&(M=_.signal,delete _.signal);var L=new I(x,_);return M&&Object.defineProperty(L,"signal",{writable:!1,enumerable:!1,configurable:!0,value:M}),L},S.prototype=I.prototype);var D=y,w=function(x,_){var M=S&&S.prototype.isPrototypeOf(x)?x.signal:_?_.signal:void 0;if(M){var L;try{L=new DOMException("Aborted","AbortError")}catch{L=new Error("Aborted"),L.name="AbortError"}if(M.aborted)return Promise.reject(L);var F=new Promise(function(G,U){M.addEventListener("abort",function(){return U(L)},{once:!0})});return _&&_.signal&&delete _.signal,Promise.race([F,D(x,_)])}return D(x,_)};return{fetch:w,Request:S}}(function(b){if(m(b)){if(!b.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var g=v(b),y=g.fetch,C=g.Request;b.fetch=y,b.Request=C,Object.defineProperty(b,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:p}),Object.defineProperty(b,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:h})}})(typeof self<"u"?self:$)});var hg=Jz.errors,Zz=b2(),eY=XI();Qz.polyfill();var Vm=function(t,r){r=r||{},this.withCredentials=r.withCredentials,this.timeout=r.timeout||0,this.headers=r.headers,this.agent=r.agent,this.connected=!1;const n=r.keepAlive!==!1;this.host=t||"http://localhost:8545",this.agent||(this.host.substring(0,5)==="https"?this.httpsAgent=new eY.Agent({keepAlive:n}):this.httpAgent=new Zz.Agent({keepAlive:n}))};Vm.prototype.send=function(e,t){var r={method:"POST",body:JSON.stringify(e)},n={},a;if(typeof AbortController<"u"?a=new AbortController:typeof window<"u"&&typeof window.AbortController<"u"&&(a=new window.AbortController),typeof a<"u"&&(r.signal=a.signal),typeof XMLHttpRequest>"u"){var i={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent};this.agent&&(i.httpsAgent=this.agent.https,i.httpAgent=this.agent.http),this.host.substring(0,5)==="https"?r.agent=i.httpsAgent:r.agent=i.httpAgent}this.headers&&this.headers.forEach(function(f){n[f.name]=f.value}),n["Content-Type"]||(n["Content-Type"]="application/json"),this.withCredentials?r.credentials="include":r.credentials="omit",r.headers=n,this.timeout>0&&typeof a<"u"&&(this.timeoutId=setTimeout(function(){a.abort()},this.timeout));var s=function(f){this.timeoutId!==void 0&&clearTimeout(this.timeoutId),f.json().then(function(u){t(null,u)}).catch(function(u){t(hg.InvalidResponse(f))})},o=function(f){this.timeoutId!==void 0&&clearTimeout(this.timeoutId),f.name==="AbortError"&&t(hg.ConnectionTimeout(this.timeout)),t(hg.InvalidConnection(this.host))};fetch(this.host,r).then(s.bind(this)).catch(o.bind(this))};Vm.prototype.disconnect=function(){};Vm.prototype.supportsSubscriptions=function(){return!1};var tY=Vm,rY={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return typeof e=="object"&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){const r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+`" doesn't exist in this contract.`)},ContractReservedEventError:function(e){return new Error('The event "'+e+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},Sf=Qe,nY=lo,A5=ho,K0=pi,tl=po,H2=function(e){return Sf.isBN(e)},w5=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},Sh=function(e){try{return nY.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},aY=function(e){return"0x"+Sh(e).toTwos(256).toString(16,64)},C5=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:I5(e):!1},I5=function(e){e=e.replace(/^0x/i,"");for(var t=zm(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},iY=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},sY=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},P1=function(e){e=A5.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},oY=function(e){if(!ec(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return A5.decode(t)},P5=function(e){if(!e)return e;if(typeof e=="string"&&!ec(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Sh(e).toNumber()},uY=function(e){if(!e)return e;if(typeof e=="string"&&!ec(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Sh(e).toString(10)},N1=function(e){if(e==null)return e;if(!isFinite(e)&&!ec(e))throw new Error('Given input "'+e+'" is not a number.');var t=Sh(e),r=t.toString(16);return t.lt(new Sf(0))?"-0x"+r.slice(1):"0x"+r},cY=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},fY=function(e){if(e=e.toString(16),!ec(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},N5=function(e,t){if(C5(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!w5(e)&&!H2(e))return t?"string":P1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":N1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":P1(e)}return t?e<0?"int256":"uint256":N1(e)},ec=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},O5=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},lY=function(e){return e!==0&&O5(e)?e.replace(/^(-)?0x/i,"$1"):e},dY=function(e){return tl.isBloom(e)},hY=function(e,t){return tl.isUserEthereumAddressInBloom(e,t)},pY=function(e,t){return tl.isContractAddressInBloom(e,t)},mY=function(e){return tl.isTopic(e)},vY=function(e,t){return tl.isTopicInBloom(e,t)},bY=function(e,t){return tl.isInBloom(e,t)},x5="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",zm=function(e){H2(e)&&(e=e.toString()),ec(e)&&/^0x/i.test(e.toString())?e=K0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=K0.bufferToHex(K0.keccak256(e));return t===x5?null:t};zm._Hash=K0.keccak256;var gY=function(e){return e=zm(e),e===null?x5:e},yY=function(e){return typeof e=="number"?e:P5(N5(e))},$2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new Sf(t+r,16)}else return new Sf(e)};Object.setPrototypeOf($2,Sf);Object.setPrototypeOf($2.prototype,Sf.prototype);var R5={BN:$2,isBN:H2,isBigNumber:w5,toBN:Sh,isAddress:C5,isBloom:dY,isUserEthereumAddressInBloom:hY,isContractAddressInBloom:pY,isTopic:mY,isTopicInBloom:vY,isInBloom:bY,checkAddressChecksum:I5,utf8ToHex:P1,hexToUtf8:oY,hexToNumber:P5,hexToNumberString:uY,numberToHex:N1,toHex:N5,hexToBytes:fY,bytesToHex:cY,isHex:O5,isHexStrict:ec,stripHexPrefix:lY,leftPad:iY,rightPad:sY,toTwosComplement:aY,sha3:zm,sha3Raw:gY,toNumber:yY},au=Qe,Sa=R5,_Y=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},TY=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},EY=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},G3=function(e){var t=typeof e;if(t==="string")return Sa.isHexStrict(e)?new au(e.replace(/0x/i,""),16):new au(e,10);if(t==="number")return new au(e);if(Sa.isBigNumber(e))return new au(e.toString(10));if(Sa.isBN(e))return e;throw new Error(e+" is not a number")},K3=function(e,t,r){var n,a;if(e=_Y(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return Sa.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!Sa.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return Sa.leftPad(t.toLowerCase(),n)}}if(n=TY(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return Sa.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=G3(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new au(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?Sa.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=G3(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new au(0))?a.toTwos(n).toString("hex"):n?Sa.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},U2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=Sa.toHex(e,!0),r=Sa.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new au(r)),Array.isArray(r)){if(a=EY(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return K3(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=K3(t,r,a),n.toString("hex").replace("0x",""))},SY=function(){var e=Array.prototype.slice.call(arguments),t=e.map(U2);return Sa.sha3("0x"+t.join(""))},AY=function(){return Sa.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(U2).join(""))},wY=function(){var e=Array.prototype.slice.call(arguments),t=e.map(U2);return"0x"+t.join("").toLowerCase()},CY={soliditySha3:SY,soliditySha3Raw:AY,encodePacked:wY},ku=mo,gt=R5,pg=CY,IY=bo,W3=Qe,PY=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},NY=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+j2(!1,e.inputs).join(",")+")"},j2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=j2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},OY=function(e){return"0x"+IY(e).toString("hex")},q3=function(e){if(!gt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},V3=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},D5=function(e){if(e=e?e.toLowerCase():"ether",!ku.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(ku.unitMap,null,2));return e},xY=function(e,t){if(t=D5(t),!gt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return gt.isBN(e)?ku.fromWei(e,t):ku.fromWei(e,t).toString(10)},RY=function(e,t){if(t=D5(t),!gt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return gt.isBN(e)?ku.toWei(e,t):ku.toWei(e,t).toString(10)},DY=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=gt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},MY=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new W3(e),n=new W3(t);return r.lt(n)?-1:r.eq(n)?0:1}},M5={_fireError:PY,_jsonInterfaceMethodToString:NY,_flattenTypes:j2,randomHex:OY,BN:gt.BN,isBN:gt.isBN,isBigNumber:gt.isBigNumber,isHex:gt.isHex,isHexStrict:gt.isHexStrict,sha3:gt.sha3,sha3Raw:gt.sha3Raw,keccak256:gt.sha3,soliditySha3:pg.soliditySha3,soliditySha3Raw:pg.soliditySha3Raw,encodePacked:pg.encodePacked,isAddress:gt.isAddress,checkAddressChecksum:gt.checkAddressChecksum,toChecksumAddress:DY,toHex:gt.toHex,toBN:gt.toBN,bytesToHex:gt.bytesToHex,hexToBytes:gt.hexToBytes,hexToNumberString:gt.hexToNumberString,hexToNumber:gt.hexToNumber,toDecimal:gt.hexToNumber,numberToHex:gt.numberToHex,fromDecimal:gt.numberToHex,hexToUtf8:gt.hexToUtf8,hexToString:gt.hexToUtf8,toUtf8:gt.hexToUtf8,stripHexPrefix:gt.stripHexPrefix,utf8ToHex:gt.utf8ToHex,stringToHex:gt.utf8ToHex,fromUtf8:gt.utf8ToHex,hexToAscii:q3,toAscii:q3,asciiToHex:V3,fromAscii:V3,unitMap:ku.unitMap,toWei:RY,fromWei:xY,padLeft:gt.leftPad,leftPad:gt.leftPad,padRight:gt.rightPad,rightPad:gt.rightPad,toTwosComplement:gt.toTwosComplement,isBloom:gt.isBloom,isUserEthereumAddressInBloom:gt.isUserEthereumAddressInBloom,isContractAddressInBloom:gt.isContractAddressInBloom,isTopic:gt.isTopic,isTopicInBloom:gt.isTopicInBloom,isInBloom:gt.isInBloom,compareBlockNumbers:MY,toNumber:gt.toNumber};const z3=M5,Y3=Qe,LY=function(e,t){let r=e;for(;r.length<t*2;)r="0"+r;return r},X3=function(e){return e=e.toUpperCase(),e=e.slice(4)+e.slice(0,4),e.split("").map(function(n){const a=n.charCodeAt(0);return a>=65&&a<=90?a-65+10:n}).join("")},J3=function(e){let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=parseInt(r,10)%97+t.slice(r.length);return parseInt(t,10)%97};let kY=class $o{constructor(t){this._iban=t}static toAddress(t){if(t=new $o(t),!t.isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(t){return $o.fromAddress(t).toString()}static fromAddress(t){if(!z3.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");const n=new Y3(t,16).toString(36),a=LY(n,15);return $o.fromBban(a.toUpperCase())}static fromBban(t){const r="XE",a=("0"+(98-J3(X3(r+"00"+t)))).slice(-2);return new $o(r+a+t)}static createIndirect(t){return $o.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new $o(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&J3(X3(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const t=this._iban.slice(4),r=new Y3(t,36);return z3.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var BY=kY,rt=M5,FY=BY,HY=function(e){return e.map(rt.numberToHex)},$Y=function(e){return e.address=rt.toChecksumAddress(e.address),e.nonce=rt.hexToNumberString(e.nonce),e.balance=rt.hexToNumberString(e.balance),e},iu=function(e){return rt.toBN(e).toString(10)},UY=function(e){return e==="latest"||e==="pending"||e==="earliest"},jY=function(e){return this&&e==null?Od(this.defaultBlock):Od(e)},Od=function(e){if(e!==void 0)return UY(e)?e:e==="genesis"?"0x0":rt.isHexStrict(e)?typeof e=="string"?e.toLowerCase():e:rt.numberToHex(e)},L5=function(e){if(e.to&&(e.to=Af(e.to)),e.data&&e.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!rt.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),(e.maxPriorityFeePerGas||e.maxFeePerGas)&&delete e.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(t){return e[t]!==void 0}).forEach(function(t){e[t]=rt.numberToHex(e[t])}),e},GY=function(e){e=L5(e);var t=e.from||(this?this.defaultAccount:null);return t&&(e.from=Af(t)),e},KY=function(e){if(e=L5(e),typeof e.from!="number"&&!(e.from&&typeof e.from=="object")){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&typeof e.from!="number")throw new Error('The send transactions "from" field must be defined!');e.from=Af(e.from)}return e},WY=function(e){return rt.isHexStrict(e)?e:rt.utf8ToHex(e)},k5=function(e){return e.blockNumber!==null&&(e.blockNumber=rt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=rt.hexToNumber(e.transactionIndex)),e.nonce=rt.hexToNumber(e.nonce),e.gas=rt.hexToNumber(e.gas),e.gasPrice&&(e.gasPrice=iu(e.gasPrice)),e.maxFeePerGas&&(e.maxFeePerGas=iu(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=iu(e.maxPriorityFeePerGas)),e.type&&(e.type=rt.hexToNumber(e.type)),e.value=iu(e.value),e.to&&rt.isAddress(e.to)?e.to=rt.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=rt.toChecksumAddress(e.from)),e},qY=function(e){if(typeof e!="object")throw new Error("Received receipt is invalid: "+e);return this.hexFormat||(e.blockNumber!==null&&(e.blockNumber=rt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=rt.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=rt.hexToNumber(e.cumulativeGasUsed),e.gasUsed=rt.hexToNumber(e.gasUsed),e.effectiveGasPrice&&(e.effectiveGasPrice=rt.hexToNumber(e.effectiveGasPrice))),Array.isArray(e.logs)&&(e.logs=e.logs.map(B5)),e.contractAddress&&(e.contractAddress=rt.toChecksumAddress(e.contractAddress)),typeof e.status<"u"&&e.status!==null&&(e.status=!!parseInt(e.status)),e},VY=function(e){return e.gasLimit=rt.hexToNumber(e.gasLimit),e.gasUsed=rt.hexToNumber(e.gasUsed),e.size=rt.hexToNumber(e.size),e.timestamp=rt.hexToNumber(e.timestamp),e.number!==null&&(e.number=rt.hexToNumber(e.number)),e.difficulty&&(e.difficulty=iu(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=iu(e.totalDifficulty)),Array.isArray(e.transactions)&&e.transactions.forEach(function(t){if(typeof t!="string")return k5(t)}),e.miner&&(e.miner=rt.toChecksumAddress(e.miner)),e.baseFeePerGas&&(e.baseFeePerGas=rt.hexToNumber(e.baseFeePerGas)),e},zY=function(e){var t=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:rt.fromUtf8(r))};return e===void 0&&(e={}),e.fromBlock===void 0&&(e={...e,fromBlock:"latest"}),(e.fromBlock||e.fromBlock===0)&&(e.fromBlock=Od(e.fromBlock)),(e.toBlock||e.toBlock===0)&&(e.toBlock=Od(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map(function(r){return Array.isArray(r)?r.map(t):t(r)}),t=null,e.address&&(e.address=Array.isArray(e.address)?e.address.map(function(r){return Af(r)}):Af(e.address)),e},B5=function(e){if(typeof e.blockHash=="string"&&typeof e.transactionHash=="string"&&typeof e.logIndex=="string"){var t=rt.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").slice(0,8)}else e.id||(e.id=null);return e.blockNumber!==null&&(e.blockNumber=rt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=rt.hexToNumber(e.transactionIndex)),e.logIndex!==null&&(e.logIndex=rt.hexToNumber(e.logIndex)),e.address&&(e.address=rt.toChecksumAddress(e.address)),e},YY=function(e){return e.ttl&&(e.ttl=rt.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=rt.numberToHex(e.workToProve)),e.priority&&(e.priority=rt.numberToHex(e.priority)),Array.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(t){return t.indexOf("0x")===0?t:rt.fromUtf8(t)}),e},XY=function(e){return e.expiry=rt.hexToNumber(e.expiry),e.sent=rt.hexToNumber(e.sent),e.ttl=rt.hexToNumber(e.ttl),e.workProved=rt.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(t){return rt.toUtf8(t)}),e},Af=function(e){var t=new FY(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(rt.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error(`Provided address ${e} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},JY=function(e){return e.startingBlock=rt.hexToNumber(e.startingBlock),e.currentBlock=rt.hexToNumber(e.currentBlock),e.highestBlock=rt.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=rt.hexToNumber(e.knownStates),e.pulledStates=rt.hexToNumber(e.pulledStates)),e},QY={inputDefaultBlockNumberFormatter:jY,inputBlockNumberFormatter:Od,inputCallFormatter:GY,inputTransactionFormatter:KY,inputAddressFormatter:Af,inputPostFormatter:YY,inputLogFormatter:zY,inputSignFormatter:WY,inputStorageKeysFormatter:HY,outputProofFormatter:$Y,outputBigNumberFormatter:iu,outputTransactionFormatter:k5,outputTransactionReceiptFormatter:qY,outputBlockFormatter:VY,outputLogFormatter:B5,outputPostFormatter:XY,outputSyncingFormatter:JY},ZY=rY,eX=QY,tX={errors:ZY,formatters:eX},F5={exports:{}};/*!
 * v2.1.4-104-gc868b3a
 * 
 */(function(e,t){(function(n,a){e.exports=a()})(typeof self<"u"?self:$,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=n,a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=7)}([function(r,n,a){a.d(n,"j",function(){return s}),a.d(n,"d",function(){return o}),a.d(n,"c",function(){return f}),a.d(n,"h",function(){return u}),a.d(n,"b",function(){return c}),a.d(n,"k",function(){return l}),a.d(n,"e",function(){return d}),a.d(n,"g",function(){return h}),a.d(n,"i",function(){return p}),a.d(n,"a",function(){return m}),a.d(n,"f",function(){return v});var i=a(1),s=l(function(b,g){var y=g.length;return l(function(C){for(var I=0;I<C.length;I++)g[y+I]=C[I];return g.length=y+C.length,b.apply(this,g)})});l(function(b){var g=Object(i.c)(b);function y(C,I){return[c(C,I)]}return l(function(C){return Object(i.f)(y,C,g)[0]})});function o(b,g){return function(){return b.call(this,g.apply(this,arguments))}}function f(b){return function(g){return g[b]}}var u=l(function(b){return l(function(g){for(var y,C=0;C<f("length")(b);C++)if(y=c(g,b[C]),y)return y})});function c(b,g){return g.apply(void 0,b)}function l(b){var g=b.length-1,y=Array.prototype.slice;if(g===0)return function(){return b.call(this,y.call(arguments))};if(g===1)return function(){return b.call(this,arguments[0],y.call(arguments,1))};var C=Array(b.length);return function(){for(var I=0;I<g;I++)C[I]=arguments[I];return C[g]=y.call(arguments,g),b.apply(this,C)}}function d(b){return function(g,y){return b(y,g)}}function h(b,g){return function(y){return b(y)&&g(y)}}function p(){}function m(){return!0}function v(b){return function(){return b}}},function(r,n,a){a.d(n,"d",function(){return s}),a.d(n,"g",function(){return f}),a.d(n,"l",function(){return u}),a.d(n,"c",function(){return c}),a.d(n,"h",function(){return l}),a.d(n,"i",function(){return d}),a.d(n,"j",function(){return h}),a.d(n,"f",function(){return p}),a.d(n,"m",function(){return m}),a.d(n,"a",function(){return v}),a.d(n,"b",function(){return b}),a.d(n,"k",function(){return g}),a.d(n,"e",function(){return y});var i=a(0);function s(C,I){return[C,I]}var o=null,f=Object(i.c)(0),u=Object(i.c)(1);function c(C){return g(C.reduce(Object(i.e)(s),o))}var l=Object(i.k)(c);function d(C){return p(function(I,P){return I.unshift(P),I},[],C)}function h(C,I){return I?s(C(f(I)),h(C,u(I))):o}function p(C,I,P){return P?C(p(C,I,u(P)),f(P)):I}function m(C,I,P){return O(C,P||i.i);function O(N,S){return N?I(f(N))?(S(f(N)),u(N)):s(f(N),O(u(N),S)):o}}function v(C,I){return!I||C(f(I))&&v(C,u(I))}function b(C,I){C&&(f(C).apply(null,I),b(u(C),I))}function g(C){function I(P,O){return P?I(u(P),s(f(P),O)):O}return I(C,o)}function y(C,I){return I&&(C(f(I))?f(I):y(C,u(I)))}},function(r,n,a){a.d(n,"c",function(){return o}),a.d(n,"e",function(){return f}),a.d(n,"d",function(){return u}),a.d(n,"a",function(){return c}),a.d(n,"b",function(){return l});var i=a(1),s=a(0);function o(d,h){return h&&h.constructor===d}var f=Object(s.c)("length"),u=Object(s.j)(o,String);function c(d){return d!==void 0}function l(d,h){return h instanceof Object&&Object(i.a)(function(p){return p in h},d)}},function(r,n,a){a.d(n,"f",function(){return s}),a.d(n,"d",function(){return o}),a.d(n,"g",function(){return f}),a.d(n,"e",function(){return u}),a.d(n,"b",function(){return c}),a.d(n,"h",function(){return l}),a.d(n,"i",function(){return d}),a.d(n,"c",function(){return h}),a.d(n,"m",function(){return p}),a.d(n,"n",function(){return m}),a.d(n,"a",function(){return v}),a.d(n,"j",function(){return b}),a.d(n,"l",function(){return g}),a.d(n,"k",function(){return y}),a.d(n,"o",function(){return C});var i=1,s=i++,o=i++,f=i++,u=i++,c="fail",l=i++,d=i++,h="start",p="data",m="end",v=i++,b=i++,g=i++,y=i++;function C(I,P,O){try{var N=JSON.parse(P)}catch{}return{statusCode:I,body:P,jsonBody:N,thrown:O}}},function(r,n,a){a.d(n,"b",function(){return s}),a.d(n,"a",function(){return o}),a.d(n,"c",function(){return f});var i=a(0);function s(u,c){return{key:u,node:c}}var o=Object(i.c)("key"),f=Object(i.c)("node")},function(r,n,a){a.d(n,"a",function(){return c});var i=a(1),s=a(0),o=a(2),f=a(8),u=a(9);function c(l){var d=Object(i.h)("resume","pause","pipe"),h=Object(s.j)(o.b,d);return l?h(l)||Object(o.d)(l)?Object(f.a)(u.a,l):Object(f.a)(u.a,l.url,l.method,l.body,l.headers,l.withCredentials,l.cached):Object(u.a)()}c.drop=function(){return c.drop}},function(r,n,a){a.d(n,"b",function(){return c}),a.d(n,"a",function(){return u});var i=a(3),s=a(4),o=a(2),f=a(1),u={};function c(l){var d=l(i.f).emit,h=l(i.d).emit,p=l(i.i).emit,m=l(i.h).emit;function v(P,O){var N=Object(s.c)(Object(f.g)(P));return Object(o.c)(Array,N)?y(P,Object(o.e)(N),O):P}function b(P,O){if(!P)return p(O),y(P,u,O);var N=v(P,O),S=Object(f.l)(N),D=Object(s.a)(Object(f.g)(N));return g(S,D,O),Object(f.d)(Object(s.b)(D,O),S)}function g(P,O,N){Object(s.c)(Object(f.g)(P))[O]=N}function y(P,O,N){P&&g(P,O,N);var S=Object(f.d)(Object(s.b)(O,N),P);return d(S),S}function C(P){return h(P),Object(f.l)(P)||m(Object(s.c)(Object(f.g)(P)))}var I={};return I[i.l]=b,I[i.k]=C,I[i.j]=y,I}},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(5);n.default=i.a},function(r,n,a){a.d(n,"a",function(){return s});var i=a(2);function s(o,f,u,c,l,d,h){l=l?JSON.parse(JSON.stringify(l)):{},c?(Object(i.d)(c)||(c=JSON.stringify(c),l["Content-Type"]=l["Content-Type"]||"application/json"),l["Content-Length"]=l["Content-Length"]||c.length):c=null;function p(m,v){return v===!1&&(m.indexOf("?")===-1?m+="?":m+="&",m+="_="+new Date().getTime()),m}return o(u||"GET",p(f,h),c,l,d||!1)}},function(r,n,a){a.d(n,"a",function(){return h});var i=a(10),s=a(12),o=a(6),f=a(13),u=a(14),c=a(16),l=a(17),d=a(18);function h(p,m,v,b,g){var y=Object(i.a)();return m&&Object(d.b)(y,Object(d.a)(),p,m,v,b,g),Object(l.a)(y),Object(s.a)(y,Object(o.b)(y)),Object(f.a)(y,u.a),Object(c.a)(y,m)}},function(r,n,a){a.d(n,"a",function(){return o});var i=a(11),s=a(0);function o(){var f={},u=l("newListener"),c=l("removeListener");function l(h){return f[h]=Object(i.a)(h,u,c),f[h]}function d(h){return f[h]||l(h)}return["emit","on","un"].forEach(function(h){d[h]=Object(s.k)(function(p,m){Object(s.b)(m,d(p)[h])})}),d}},function(r,n,a){a.d(n,"a",function(){return f});var i=a(1),s=a(2),o=a(0);function f(u,c,l){var d,h;function p(m){return function(v){return v.id===m}}return{on:function(m,v){var b={listener:m,id:v||m};return c&&c.emit(u,m,b.id),d=Object(i.d)(b,d),h=Object(i.d)(m,h),this},emit:function(){Object(i.b)(h,arguments)},un:function(m){var v;d=Object(i.m)(d,p(m),function(b){v=b}),v&&(h=Object(i.m)(h,function(b){return b===v.listener}),l&&l.emit(u,v.listener,v.id))},listeners:function(){return h},hasListener:function(m){var v=m?p(m):o.a;return Object(s.a)(Object(i.e)(v,d))}}}},function(r,n,a){a.d(n,"a",function(){return f});var i=a(4),s=a(3),o=a(1);function f(u,c){var l={},d;function h(m){return function(v){d=m(d,v)}}for(var p in c)u(p).on(h(c[p]),l);u(s.g).on(function(m){var v=Object(o.g)(d),b=Object(i.a)(v),g=Object(o.l)(d),y;g&&(y=Object(i.c)(Object(o.g)(g)),y[b]=m)}),u(s.e).on(function(){var m=Object(o.g)(d),v=Object(i.a)(m),b=Object(o.l)(d),g;b&&(g=Object(i.c)(Object(o.g)(b)),delete g[v])}),u(s.a).on(function(){for(var m in c)u(m).un(l)})}},function(r,n,a){a.d(n,"a",function(){return f});var i=a(3),s=a(1),o=a(4);function f(u,c){var l={node:u(i.d),path:u(i.f)};function d(p,m,v){var b=Object(s.k)(v);p(m,Object(s.i)(Object(s.l)(Object(s.j)(o.a,b))),Object(s.i)(Object(s.j)(o.c,b)))}function h(p,m,v){var b=u(p).emit;m.on(function(g){var y=v(g);y!==!1&&d(b,Object(o.c)(y),g)},p),u("removeListener").on(function(g){g===p&&(u(g).listeners()||m.un(p))})}u("newListener").on(function(p){var m=/(node|path):(.*)/.exec(p);if(m){var v=l[m[1]];v.hasListener(p)||h(p,v,c(m[2]))}})}},function(r,n,a){a.d(n,"a",function(){return l});var i=a(0),s=a(1),o=a(4),f=a(2),u=a(6),c=a(15),l=Object(c.a)(function(d,h,p,m,v){var b=1,g=2,y=3,C=Object(i.d)(o.a,s.g),I=Object(i.d)(o.c,s.g);function P(U,q){var V=q[g],W=!V||V==="*"?i.a:function(Q){return String(C(Q))===V};return Object(i.g)(W,U)}function O(U,q){var V=q[y];if(!V)return U;var W=Object(i.j)(f.b,Object(s.c)(V.split(/\W+/))),Q=Object(i.d)(W,I);return Object(i.g)(Q,U)}function N(U,q){var V=!!q[b];return V?Object(i.g)(U,s.g):U}function S(U){if(U===i.a)return i.a;function q(V){return C(V)!==u.a}return Object(i.g)(q,Object(i.d)(U,s.l))}function D(U){if(U===i.a)return i.a;var q=w(),V=U,W=S(function(te){return Q(te)}),Q=Object(i.h)(q,V,W);return Q}function w(){return function(U){return C(U)===u.a}}function T(U){return function(q){var V=U(q);return V===!0?Object(s.g)(q):V}}function x(U,q,V){return Object(s.f)(function(W,Q){return Q(W,V)},q,U)}function _(U,q,V,W,Q){var te=U(V);if(te){var pe=x(q,W,te),be=V.substr(Object(f.e)(te[0]));return Q(be,pe)}}function M(U,q){return Object(i.j)(_,U,q)}var L=Object(i.h)(M(d,Object(s.h)(N,O,P,S)),M(h,Object(s.h)(D)),M(p,Object(s.h)()),M(m,Object(s.h)(N,w)),M(v,Object(s.h)(T)),function(U){throw Error('"'+U+'" could not be tokenised')});function F(U,q){return q}function G(U,q){var V=U?G:F;return L(U,q,V)}return function(U){try{return G(U,i.a)}catch(q){throw Error('Could not compile "'+U+'" because '+q.message)}}})},function(r,n,a){a.d(n,"a",function(){return s});var i=a(0),s=function(){var o=function(S){return S.exec.bind(S)},f=Object(i.k)(function(N){return N.unshift(/^/),o(RegExp(N.map(Object(i.c)("source")).join("")))}),u=/(\$?)/,c=/([\w-_]+|\*)/,l=/()/,d=/\["([^"]+)"\]/,h=/\[(\d+|\*)\]/,p=/{([\w ]*?)}/,m=/(?:{([\w ]*?)})?/,v=f(u,c,m),b=f(u,d,m),g=f(u,h,m),y=f(u,l,p),C=f(/\.\./),I=f(/\./),P=f(u,/!/),O=f(/$/);return function(N){return N(Object(i.h)(v,b,g,y),C,I,P,O)}}()},function(r,n,a){a.d(n,"a",function(){return u});var i=a(3),s=a(0),o=a(2),f=a(5);function u(c,l){var d,h=/^(node|path):./,p=c(i.h),m=c(i.e).emit,v=c(i.g).emit,b=Object(s.k)(function(w,T){if(d[w])Object(s.b)(T,d[w]);else{var x=c(w),_=T[0];h.test(w)?C(x,O(_)):x.on(_)}return d}),g=function(w,T,x){if(w==="done")p.un(T);else if(w==="node"||w==="path")c.un(w+":"+T,x);else{var _=T;c(w).un(_)}return d};function y(w,T){return c(w).on(I(T),T),d}function C(w,T,x){x=x||T;var _=I(T);return w.on(function(){var M=!1;d.forget=function(){M=!0},Object(s.b)(arguments,_),delete d.forget,M&&w.un(x)},x),d}function I(w){return function(){try{return w.apply(d,arguments)}catch(T){setTimeout(function(){throw new Error(T.message)})}}}function P(w,T){return c(w+":"+T)}function O(w){return function(){var T=w.apply(this,arguments);Object(o.a)(T)&&(T===f.a.drop?m():v(T))}}function N(w,T,x){var _;w==="node"?_=O(x):_=x,C(P(w,T),_,x)}function S(w,T){for(var x in T)N(w,x,T[x])}function D(w,T,x){return Object(o.d)(T)?N(w,T,x):S(w,T),d}return c(i.i).on(function(w){d.root=Object(s.f)(w)}),c(i.c).on(function(w,T){d.header=function(x){return x?T[x]:T}}),d={on:b,addListener:b,removeListener:g,emit:c.emit,node:Object(s.j)(D,"node"),path:Object(s.j)(D,"path"),done:Object(s.j)(C,p),start:Object(s.j)(y,i.c),fail:c(i.b).on,abort:c(i.a).emit,header:s.i,root:s.i,source:l},d}},function(r,n,a){a.d(n,"a",function(){return s});var i=a(3);function s(o){var f=o(i.j).emit,u=o(i.l).emit,c=o(i.k).emit,l=o(i.b).emit,d=64*1024,h=/[\\"\n]/g,p=0,m=p++,v=p++,b=p++,g=p++,y=p++,C=p++,I=p++,P=p++,O=p++,N=p++,S=p++,D=p++,w=p++,T=p++,x=p++,_=p++,M=p++,L=p++,F=p++,G=p++,U=p,q=d,V,W,Q,te,pe="",be=!1,Ie=!1,me=m,xe=[],We=null,qe=0,$e=0,Ye=0,lt=0,st=1;function it(){var Ue=0;te!==void 0&&te.length>d&&(Ce("Max buffer length exceeded: textNode"),Ue=Math.max(Ue,te.length)),pe.length>d&&(Ce("Max buffer length exceeded: numberNode"),Ue=Math.max(Ue,pe.length)),q=d-Ue+Ye}o(i.m).on(Ft),o(i.n).on(De);function Ce(Ue){te!==void 0&&(u(te),c(),te=void 0),V=Error(Ue+`
Ln: `+st+`
Col: `+lt+`
Chr: `+W),l(Object(i.o)(void 0,void 0,V))}function De(){if(me===m){u({}),c(),Ie=!0;return}(me!==v||$e!==0)&&Ce("Unexpected end"),te!==void 0&&(u(te),c(),te=void 0),Ie=!0}function Rt(Ue){return Ue==="\r"||Ue===`
`||Ue===" "||Ue==="	"}function Ft(Ue){if(!V){if(Ie)return Ce("Cannot write after close");var ct=0;for(W=Ue[0];W&&(ct>0&&(Q=W),W=Ue[ct++],!!W);)switch(Ye++,W===`
`?(st++,lt=0):lt++,me){case m:if(W==="{")me=b;else if(W==="[")me=y;else if(!Rt(W))return Ce("Non-whitespace before {[.");continue;case P:case b:if(Rt(W))continue;if(me===P)xe.push(O);else if(W==="}"){u({}),c(),me=xe.pop()||v;continue}else xe.push(g);if(W==='"')me=I;else return Ce('Malformed object key should start with " ');continue;case O:case g:if(Rt(W))continue;if(W===":")me===g?(xe.push(g),te!==void 0&&(u({}),f(te),te=void 0),$e++):te!==void 0&&(f(te),te=void 0),me=v;else if(W==="}")te!==void 0&&(u(te),c(),te=void 0),c(),$e--,me=xe.pop()||v;else if(W===",")me===g&&xe.push(g),te!==void 0&&(u(te),c(),te=void 0),me=P;else return Ce("Bad object");continue;case y:case v:if(Rt(W))continue;if(me===y)if(u([]),$e++,me=v,W==="]"){c(),$e--,me=xe.pop()||v;continue}else xe.push(C);if(W==='"')me=I;else if(W==="{")me=b;else if(W==="[")me=y;else if(W==="t")me=N;else if(W==="f")me=w;else if(W==="n")me=M;else if(W==="-")pe+=W;else if(W==="0")pe+=W,me=U;else if("123456789".indexOf(W)!==-1)pe+=W,me=U;else return Ce("Bad value");continue;case C:if(W===",")xe.push(C),te!==void 0&&(u(te),c(),te=void 0),me=v;else if(W==="]")te!==void 0&&(u(te),c(),te=void 0),c(),$e--,me=xe.pop()||v;else{if(Rt(W))continue;return Ce("Bad array")}continue;case I:te===void 0&&(te="");var se=ct-1;e:for(;;){for(;qe>0;)if(We+=W,W=Ue.charAt(ct++),qe===4?(te+=String.fromCharCode(parseInt(We,16)),qe=0,se=ct-1):qe++,!W)break e;if(W==='"'&&!be){me=xe.pop()||v,te+=Ue.substring(se,ct-1);break}if(W==="\\"&&!be&&(be=!0,te+=Ue.substring(se,ct-1),W=Ue.charAt(ct++),!W))break;if(be){if(be=!1,W==="n"?te+=`
`:W==="r"?te+="\r":W==="t"?te+="	":W==="f"?te+="\f":W==="b"?te+="\b":W==="u"?(qe=1,We=""):te+=W,W=Ue.charAt(ct++),se=ct-1,W)continue;break}h.lastIndex=ct;var Ee=h.exec(Ue);if(!Ee){ct=Ue.length+1,te+=Ue.substring(se,ct-1);break}if(ct=Ee.index+1,W=Ue.charAt(Ee.index),!W){te+=Ue.substring(se,ct-1);break}}continue;case N:if(!W)continue;if(W==="r")me=S;else return Ce("Invalid true started with t"+W);continue;case S:if(!W)continue;if(W==="u")me=D;else return Ce("Invalid true started with tr"+W);continue;case D:if(!W)continue;if(W==="e")u(!0),c(),me=xe.pop()||v;else return Ce("Invalid true started with tru"+W);continue;case w:if(!W)continue;if(W==="a")me=T;else return Ce("Invalid false started with f"+W);continue;case T:if(!W)continue;if(W==="l")me=x;else return Ce("Invalid false started with fa"+W);continue;case x:if(!W)continue;if(W==="s")me=_;else return Ce("Invalid false started with fal"+W);continue;case _:if(!W)continue;if(W==="e")u(!1),c(),me=xe.pop()||v;else return Ce("Invalid false started with fals"+W);continue;case M:if(!W)continue;if(W==="u")me=L;else return Ce("Invalid null started with n"+W);continue;case L:if(!W)continue;if(W==="l")me=F;else return Ce("Invalid null started with nu"+W);continue;case F:if(!W)continue;if(W==="l")u(null),c(),me=xe.pop()||v;else return Ce("Invalid null started with nul"+W);continue;case G:if(W===".")pe+=W,me=U;else return Ce("Leading zero not followed by .");continue;case U:if("0123456789".indexOf(W)!==-1)pe+=W;else if(W==="."){if(pe.indexOf(".")!==-1)return Ce("Invalid number has two dots");pe+=W}else if(W==="e"||W==="E"){if(pe.indexOf("e")!==-1||pe.indexOf("E")!==-1)return Ce("Invalid number has two exponential");pe+=W}else if(W==="+"||W==="-"){if(!(Q==="e"||Q==="E"))return Ce("Invalid symbol in number");pe+=W}else pe&&(u(parseFloat(pe)),c(),pe=""),ct--,me=xe.pop()||v;continue;default:return Ce("Unknown state: "+me)}Ye>=q&&it()}}}},function(r,n,a){a.d(n,"a",function(){return c}),a.d(n,"b",function(){return l});var i=a(19),s=a(3),o=a(2),f=a(20),u=a(0);function c(){return new XMLHttpRequest}function l(d,h,p,m,v,b,g){var y=d(s.m).emit,C=d(s.b).emit,I=0,P=!0;d(s.a).on(function(){h.onreadystatechange=null,h.abort()});function O(){if(String(h.status)[0]==="2"){var D=h.responseText,w=(" "+D.substr(I)).substr(1);w&&y(w),I=Object(o.e)(D)}}"onprogress"in h&&(h.onprogress=O);function N(D){try{P&&d(s.c).emit(D.status,Object(f.a)(D.getAllResponseHeaders())),P=!1}catch{}}h.onreadystatechange=function(){switch(h.readyState){case 2:case 3:return N(h);case 4:N(h);var D=String(h.status)[0]==="2";D?(O(),d(s.n).emit()):C(Object(s.o)(h.status,h.responseText))}};try{h.open(p,m,!0);for(var S in b)h.setRequestHeader(S,b[S]);Object(i.a)(window.location,Object(i.b)(m))||h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.withCredentials=g,h.send(v)}catch(D){window.setTimeout(Object(u.j)(C,Object(s.o)(void 0,void 0,D)),0)}}},function(r,n,a){a.d(n,"a",function(){return i}),a.d(n,"b",function(){return s});function i(o,f){function u(l){return{"http:":80,"https:":443}[l]}function c(l){return String(l.port||u(l.protocol||o.protocol))}return!!(f.protocol&&f.protocol!==o.protocol||f.host&&f.host!==o.host||f.host&&c(f)!==c(o))}function s(o){var f=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/,u=f.exec(o)||[];return{protocol:u[1]||"",host:u[2]||"",port:u[3]||""}}},function(r,n,a){a.d(n,"a",function(){return i});function i(s){var o={};return s&&s.split(`\r
`).forEach(function(f){var u=f.indexOf(": ");o[f.substring(0,u)]=f.substring(u+2)}),o}}]).default})})(F5);var rX=F5.exports,H5=tX.errors,nX=rX,ka=function(t,r){var n=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=t,this.connected=!1,this.connection=r.connect({path:this.path}),this.addDefaultEvents();var a=function(i){var s=null;Array.isArray(i)?i.forEach(function(o){n.responseCallbacks[o.id]&&(s=o.id)}):s=i.id,!s&&i.method.indexOf("_subscription")!==-1?n.notificationCallbacks.forEach(function(o){typeof o=="function"&&o(i)}):n.responseCallbacks[s]&&(n.responseCallbacks[s](null,i),delete n.responseCallbacks[s])};r.constructor.name==="Socket"?nX(this.connection).done(a):this.connection.on("data",function(i){n._parseResponse(i.toString()).forEach(a)})};ka.prototype.addDefaultEvents=function(){var e=this;this.connection.on("connect",function(){e.connected=!0}),this.connection.on("close",function(){e.connected=!1}),this.connection.on("error",function(){e._timeout()}),this.connection.on("end",function(){e._timeout()}),this.connection.on("timeout",function(){e._timeout()})};ka.prototype._parseResponse=function(e){var t=this,r=[],n=e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|");return n.forEach(function(a){t.lastChunk&&(a=t.lastChunk+a);var i=null;try{i=JSON.parse(a)}catch{t.lastChunk=a,clearTimeout(t.lastChunkTimeout),t.lastChunkTimeout=setTimeout(function(){throw t._timeout(),H5.InvalidResponse(a)},1e3*15);return}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,i&&r.push(i)}),r};ka.prototype._addResponseCallback=function(e,t){var r=e.id||e[0].id,n=e.method||e[0].method;this.responseCallbacks[r]=t,this.responseCallbacks[r].method=n};ka.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](H5.InvalidConnection("on IPC")),delete this.responseCallbacks[e])};ka.prototype.reconnect=function(){this.connection.connect({path:this.path})};ka.prototype.send=function(e,t){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(e)),this._addResponseCallback(e,t)};ka.prototype.on=function(e,t){if(typeof t!="function")throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.notificationCallbacks.push(t);break;default:this.connection.on(e,t);break}};ka.prototype.once=function(e,t){if(typeof t!="function")throw new Error("The second parameter callback must be a function.");this.connection.once(e,t)};ka.prototype.removeListener=function(e,t){var r=this;switch(e){case"data":this.notificationCallbacks.forEach(function(n,a){n===t&&r.notificationCallbacks.splice(a,1)});break;default:this.connection.removeListener(e,t);break}};ka.prototype.removeAllListeners=function(e){switch(e){case"data":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(e);break}};ka.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()};ka.prototype.supportsSubscriptions=function(){return!0};var aX=ka;const{callbackify:iX}=m_;var Bu=KP.errors,G2=WP,sX=Eq,oX=Sq,ti=function e(t,r){this.provider=null,this.providers=e.providers,this.setProvider(t,r),this.subscriptions=new Map};ti.givenProvider=oX;ti.providers={WebsocketProvider:JV,HttpProvider:tY,IpcProvider:aX};ti.prototype.setProvider=function(e,t){var r=this;if(e&&typeof e=="string"&&this.providers){if(/^http(s)?:\/\//i.test(e))e=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))e=new this.providers.WebsocketProvider(e);else if(e&&typeof t=="object"&&typeof t.connect=="function")e=new this.providers.IpcProvider(e,t);else if(e)throw new Error(`Can't autodetect provider for "`+e+'"')}if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=e||null,this.provider&&this.provider.on){typeof e.request=="function"?this.provider.on("message",function(a){if(a&&a.type==="eth_subscription"&&a.data){const i=a.data;i.subscription&&r.subscriptions.has(i.subscription)&&r.subscriptions.get(i.subscription).callback(null,i.result)}}):this.provider.on("data",function(i,s){i=i||s,i.method&&i.params&&i.params.subscription&&r.subscriptions.has(i.params.subscription)&&r.subscriptions.get(i.params.subscription).callback(null,i.params.result)}),this.provider.on("connect",function(){r.subscriptions.forEach(function(i){i.subscription.resubscribe()})}),this.provider.on("error",function(a){r.subscriptions.forEach(function(i){i.callback(a)})});const n=function(i){(!r._isCleanCloseEvent(i)||r._isIpcCloseError(i))&&(r.subscriptions.forEach(function(s){s.callback(Bu.ConnectionCloseError(i)),r.subscriptions.delete(s.subscription.id)}),r.provider&&r.provider.emit&&r.provider.emit("error",Bu.ConnectionCloseError(i))),r.provider&&r.provider.emit&&r.provider.emit("end",i)};this.provider.on("disconnect",n)}};ti.prototype.send=function(e,t){if(t=t||function(){},!this.provider)return t(Bu.InvalidProvider());const{method:r,params:n}=e,a=G2.toPayload(r,n),i=this._jsonrpcResultCallback(t,a);if(this.provider.request)iX(this.provider.request.bind(this.provider))({method:r,params:n},t);else if(this.provider.sendAsync)this.provider.sendAsync(a,i);else if(this.provider.send)this.provider.send(a,i);else throw new Error("Provider does not have a request or send method to use.")};ti.prototype.sendBatch=function(e,t){if(!this.provider)return t(Bu.InvalidProvider());var r=G2.toBatchPayload(e);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,function(n,a){if(n)return t(n);if(!Array.isArray(a))return t(Bu.InvalidResponse(a));t(null,a)})};ti.prototype.addSubscription=function(e,t){if(this.provider.on)this.subscriptions.set(e.id,{callback:t,subscription:e});else throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name)};ti.prototype.removeSubscription=function(e,t){if(this.subscriptions.has(e)){var r=this.subscriptions.get(e).subscription.options.type;this.subscriptions.delete(e),this.send({method:r+"_unsubscribe",params:[e]},t);return}typeof t=="function"&&t(null)};ti.prototype.clearSubscriptions=function(e){try{var t=this;return this.subscriptions.size>0&&this.subscriptions.forEach(function(r,n){(!e||r.name!=="syncing")&&t.removeSubscription(n)}),this.provider.reset&&this.provider.reset(),!0}catch(r){throw new Error(`Error while clearing subscriptions: ${r}`)}};ti.prototype._isCleanCloseEvent=function(e){return typeof e=="object"&&([1e3].includes(e.code)||e.wasClean===!0)};ti.prototype._isIpcCloseError=function(e){return typeof e=="boolean"&&e};ti.prototype._jsonrpcResultCallback=function(e,t){return function(r,n){if(n&&n.id&&t.id!==n.id)return e(new Error(`Wrong response id ${n.id} (expected: ${t.id}) in ${JSON.stringify(t)}`));if(r)return e(r);if(n&&n.error)return e(Bu.ErrorResponse(n));if(!G2.isValidResponse(n))return e(Bu.InvalidResponse(n));e(null,n.result)}};var uX={Manager:ti,BatchManager:sX},cX={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return typeof e=="object"&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){const r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+`" doesn't exist in this contract.`)},ContractReservedEventError:function(e){return new Error('The event "'+e+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},wf=Qe,fX=lo,$5=ho,W0=pi,rl=po,K2=function(e){return wf.isBN(e)},U5=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},Ah=function(e){try{return fX.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},lX=function(e){return"0x"+Ah(e).toTwos(256).toString(16,64)},j5=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:G5(e):!1},G5=function(e){e=e.replace(/^0x/i,"");for(var t=Ym(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},dX=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},hX=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},O1=function(e){e=$5.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},pX=function(e){if(!tc(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return $5.decode(t)},K5=function(e){if(!e)return e;if(typeof e=="string"&&!tc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Ah(e).toNumber()},mX=function(e){if(!e)return e;if(typeof e=="string"&&!tc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Ah(e).toString(10)},x1=function(e){if(e==null)return e;if(!isFinite(e)&&!tc(e))throw new Error('Given input "'+e+'" is not a number.');var t=Ah(e),r=t.toString(16);return t.lt(new wf(0))?"-0x"+r.slice(1):"0x"+r},vX=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},bX=function(e){if(e=e.toString(16),!tc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},W5=function(e,t){if(j5(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!U5(e)&&!K2(e))return t?"string":O1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":x1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":O1(e)}return t?e<0?"int256":"uint256":x1(e)},tc=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},q5=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},gX=function(e){return e!==0&&q5(e)?e.replace(/^(-)?0x/i,"$1"):e},yX=function(e){return rl.isBloom(e)},_X=function(e,t){return rl.isUserEthereumAddressInBloom(e,t)},TX=function(e,t){return rl.isContractAddressInBloom(e,t)},EX=function(e){return rl.isTopic(e)},SX=function(e,t){return rl.isTopicInBloom(e,t)},AX=function(e,t){return rl.isInBloom(e,t)},V5="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Ym=function(e){K2(e)&&(e=e.toString()),tc(e)&&/^0x/i.test(e.toString())?e=W0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=W0.bufferToHex(W0.keccak256(e));return t===V5?null:t};Ym._Hash=W0.keccak256;var wX=function(e){return e=Ym(e),e===null?V5:e},CX=function(e){return typeof e=="number"?e:K5(W5(e))},W2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new wf(t+r,16)}else return new wf(e)};Object.setPrototypeOf(W2,wf);Object.setPrototypeOf(W2.prototype,wf.prototype);var z5={BN:W2,isBN:K2,isBigNumber:U5,toBN:Ah,isAddress:j5,isBloom:yX,isUserEthereumAddressInBloom:_X,isContractAddressInBloom:TX,isTopic:EX,isTopicInBloom:SX,isInBloom:AX,checkAddressChecksum:G5,utf8ToHex:O1,hexToUtf8:pX,hexToNumber:K5,hexToNumberString:mX,numberToHex:x1,toHex:W5,hexToBytes:bX,bytesToHex:vX,isHex:q5,isHexStrict:tc,stripHexPrefix:gX,leftPad:dX,rightPad:hX,toTwosComplement:lX,sha3:Ym,sha3Raw:wX,toNumber:CX},su=Qe,Aa=z5,IX=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},PX=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},NX=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},Q3=function(e){var t=typeof e;if(t==="string")return Aa.isHexStrict(e)?new su(e.replace(/0x/i,""),16):new su(e,10);if(t==="number")return new su(e);if(Aa.isBigNumber(e))return new su(e.toString(10));if(Aa.isBN(e))return e;throw new Error(e+" is not a number")},Z3=function(e,t,r){var n,a;if(e=IX(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return Aa.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!Aa.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return Aa.leftPad(t.toLowerCase(),n)}}if(n=PX(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return Aa.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=Q3(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new su(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?Aa.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=Q3(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new su(0))?a.toTwos(n).toString("hex"):n?Aa.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},q2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=Aa.toHex(e,!0),r=Aa.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new su(r)),Array.isArray(r)){if(a=NX(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return Z3(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=Z3(t,r,a),n.toString("hex").replace("0x",""))},OX=function(){var e=Array.prototype.slice.call(arguments),t=e.map(q2);return Aa.sha3("0x"+t.join(""))},xX=function(){return Aa.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(q2).join(""))},RX=function(){var e=Array.prototype.slice.call(arguments),t=e.map(q2);return"0x"+t.join("").toLowerCase()},DX={soliditySha3:OX,soliditySha3Raw:xX,encodePacked:RX},Fu=mo,yt=z5,mg=DX,MX=bo,ew=Qe,LX=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},kX=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+V2(!1,e.inputs).join(",")+")"},V2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=V2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},BX=function(e){return"0x"+MX(e).toString("hex")},tw=function(e){if(!yt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},rw=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},Y5=function(e){if(e=e?e.toLowerCase():"ether",!Fu.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(Fu.unitMap,null,2));return e},FX=function(e,t){if(t=Y5(t),!yt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return yt.isBN(e)?Fu.fromWei(e,t):Fu.fromWei(e,t).toString(10)},HX=function(e,t){if(t=Y5(t),!yt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return yt.isBN(e)?Fu.toWei(e,t):Fu.toWei(e,t).toString(10)},$X=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=yt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},UX=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new ew(e),n=new ew(t);return r.lt(n)?-1:r.eq(n)?0:1}},Xm={_fireError:LX,_jsonInterfaceMethodToString:kX,_flattenTypes:V2,randomHex:BX,BN:yt.BN,isBN:yt.isBN,isBigNumber:yt.isBigNumber,isHex:yt.isHex,isHexStrict:yt.isHexStrict,sha3:yt.sha3,sha3Raw:yt.sha3Raw,keccak256:yt.sha3,soliditySha3:mg.soliditySha3,soliditySha3Raw:mg.soliditySha3Raw,encodePacked:mg.encodePacked,isAddress:yt.isAddress,checkAddressChecksum:yt.checkAddressChecksum,toChecksumAddress:$X,toHex:yt.toHex,toBN:yt.toBN,bytesToHex:yt.bytesToHex,hexToBytes:yt.hexToBytes,hexToNumberString:yt.hexToNumberString,hexToNumber:yt.hexToNumber,toDecimal:yt.hexToNumber,numberToHex:yt.numberToHex,fromDecimal:yt.numberToHex,hexToUtf8:yt.hexToUtf8,hexToString:yt.hexToUtf8,toUtf8:yt.hexToUtf8,stripHexPrefix:yt.stripHexPrefix,utf8ToHex:yt.utf8ToHex,stringToHex:yt.utf8ToHex,fromUtf8:yt.utf8ToHex,hexToAscii:tw,toAscii:tw,asciiToHex:rw,fromAscii:rw,unitMap:Fu.unitMap,toWei:HX,fromWei:FX,padLeft:yt.leftPad,leftPad:yt.leftPad,padRight:yt.rightPad,rightPad:yt.rightPad,toTwosComplement:yt.toTwosComplement,isBloom:yt.isBloom,isUserEthereumAddressInBloom:yt.isUserEthereumAddressInBloom,isContractAddressInBloom:yt.isContractAddressInBloom,isTopic:yt.isTopic,isTopicInBloom:yt.isTopicInBloom,isInBloom:yt.isInBloom,compareBlockNumbers:UX,toNumber:yt.toNumber};const nw=Xm,aw=Qe,jX=function(e,t){let r=e;for(;r.length<t*2;)r="0"+r;return r},iw=function(e){return e=e.toUpperCase(),e=e.slice(4)+e.slice(0,4),e.split("").map(function(n){const a=n.charCodeAt(0);return a>=65&&a<=90?a-65+10:n}).join("")},sw=function(e){let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=parseInt(r,10)%97+t.slice(r.length);return parseInt(t,10)%97};let GX=class Uo{constructor(t){this._iban=t}static toAddress(t){if(t=new Uo(t),!t.isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(t){return Uo.fromAddress(t).toString()}static fromAddress(t){if(!nw.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");const n=new aw(t,16).toString(36),a=jX(n,15);return Uo.fromBban(a.toUpperCase())}static fromBban(t){const r="XE",a=("0"+(98-sw(iw(r+"00"+t)))).slice(-2);return new Uo(r+a+t)}static createIndirect(t){return Uo.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new Uo(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&sw(iw(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const t=this._iban.slice(4),r=new aw(t,36);return nw.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var KX=GX,nt=Xm,WX=KX,qX=function(e){return e.map(nt.numberToHex)},VX=function(e){return e.address=nt.toChecksumAddress(e.address),e.nonce=nt.hexToNumberString(e.nonce),e.balance=nt.hexToNumberString(e.balance),e},ou=function(e){return nt.toBN(e).toString(10)},zX=function(e){return e==="latest"||e==="pending"||e==="earliest"},YX=function(e){return this&&e==null?xd(this.defaultBlock):xd(e)},xd=function(e){if(e!==void 0)return zX(e)?e:e==="genesis"?"0x0":nt.isHexStrict(e)?typeof e=="string"?e.toLowerCase():e:nt.numberToHex(e)},X5=function(e){if(e.to&&(e.to=Cf(e.to)),e.data&&e.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!nt.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),(e.maxPriorityFeePerGas||e.maxFeePerGas)&&delete e.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(t){return e[t]!==void 0}).forEach(function(t){e[t]=nt.numberToHex(e[t])}),e},XX=function(e){e=X5(e);var t=e.from||(this?this.defaultAccount:null);return t&&(e.from=Cf(t)),e},JX=function(e){if(e=X5(e),typeof e.from!="number"&&!(e.from&&typeof e.from=="object")){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&typeof e.from!="number")throw new Error('The send transactions "from" field must be defined!');e.from=Cf(e.from)}return e},QX=function(e){return nt.isHexStrict(e)?e:nt.utf8ToHex(e)},J5=function(e){return e.blockNumber!==null&&(e.blockNumber=nt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=nt.hexToNumber(e.transactionIndex)),e.nonce=nt.hexToNumber(e.nonce),e.gas=nt.hexToNumber(e.gas),e.gasPrice&&(e.gasPrice=ou(e.gasPrice)),e.maxFeePerGas&&(e.maxFeePerGas=ou(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=ou(e.maxPriorityFeePerGas)),e.type&&(e.type=nt.hexToNumber(e.type)),e.value=ou(e.value),e.to&&nt.isAddress(e.to)?e.to=nt.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=nt.toChecksumAddress(e.from)),e},ZX=function(e){if(typeof e!="object")throw new Error("Received receipt is invalid: "+e);return this.hexFormat||(e.blockNumber!==null&&(e.blockNumber=nt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=nt.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=nt.hexToNumber(e.cumulativeGasUsed),e.gasUsed=nt.hexToNumber(e.gasUsed),e.effectiveGasPrice&&(e.effectiveGasPrice=nt.hexToNumber(e.effectiveGasPrice))),Array.isArray(e.logs)&&(e.logs=e.logs.map(Q5)),e.contractAddress&&(e.contractAddress=nt.toChecksumAddress(e.contractAddress)),typeof e.status<"u"&&e.status!==null&&(e.status=!!parseInt(e.status)),e},eJ=function(e){return e.gasLimit=nt.hexToNumber(e.gasLimit),e.gasUsed=nt.hexToNumber(e.gasUsed),e.size=nt.hexToNumber(e.size),e.timestamp=nt.hexToNumber(e.timestamp),e.number!==null&&(e.number=nt.hexToNumber(e.number)),e.difficulty&&(e.difficulty=ou(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=ou(e.totalDifficulty)),Array.isArray(e.transactions)&&e.transactions.forEach(function(t){if(typeof t!="string")return J5(t)}),e.miner&&(e.miner=nt.toChecksumAddress(e.miner)),e.baseFeePerGas&&(e.baseFeePerGas=nt.hexToNumber(e.baseFeePerGas)),e},tJ=function(e){var t=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:nt.fromUtf8(r))};return e===void 0&&(e={}),e.fromBlock===void 0&&(e={...e,fromBlock:"latest"}),(e.fromBlock||e.fromBlock===0)&&(e.fromBlock=xd(e.fromBlock)),(e.toBlock||e.toBlock===0)&&(e.toBlock=xd(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map(function(r){return Array.isArray(r)?r.map(t):t(r)}),t=null,e.address&&(e.address=Array.isArray(e.address)?e.address.map(function(r){return Cf(r)}):Cf(e.address)),e},Q5=function(e){if(typeof e.blockHash=="string"&&typeof e.transactionHash=="string"&&typeof e.logIndex=="string"){var t=nt.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").slice(0,8)}else e.id||(e.id=null);return e.blockNumber!==null&&(e.blockNumber=nt.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=nt.hexToNumber(e.transactionIndex)),e.logIndex!==null&&(e.logIndex=nt.hexToNumber(e.logIndex)),e.address&&(e.address=nt.toChecksumAddress(e.address)),e},rJ=function(e){return e.ttl&&(e.ttl=nt.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=nt.numberToHex(e.workToProve)),e.priority&&(e.priority=nt.numberToHex(e.priority)),Array.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(t){return t.indexOf("0x")===0?t:nt.fromUtf8(t)}),e},nJ=function(e){return e.expiry=nt.hexToNumber(e.expiry),e.sent=nt.hexToNumber(e.sent),e.ttl=nt.hexToNumber(e.ttl),e.workProved=nt.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(t){return nt.toUtf8(t)}),e},Cf=function(e){var t=new WX(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(nt.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error(`Provided address ${e} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},aJ=function(e){return e.startingBlock=nt.hexToNumber(e.startingBlock),e.currentBlock=nt.hexToNumber(e.currentBlock),e.highestBlock=nt.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=nt.hexToNumber(e.knownStates),e.pulledStates=nt.hexToNumber(e.pulledStates)),e},iJ={inputDefaultBlockNumberFormatter:YX,inputBlockNumberFormatter:xd,inputCallFormatter:XX,inputTransactionFormatter:JX,inputAddressFormatter:Cf,inputPostFormatter:rJ,inputLogFormatter:tJ,inputSignFormatter:QX,inputStorageKeysFormatter:qX,outputProofFormatter:VX,outputBigNumberFormatter:ou,outputTransactionFormatter:J5,outputTransactionReceiptFormatter:ZX,outputBlockFormatter:eJ,outputLogFormatter:Q5,outputPostFormatter:nJ,outputSyncingFormatter:aJ},sJ=cX,oJ=iJ,wh={errors:sJ,formatters:oJ},uJ=_h,R1=function(t){var r,n,a=new Promise(function(){r=arguments[0],n=arguments[1]});if(t)return{resolve:r,reject:n,eventEmitter:a};var i=new uJ;return a._events=i._events,a.emit=i.emit,a.on=i.on,a.once=i.once,a.off=i.off,a.listeners=i.listeners,a.addListener=i.addListener,a.removeListener=i.removeListener,a.removeAllListeners=i.removeAllListeners,{resolve:r,reject:n,eventEmitter:a}};R1.resolve=function(e){var t=R1(!0);return t.resolve(e),t.eventEmitter};var cJ=R1,fJ=wh.errors,Z5=_h,lJ=wh.formatters;function eN(e){return e}function Xa(e){Z5.call(this),this.id=null,this.callback=eN,this.arguments=null,this.lastBlock=null,this.options={subscription:e.subscription,type:e.type,requestManager:e.requestManager}}Xa.prototype=Object.create(Z5.prototype);Xa.prototype.constructor=Xa;Xa.prototype._extractCallback=function(e){if(typeof e[e.length-1]=="function")return e.pop()};Xa.prototype._validateArgs=function(e){var t=this.options.subscription;if(t||(t={}),t.params||(t.params=0),e.length!==t.params)throw fJ.InvalidNumberOfParams(e.length,t.params,t.subscriptionName)};Xa.prototype._formatInput=function(e){var t=this.options.subscription;if(!t||!t.inputFormatter)return e;var r=t.inputFormatter.map(function(n,a){return n?n(e[a]):e[a]});return r};Xa.prototype._formatOutput=function(e){var t=this.options.subscription;return t&&t.outputFormatter&&e?t.outputFormatter(e):e};Xa.prototype._toPayload=function(e){var t=[];if(this.callback=this._extractCallback(e)||eN,this.subscriptionMethod||(this.subscriptionMethod=e.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(e),this._validateArgs(this.arguments),e=[]),t.push(this.subscriptionMethod),t=t.concat(this.arguments),e.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:t}};Xa.prototype.unsubscribe=function(e){this.options.requestManager.removeSubscription(this.id,e),this.id=null,this.lastBlock=null,this.removeAllListeners()};Xa.prototype.subscribe=function(){var e=this,t=Array.prototype.slice.call(arguments),r=this._toPayload(t);if(!r)return this;if(!this.options.requestManager.provider)return setTimeout(function(){var a=new Error("No provider set.");e.callback(a,null,e),e.emit("error",a)},0),this;if(!this.options.requestManager.provider.on)return setTimeout(function(){var a=new Error("The current provider doesn't support subscriptions: "+e.options.requestManager.provider.constructor.name);e.callback(a,null,e),e.emit("error",a)},0),this;if(this.lastBlock&&this.options.params&&typeof this.options.params=="object"&&(r.params[1]=this.options.params,r.params[1].fromBlock=lJ.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=r.params[1],r.params[0]==="logs"&&r.params[1]&&typeof r.params[1]=="object"&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)){var n=Object.assign({},r.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[n]},function(a,i){a?setTimeout(function(){e.callback(a,null,e),e.emit("error",a)},0):i.forEach(function(s){var o=e._formatOutput(s);e.callback(null,o,e),e.emit("data",o)})})}return typeof r.params[1]=="object"&&delete r.params[1].fromBlock,this.options.requestManager.send(r,function(a,i){!a&&i?(e.id=i,e.method=r.params[0],e.options.requestManager.addSubscription(e,function(s,o){s?(e.callback(s,!1,e),e.emit("error",s)):(Array.isArray(o)||(o=[o]),o.forEach(function(f){var u=e._formatOutput(f);if(e.lastBlock=u&&typeof u=="object"?u.blockNumber:null,typeof e.options.subscription.subscriptionHandler=="function")return e.options.subscription.subscriptionHandler.call(e,u);e.emit("data",u),e.callback(null,u,e)}))}),e.emit("connected",i)):setTimeout(function(){e.callback(a,!1,e),e.emit("error",a)},0)}),this};Xa.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)};var dJ=Xa,tN=dJ,Jm=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};Jm.prototype.setRequestManager=function(e){this.requestManager=e};Jm.prototype.attachToObject=function(e){var t=this.buildCall(),r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t};Jm.prototype.buildCall=function(){var e=this;return function(){e.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var t=new tN({subscription:e.subscriptions[arguments[0]]||{},requestManager:e.requestManager,type:e.type});return t.subscribe.apply(t,arguments)}};var hJ={subscriptions:Jm,subscription:tN};const rN=ei(V7);var is=wh.errors,ws=wh.formatters,dn=Xm,nN=cJ,pJ=hJ.subscriptions,mJ=rN,Sr=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.abiCoder=t.abiCoder,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null,this.transactionBlockTimeout=t.transactionBlockTimeout||50,this.transactionConfirmationBlocks=t.transactionConfirmationBlocks||24,this.transactionPollingTimeout=t.transactionPollingTimeout||750,this.transactionPollingInterval=t.transactionPollingInterval||1e3,this.blockHeaderTimeout=t.blockHeaderTimeout||10,this.defaultCommon=t.defaultCommon,this.defaultChain=t.defaultChain,this.defaultHardfork=t.defaultHardfork,this.handleRevert=t.handleRevert};Sr.prototype.setRequestManager=function(e,t){this.requestManager=e,t&&(this.accounts=t)};Sr.prototype.createFunction=function(e,t){var r=this.buildCall();return Object.defineProperty(r,"call",{configurable:!0,writable:!0,value:this.call}),this.setRequestManager(e||this.requestManager,t||this.accounts),r};Sr.prototype.attachToObject=function(e){var t=this.buildCall();Object.defineProperty(t,"call",{configurable:!0,writable:!0,value:this.call});var r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t};Sr.prototype.getCall=function(e){return typeof this.call=="function"?this.call(e):this.call};Sr.prototype.extractCallback=function(e){if(typeof e[e.length-1]=="function")return e.pop()};Sr.prototype.validateArgs=function(e){if(e.length!==this.params)throw is.InvalidNumberOfParams(e.length,this.params,this.name)};Sr.prototype.formatInput=function(e){var t=this;return this.inputFormatter?this.inputFormatter.map(function(r,n){return r?r.call(t,e[n]):e[n]}):e};Sr.prototype.formatOutput=function(e){var t=this;return Array.isArray(e)?e.map(function(r){return t.outputFormatter&&r?t.outputFormatter(r):r}):this.outputFormatter&&e?this.outputFormatter(e):e};Sr.prototype.toPayload=function(e){var t=this.getCall(e),r=this.extractCallback(e),n=this.formatInput(e);this.validateArgs(n);var a={method:t,params:n,callback:r};return this.transformPayload&&(a=this.transformPayload(a)),a};Sr.prototype._confirmTransaction=function(e,t,r){var n=this,a=!1,i=!0,s=0,o=0,f=null,u=null,c=null,l=r.params[0]&&typeof r.params[0]=="object"&&r.params[0].gas?r.params[0].gas:null,d=!!r.params[0]&&typeof r.params[0]=="object"&&r.params[0].data&&r.params[0].from&&!r.params[0].to,h=d&&r.params[0].data.length>2,p=[new Sr({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[ws.inputBlockNumberFormatter,function(g){return!!g}],outputFormatter:ws.outputBlockFormatter}),new Sr({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:ws.outputTransactionReceiptFormatter}),new Sr({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[ws.inputAddressFormatter,ws.inputDefaultBlockNumberFormatter]}),new Sr({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:ws.outputTransactionFormatter}),new pJ({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:ws.outputBlockFormatter}}})],m={};p.forEach(g=>{g.attachToObject(m),g.requestManager=n.requestManager});var v=function(g,y,C,I,P){if(C)P.unsubscribe(),a=!0,dn._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:C},e.eventEmitter,e.reject);else return P||(P={unsubscribe:function(){clearInterval(f),clearTimeout(u)}}),(g?nN.resolve(g):m.getTransactionReceipt(t)).catch(function(O){P.unsubscribe(),a=!0,dn._fireError({message:"Failed to check for transaction receipt:",data:O},e.eventEmitter,e.reject)}).then(async function(O){if(!O||!O.blockHash)throw new Error("Receipt missing or blockHash null");if(n.extraFormatters&&n.extraFormatters.receiptFormatter&&(O=n.extraFormatters.receiptFormatter(O)),e.eventEmitter.listeners("confirmation").length>0){var N;if(g===void 0||o!==0){var S=await m.getBlockByNumber("latest"),D=S?S.hash:null;y?c?(N=await m.getBlockByNumber(c.number+1),N&&(c=N,e.eventEmitter.emit("confirmation",o,O,D))):(N=await m.getBlockByNumber(O.blockNumber),c=N,e.eventEmitter.emit("confirmation",o,O,D)):e.eventEmitter.emit("confirmation",o,O,D)}(y&&N||!y)&&o++,i=!1,o===n.transactionConfirmationBlocks+1&&(P.unsubscribe(),e.eventEmitter.removeAllListeners())}return O}).then(async function(O){if(d&&!a){if(!O.contractAddress){i&&(P.unsubscribe(),a=!0),dn._fireError(is.NoContractAddressFoundError(O),e.eventEmitter,e.reject,null,O);return}var N;try{N=await m.getCode(O.contractAddress)}catch{}if(!N)return;var S=O.status===!0&&h;S||N.length>2?(e.eventEmitter.emit("receipt",O),n.extraFormatters&&n.extraFormatters.contractDeployFormatter?e.resolve(n.extraFormatters.contractDeployFormatter(O)):e.resolve(O),i&&e.eventEmitter.removeAllListeners()):dn._fireError(is.ContractCodeNotStoredError(O),e.eventEmitter,e.reject,null,O),i&&P.unsubscribe(),a=!0}return O}).then(async function(O){if(!d&&!a){if(!O.outOfGas&&(!l||l!==O.gasUsed)&&(O.status===!0||O.status==="0x1"||typeof O.status>"u"))e.eventEmitter.emit("receipt",O),e.resolve(O),i&&e.eventEmitter.removeAllListeners();else if(JSON.stringify(O,null,2),O.status===!1||O.status==="0x0")try{var N=null;if(n.handleRevert&&(n.call==="eth_sendTransaction"||n.call==="eth_sendRawTransaction")){var S=r.params[0];if(n.call==="eth_sendRawTransaction"){var D=r.params[0],w=mJ.parse(D);S=ws.inputTransactionFormatter({data:w.data,to:w.to,from:w.from,gas:w.gasLimit.toHexString(),gasPrice:w.gasPrice?w.gasPrice.toHexString():void 0,value:w.value.toHexString()})}if(N=await n.getRevertReason(S,O.blockNumber),N)dn._fireError(is.TransactionRevertInstructionError(N.reason,N.signature,O),e.eventEmitter,e.reject,null,O);else throw!1}else throw!1}catch{dn._fireError(is.TransactionRevertedWithoutReasonError(O),e.eventEmitter,e.reject,null,O)}else dn._fireError(is.TransactionOutOfGasError(O),e.eventEmitter,e.reject,null,O);i&&P.unsubscribe(),a=!0}}).catch(function(){s++,y?s-1>=n.transactionPollingTimeout&&(P.unsubscribe(),a=!0,dn._fireError(is.TransactionError("Transaction was not mined within "+n.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject)):s-1>=n.transactionBlockTimeout&&(P.unsubscribe(),a=!0,dn._fireError(is.TransactionError("Transaction was not mined within "+n.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject))})},b=(function(g){let y=!1;const C=()=>{f=setInterval(v.bind(null,g,!0),n.transactionPollingInterval)};if(!this.requestManager.provider.on)return C();m.subscribe("newBlockHeaders",function(I,P,O){if(y=!0,I||!P)return C();v(g,!1,I,P,O)}),u=setTimeout(()=>{y||C()},this.blockHeaderTimeout*1e3)}).bind(this);m.getTransactionReceipt(t).then(function(g){g&&g.blockHash?(e.eventEmitter.listeners("confirmation").length>0&&b(g),v(g,!1)):a||b()}).catch(function(){a||b()})};var ow=function(e,t){var r=null;return typeof e=="number"?r=t.wallet[e]:e&&typeof e=="object"&&e.address&&e.privateKey?r=e:r=t.wallet[e.toLowerCase()],r};Sr.prototype.buildCall=function(){var e=this,t=e.call==="eth_sendTransaction"||e.call==="eth_sendRawTransaction",r=e.call==="eth_call",n=function(){let a=Array.prototype.slice.call(arguments);var i=nN(!t),s=e.toPayload(a);e.hexFormat=!1,e.call==="eth_getTransactionReceipt"&&(e.hexFormat=s.params.length<a.length&&a[a.length-1]==="hex");var o=function(c,l){if(e.handleRevert&&r&&e.abiCoder){var d;if(!c&&e.isRevertReasonString(l)?d=l.substring(10):c&&c.data&&(d=c.data.substring(10)),d){var h=e.abiCoder.decodeParameter("string","0x"+d),p="Error(String)";dn._fireError(is.RevertInstructionError(h,p),i.eventEmitter,i.reject,s.callback,{reason:h,signature:p});return}}try{l=e.formatOutput(l)}catch(m){c=m}if(l instanceof Error&&(c=l),!c)s.callback&&s.callback(null,l);else return c.error&&(c=c.error),dn._fireError(c,i.eventEmitter,i.reject,s.callback);t?(i.eventEmitter.emit("transactionHash",l),e._confirmTransaction(i,l,s)):c||i.resolve(l)},f=function(c){var l={...s,method:"eth_sendRawTransaction",params:[c.rawTransaction]};e.requestManager.send(l,o)},u=function(c,l){if(l&&l.accounts&&l.accounts.wallet&&l.accounts.wallet.length){var d;if(c.method==="eth_sendTransaction"){var h=c.params[0];if(d=ow(h&&typeof h=="object"?h.from:null,l.accounts),d&&d.privateKey){var h=JSON.parse(JSON.stringify(h));delete h.from,l.defaultChain&&!h.chain&&(h.chain=l.defaultChain),l.defaultHardfork&&!h.hardfork&&(h.hardfork=l.defaultHardfork),l.defaultCommon&&!h.common&&(h.common=l.defaultCommon),l.accounts.signTransaction(h,d.privateKey).then(f).catch(function(b){if(typeof i.eventEmitter.listeners=="function"&&i.eventEmitter.listeners("error").length){try{i.eventEmitter.emit("error",b)}catch{}i.eventEmitter.removeAllListeners(),i.eventEmitter.catch(function(){})}i.reject(b)});return}}else if(c.method==="eth_sign"){var p=c.params[1];if(d=ow(c.params[0],l.accounts),d&&d.privateKey){var m=l.accounts.sign(p,d.privateKey);c.callback&&c.callback(null,m.signature),i.resolve(m.signature);return}}}return l.requestManager.send(c,o)};return t&&s.params[0]&&typeof s.params[0]=="object"&&typeof s.params[0].gasPrice>"u"&&(typeof s.params[0].maxPriorityFeePerGas>"u"||typeof s.params[0].maxFeePerGas>"u")?vJ(e,s.params[0]).then(c=>{c.gasPrice!==void 0?s.params[0].gasPrice=c.gasPrice:c.maxPriorityFeePerGas!==void 0&&c.maxFeePerGas!==void 0&&(s.params[0].maxPriorityFeePerGas=c.maxPriorityFeePerGas,s.params[0].maxFeePerGas=c.maxFeePerGas),t&&setTimeout(()=>{i.eventEmitter.emit("sending",s)},0),u(s,e)}):(t&&setTimeout(()=>{i.eventEmitter.emit("sending",s)},0),u(s,e)),t&&setTimeout(()=>{i.eventEmitter.emit("sent",s)},0),i.eventEmitter};return n.method=e,n.request=this.request.bind(this),n};function vJ(e,t){return new Promise((r,n)=>{try{var a=new Sr({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(s){return s?dn.toHex(s):"latest"},function(){return!1}]}).createFunction(e.requestManager),i=new Sr({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(e.requestManager);Promise.all([a(),i()]).then(s=>{const[o,f]=s;if((t.type==="0x2"||t.type===void 0)&&o&&o.baseFeePerGas){let u,c;t.gasPrice?(u=t.gasPrice,c=t.gasPrice,delete t.gasPrice):(u=t.maxPriorityFeePerGas||"0x9502F900",c=t.maxFeePerGas||dn.toHex(dn.toBN(o.baseFeePerGas).mul(dn.toBN(2)).add(dn.toBN(u)))),r({maxFeePerGas:c,maxPriorityFeePerGas:u})}else{if(t.maxPriorityFeePerGas||t.maxFeePerGas)throw Error("Network doesn't support eip-1559");r({gasPrice:f})}})}catch(s){n(s)}})}Sr.prototype.getRevertReason=function(e,t){var r=this;return new Promise(function(n,a){new Sr({name:"call",call:"eth_call",params:2,abiCoder:r.abiCoder,handleRevert:!0}).createFunction(r.requestManager)(e,dn.numberToHex(t)).then(function(){n(!1)}).catch(function(i){i.reason?n({reason:i.reason,signature:i.signature}):a(i)})})};Sr.prototype.isRevertReasonString=function(e){return typeof e=="string"&&(e.length-2)/2%32===4&&e.substring(0,10)==="0x08c379a0"};Sr.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e};var bJ=Sr,gJ=wh.formatters,vg=bJ,yJ=Xm,_J=function(e){var t=function(r){var n;return r.property?(e[r.property]||(e[r.property]={}),n=e[r.property]):n=e,r.methods&&r.methods.forEach(function(a){a instanceof vg||(a=new vg(a)),a.attachToObject(n),a.setRequestManager(e._requestManager)}),e};return t.formatters=gJ,t.utils=yJ,t.Method=vg,t},TJ=_J;const Dc=uX,EJ=TJ,SJ=(e,t)=>{if(t=Array.prototype.slice.call(t),!e)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(e,"currentProvider",{get:()=>e._provider,set:r=>e.setProvider(r),enumerable:!0,configurable:!0}),t[0]&&t[0]._requestManager?e._requestManager=t[0]._requestManager:e._requestManager=new Dc.Manager(t[0],t[1]),e.givenProvider=Dc.Manager.givenProvider,e.providers=Dc.Manager.providers,e._provider=e._requestManager.provider,e.setProvider||(e.setProvider=(r,n)=>(e._requestManager.setProvider(r,n),e._provider=e._requestManager.provider,!0)),e.setRequestManager=r=>{e._requestManager=r,e._provider=r.provider},e.BatchRequest=Dc.BatchManager.bind(null,e._requestManager),e.extend=EJ(e)},AJ=e=>{e.givenProvider=Dc.Manager.givenProvider,e.providers=Dc.Manager.providers};var wJ={packageInit:SJ,addProviders:AJ},CJ={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e),r=e.error&&e.error.data?e.error.data:null,n=new Error("Returned error: "+t);return n.data=r,n},InvalidNumberOfParams:function(e,t,r){return new Error('Invalid number of parameters for "'+r+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e,t){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+e+".",t)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},ConnectionNotOpenError:function(e){return this.ConnectionError("connection not open on send()",e)},ConnectionCloseError:function(e){return typeof e=="object"&&e.code&&e.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+e.code+"` and the following reason string `"+e.reason+"`",e):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(e,t){const r=new Error(e);return t&&(r.code=t.code,r.reason=t.reason),r},RevertInstructionError:function(e,t){var r=new Error("Your request got reverted with the following reason string: "+e);return r.reason=e,r.signature=t,r},TransactionRevertInstructionError:function(e,t,r){var n=new Error(`Transaction has been reverted by the EVM:
`+JSON.stringify(r,null,2));return n.reason=e,n.signature=t,n.receipt=r,n},TransactionError:function(e,t){var r=new Error(e);return r.receipt=t,r},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError(`Transaction has been reverted by the EVM:
`+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError(`Transaction ran out of gas. Please provide more gas:
`+JSON.stringify(e,null,2),e)},ResolverMethodMissingError:function(e,t){return new Error("The resolver at "+e+'does not implement requested method: "'+t+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(e){return new Error('Event "'+e+`" doesn't exist in this contract.`)},ContractReservedEventError:function(e){return new Error('The event "'+e+`" is a reserved event name, you can't use it.`)},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}},If=Qe,IJ=lo,aN=ho,q0=pi,nl=po,z2=function(e){return If.isBN(e)},iN=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},Ch=function(e){try{return IJ.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},PJ=function(e){return"0x"+Ch(e).toTwos(256).toString(16,64)},sN=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:oN(e):!1},oN=function(e){e=e.replace(/^0x/i,"");for(var t=Qm(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},NJ=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},OJ=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},D1=function(e){e=aN.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},xJ=function(e){if(!rc(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return aN.decode(t)},uN=function(e){if(!e)return e;if(typeof e=="string"&&!rc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Ch(e).toNumber()},RJ=function(e){if(!e)return e;if(typeof e=="string"&&!rc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Ch(e).toString(10)},M1=function(e){if(e==null)return e;if(!isFinite(e)&&!rc(e))throw new Error('Given input "'+e+'" is not a number.');var t=Ch(e),r=t.toString(16);return t.lt(new If(0))?"-0x"+r.slice(1):"0x"+r},DJ=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},MJ=function(e){if(e=e.toString(16),!rc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},cN=function(e,t){if(sN(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!iN(e)&&!z2(e))return t?"string":D1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":M1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":D1(e)}return t?e<0?"int256":"uint256":M1(e)},rc=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},fN=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},LJ=function(e){return e!==0&&fN(e)?e.replace(/^(-)?0x/i,"$1"):e},kJ=function(e){return nl.isBloom(e)},BJ=function(e,t){return nl.isUserEthereumAddressInBloom(e,t)},FJ=function(e,t){return nl.isContractAddressInBloom(e,t)},HJ=function(e){return nl.isTopic(e)},$J=function(e,t){return nl.isTopicInBloom(e,t)},UJ=function(e,t){return nl.isInBloom(e,t)},lN="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Qm=function(e){z2(e)&&(e=e.toString()),rc(e)&&/^0x/i.test(e.toString())?e=q0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=q0.bufferToHex(q0.keccak256(e));return t===lN?null:t};Qm._Hash=q0.keccak256;var jJ=function(e){return e=Qm(e),e===null?lN:e},GJ=function(e){return typeof e=="number"?e:uN(cN(e))},Y2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new If(t+r,16)}else return new If(e)};Object.setPrototypeOf(Y2,If);Object.setPrototypeOf(Y2.prototype,If.prototype);var dN={BN:Y2,isBN:z2,isBigNumber:iN,toBN:Ch,isAddress:sN,isBloom:kJ,isUserEthereumAddressInBloom:BJ,isContractAddressInBloom:FJ,isTopic:HJ,isTopicInBloom:$J,isInBloom:UJ,checkAddressChecksum:oN,utf8ToHex:D1,hexToUtf8:xJ,hexToNumber:uN,hexToNumberString:RJ,numberToHex:M1,toHex:cN,hexToBytes:MJ,bytesToHex:DJ,isHex:fN,isHexStrict:rc,stripHexPrefix:LJ,leftPad:NJ,rightPad:OJ,toTwosComplement:PJ,sha3:Qm,sha3Raw:jJ,toNumber:GJ},uu=Qe,wa=dN,KJ=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},WJ=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},qJ=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},uw=function(e){var t=typeof e;if(t==="string")return wa.isHexStrict(e)?new uu(e.replace(/0x/i,""),16):new uu(e,10);if(t==="number")return new uu(e);if(wa.isBigNumber(e))return new uu(e.toString(10));if(wa.isBN(e))return e;throw new Error(e+" is not a number")},cw=function(e,t,r){var n,a;if(e=KJ(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return wa.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!wa.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return wa.leftPad(t.toLowerCase(),n)}}if(n=WJ(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return wa.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=uw(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new uu(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?wa.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=uw(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new uu(0))?a.toTwos(n).toString("hex"):n?wa.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},X2=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=wa.toHex(e,!0),r=wa.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new uu(r)),Array.isArray(r)){if(a=qJ(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return cw(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=cw(t,r,a),n.toString("hex").replace("0x",""))},VJ=function(){var e=Array.prototype.slice.call(arguments),t=e.map(X2);return wa.sha3("0x"+t.join(""))},zJ=function(){return wa.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(X2).join(""))},YJ=function(){var e=Array.prototype.slice.call(arguments),t=e.map(X2);return"0x"+t.join("").toLowerCase()},XJ={soliditySha3:VJ,soliditySha3Raw:zJ,encodePacked:YJ},Hu=mo,_t=dN,bg=XJ,JJ=bo,fw=Qe,QJ=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},ZJ=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+J2(!1,e.inputs).join(",")+")"},J2=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=J2(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},eQ=function(e){return"0x"+JJ(e).toString("hex")},lw=function(e){if(!_t.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},dw=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},hN=function(e){if(e=e?e.toLowerCase():"ether",!Hu.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify(Hu.unitMap,null,2));return e},tQ=function(e,t){if(t=hN(t),!_t.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return _t.isBN(e)?Hu.fromWei(e,t):Hu.fromWei(e,t).toString(10)},rQ=function(e,t){if(t=hN(t),!_t.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return _t.isBN(e)?Hu.toWei(e,t):Hu.toWei(e,t).toString(10)},nQ=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=_t.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},aQ=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new fw(e),n=new fw(t);return r.lt(n)?-1:r.eq(n)?0:1}},Zm={_fireError:QJ,_jsonInterfaceMethodToString:ZJ,_flattenTypes:J2,randomHex:eQ,BN:_t.BN,isBN:_t.isBN,isBigNumber:_t.isBigNumber,isHex:_t.isHex,isHexStrict:_t.isHexStrict,sha3:_t.sha3,sha3Raw:_t.sha3Raw,keccak256:_t.sha3,soliditySha3:bg.soliditySha3,soliditySha3Raw:bg.soliditySha3Raw,encodePacked:bg.encodePacked,isAddress:_t.isAddress,checkAddressChecksum:_t.checkAddressChecksum,toChecksumAddress:nQ,toHex:_t.toHex,toBN:_t.toBN,bytesToHex:_t.bytesToHex,hexToBytes:_t.hexToBytes,hexToNumberString:_t.hexToNumberString,hexToNumber:_t.hexToNumber,toDecimal:_t.hexToNumber,numberToHex:_t.numberToHex,fromDecimal:_t.numberToHex,hexToUtf8:_t.hexToUtf8,hexToString:_t.hexToUtf8,toUtf8:_t.hexToUtf8,stripHexPrefix:_t.stripHexPrefix,utf8ToHex:_t.utf8ToHex,stringToHex:_t.utf8ToHex,fromUtf8:_t.utf8ToHex,hexToAscii:lw,toAscii:lw,asciiToHex:dw,fromAscii:dw,unitMap:Hu.unitMap,toWei:rQ,fromWei:tQ,padLeft:_t.leftPad,leftPad:_t.leftPad,padRight:_t.rightPad,rightPad:_t.rightPad,toTwosComplement:_t.toTwosComplement,isBloom:_t.isBloom,isUserEthereumAddressInBloom:_t.isUserEthereumAddressInBloom,isContractAddressInBloom:_t.isContractAddressInBloom,isTopic:_t.isTopic,isTopicInBloom:_t.isTopicInBloom,isInBloom:_t.isInBloom,compareBlockNumbers:aQ,toNumber:_t.toNumber};const hw=Zm,pw=Qe,iQ=function(e,t){let r=e;for(;r.length<t*2;)r="0"+r;return r},mw=function(e){return e=e.toUpperCase(),e=e.slice(4)+e.slice(0,4),e.split("").map(function(n){const a=n.charCodeAt(0);return a>=65&&a<=90?a-65+10:n}).join("")},vw=function(e){let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=parseInt(r,10)%97+t.slice(r.length);return parseInt(t,10)%97};let sQ=class jo{constructor(t){this._iban=t}static toAddress(t){if(t=new jo(t),!t.isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()}static toIban(t){return jo.fromAddress(t).toString()}static fromAddress(t){if(!hw.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");const n=new pw(t,16).toString(36),a=iQ(n,15);return jo.fromBban(a.toUpperCase())}static fromBban(t){const r="XE",a=("0"+(98-vw(mw(r+"00"+t)))).slice(-2);return new jo(r+a+t)}static createIndirect(t){return jo.fromBban("ETH"+t.institution+t.identifier)}static isValid(t){return new jo(t).isValid()}isValid(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&vw(mw(this._iban))===1}isDirect(){return this._iban.length===34||this._iban.length===35}isIndirect(){return this._iban.length===20}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}client(){return this.isIndirect()?this._iban.slice(11):""}toAddress(){if(this.isDirect()){const t=this._iban.slice(4),r=new pw(t,36);return hw.toChecksumAddress(r.toString(16,20))}return""}toString(){return this._iban}};var oQ=sQ,at=Zm,uQ=oQ,cQ=function(e){return e.map(at.numberToHex)},fQ=function(e){return e.address=at.toChecksumAddress(e.address),e.nonce=at.hexToNumberString(e.nonce),e.balance=at.hexToNumberString(e.balance),e},cu=function(e){return at.toBN(e).toString(10)},lQ=function(e){return e==="latest"||e==="pending"||e==="earliest"},dQ=function(e){return this&&e==null?Rd(this.defaultBlock):Rd(e)},Rd=function(e){if(e!==void 0)return lQ(e)?e:e==="genesis"?"0x0":at.isHexStrict(e)?typeof e=="string"?e.toLowerCase():e:at.numberToHex(e)},pN=function(e){if(e.to&&(e.to=Pf(e.to)),e.data&&e.input)throw new Error(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!e.data.startsWith("0x")&&(e.data="0x"+e.data),e.data&&!at.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),(e.maxPriorityFeePerGas||e.maxFeePerGas)&&delete e.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter(function(t){return e[t]!==void 0}).forEach(function(t){e[t]=at.numberToHex(e[t])}),e},hQ=function(e){e=pN(e);var t=e.from||(this?this.defaultAccount:null);return t&&(e.from=Pf(t)),e},pQ=function(e){if(e=pN(e),typeof e.from!="number"&&!(e.from&&typeof e.from=="object")){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&typeof e.from!="number")throw new Error('The send transactions "from" field must be defined!');e.from=Pf(e.from)}return e},mQ=function(e){return at.isHexStrict(e)?e:at.utf8ToHex(e)},mN=function(e){return e.blockNumber!==null&&(e.blockNumber=at.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=at.hexToNumber(e.transactionIndex)),e.nonce=at.hexToNumber(e.nonce),e.gas=at.hexToNumber(e.gas),e.gasPrice&&(e.gasPrice=cu(e.gasPrice)),e.maxFeePerGas&&(e.maxFeePerGas=cu(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=cu(e.maxPriorityFeePerGas)),e.type&&(e.type=at.hexToNumber(e.type)),e.value=cu(e.value),e.to&&at.isAddress(e.to)?e.to=at.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=at.toChecksumAddress(e.from)),e},vQ=function(e){if(typeof e!="object")throw new Error("Received receipt is invalid: "+e);return this.hexFormat||(e.blockNumber!==null&&(e.blockNumber=at.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=at.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=at.hexToNumber(e.cumulativeGasUsed),e.gasUsed=at.hexToNumber(e.gasUsed),e.effectiveGasPrice&&(e.effectiveGasPrice=at.hexToNumber(e.effectiveGasPrice))),Array.isArray(e.logs)&&(e.logs=e.logs.map(vN)),e.contractAddress&&(e.contractAddress=at.toChecksumAddress(e.contractAddress)),typeof e.status<"u"&&e.status!==null&&(e.status=!!parseInt(e.status)),e},bQ=function(e){return e.gasLimit=at.hexToNumber(e.gasLimit),e.gasUsed=at.hexToNumber(e.gasUsed),e.size=at.hexToNumber(e.size),e.timestamp=at.hexToNumber(e.timestamp),e.number!==null&&(e.number=at.hexToNumber(e.number)),e.difficulty&&(e.difficulty=cu(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=cu(e.totalDifficulty)),Array.isArray(e.transactions)&&e.transactions.forEach(function(t){if(typeof t!="string")return mN(t)}),e.miner&&(e.miner=at.toChecksumAddress(e.miner)),e.baseFeePerGas&&(e.baseFeePerGas=at.hexToNumber(e.baseFeePerGas)),e},gQ=function(e){var t=function(r){return r===null||typeof r>"u"?null:(r=String(r),r.indexOf("0x")===0?r:at.fromUtf8(r))};return e===void 0&&(e={}),e.fromBlock===void 0&&(e={...e,fromBlock:"latest"}),(e.fromBlock||e.fromBlock===0)&&(e.fromBlock=Rd(e.fromBlock)),(e.toBlock||e.toBlock===0)&&(e.toBlock=Rd(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map(function(r){return Array.isArray(r)?r.map(t):t(r)}),t=null,e.address&&(e.address=Array.isArray(e.address)?e.address.map(function(r){return Pf(r)}):Pf(e.address)),e},vN=function(e){if(typeof e.blockHash=="string"&&typeof e.transactionHash=="string"&&typeof e.logIndex=="string"){var t=at.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").slice(0,8)}else e.id||(e.id=null);return e.blockNumber!==null&&(e.blockNumber=at.hexToNumber(e.blockNumber)),e.transactionIndex!==null&&(e.transactionIndex=at.hexToNumber(e.transactionIndex)),e.logIndex!==null&&(e.logIndex=at.hexToNumber(e.logIndex)),e.address&&(e.address=at.toChecksumAddress(e.address)),e},yQ=function(e){return e.ttl&&(e.ttl=at.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=at.numberToHex(e.workToProve)),e.priority&&(e.priority=at.numberToHex(e.priority)),Array.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map(function(t){return t.indexOf("0x")===0?t:at.fromUtf8(t)}),e},_Q=function(e){return e.expiry=at.hexToNumber(e.expiry),e.sent=at.hexToNumber(e.sent),e.ttl=at.hexToNumber(e.ttl),e.workProved=at.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map(function(t){return at.toUtf8(t)}),e},Pf=function(e){var t=new uQ(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(at.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error(`Provided address ${e} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},TQ=function(e){return e.startingBlock=at.hexToNumber(e.startingBlock),e.currentBlock=at.hexToNumber(e.currentBlock),e.highestBlock=at.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=at.hexToNumber(e.knownStates),e.pulledStates=at.hexToNumber(e.pulledStates)),e},EQ={inputDefaultBlockNumberFormatter:dQ,inputBlockNumberFormatter:Rd,inputCallFormatter:hQ,inputTransactionFormatter:pQ,inputAddressFormatter:Pf,inputPostFormatter:yQ,inputLogFormatter:gQ,inputSignFormatter:mQ,inputStorageKeysFormatter:cQ,outputProofFormatter:fQ,outputBigNumberFormatter:cu,outputTransactionFormatter:mN,outputTransactionReceiptFormatter:vQ,outputBlockFormatter:bQ,outputLogFormatter:vN,outputPostFormatter:_Q,outputSyncingFormatter:TQ},SQ=CJ,AQ=EQ,al={errors:SQ,formatters:AQ},wQ=_h,L1=function(t){var r,n,a=new Promise(function(){r=arguments[0],n=arguments[1]});if(t)return{resolve:r,reject:n,eventEmitter:a};var i=new wQ;return a._events=i._events,a.emit=i.emit,a.on=i.on,a.once=i.once,a.off=i.off,a.listeners=i.listeners,a.addListener=i.addListener,a.removeListener=i.removeListener,a.removeAllListeners=i.removeAllListeners,{resolve:r,reject:n,eventEmitter:a}};L1.resolve=function(e){var t=L1(!0);return t.resolve(e),t.eventEmitter};var bN=L1,CQ=al.errors,gN=_h,IQ=al.formatters;function yN(e){return e}function Ja(e){gN.call(this),this.id=null,this.callback=yN,this.arguments=null,this.lastBlock=null,this.options={subscription:e.subscription,type:e.type,requestManager:e.requestManager}}Ja.prototype=Object.create(gN.prototype);Ja.prototype.constructor=Ja;Ja.prototype._extractCallback=function(e){if(typeof e[e.length-1]=="function")return e.pop()};Ja.prototype._validateArgs=function(e){var t=this.options.subscription;if(t||(t={}),t.params||(t.params=0),e.length!==t.params)throw CQ.InvalidNumberOfParams(e.length,t.params,t.subscriptionName)};Ja.prototype._formatInput=function(e){var t=this.options.subscription;if(!t||!t.inputFormatter)return e;var r=t.inputFormatter.map(function(n,a){return n?n(e[a]):e[a]});return r};Ja.prototype._formatOutput=function(e){var t=this.options.subscription;return t&&t.outputFormatter&&e?t.outputFormatter(e):e};Ja.prototype._toPayload=function(e){var t=[];if(this.callback=this._extractCallback(e)||yN,this.subscriptionMethod||(this.subscriptionMethod=e.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(e),this._validateArgs(this.arguments),e=[]),t.push(this.subscriptionMethod),t=t.concat(this.arguments),e.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:t}};Ja.prototype.unsubscribe=function(e){this.options.requestManager.removeSubscription(this.id,e),this.id=null,this.lastBlock=null,this.removeAllListeners()};Ja.prototype.subscribe=function(){var e=this,t=Array.prototype.slice.call(arguments),r=this._toPayload(t);if(!r)return this;if(!this.options.requestManager.provider)return setTimeout(function(){var a=new Error("No provider set.");e.callback(a,null,e),e.emit("error",a)},0),this;if(!this.options.requestManager.provider.on)return setTimeout(function(){var a=new Error("The current provider doesn't support subscriptions: "+e.options.requestManager.provider.constructor.name);e.callback(a,null,e),e.emit("error",a)},0),this;if(this.lastBlock&&this.options.params&&typeof this.options.params=="object"&&(r.params[1]=this.options.params,r.params[1].fromBlock=IQ.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=r.params[1],r.params[0]==="logs"&&r.params[1]&&typeof r.params[1]=="object"&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)){var n=Object.assign({},r.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[n]},function(a,i){a?setTimeout(function(){e.callback(a,null,e),e.emit("error",a)},0):i.forEach(function(s){var o=e._formatOutput(s);e.callback(null,o,e),e.emit("data",o)})})}return typeof r.params[1]=="object"&&delete r.params[1].fromBlock,this.options.requestManager.send(r,function(a,i){!a&&i?(e.id=i,e.method=r.params[0],e.options.requestManager.addSubscription(e,function(s,o){s?(e.callback(s,!1,e),e.emit("error",s)):(Array.isArray(o)||(o=[o]),o.forEach(function(f){var u=e._formatOutput(f);if(e.lastBlock=u&&typeof u=="object"?u.blockNumber:null,typeof e.options.subscription.subscriptionHandler=="function")return e.options.subscription.subscriptionHandler.call(e,u);e.emit("data",u),e.callback(null,u,e)}))}),e.emit("connected",i)):setTimeout(function(){e.callback(a,!1,e),e.emit("error",a)},0)}),this};Ja.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)};var PQ=Ja,_N=PQ,ev=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};ev.prototype.setRequestManager=function(e){this.requestManager=e};ev.prototype.attachToObject=function(e){var t=this.buildCall(),r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t};ev.prototype.buildCall=function(){var e=this;return function(){e.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var t=new _N({subscription:e.subscriptions[arguments[0]]||{},requestManager:e.requestManager,type:e.type});return t.subscribe.apply(t,arguments)}};var TN={subscriptions:ev,subscription:_N},ss=al.errors,Cs=al.formatters,hn=Zm,EN=bN,NQ=TN.subscriptions,OQ=rN,Ar=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.abiCoder=t.abiCoder,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null,this.transactionBlockTimeout=t.transactionBlockTimeout||50,this.transactionConfirmationBlocks=t.transactionConfirmationBlocks||24,this.transactionPollingTimeout=t.transactionPollingTimeout||750,this.transactionPollingInterval=t.transactionPollingInterval||1e3,this.blockHeaderTimeout=t.blockHeaderTimeout||10,this.defaultCommon=t.defaultCommon,this.defaultChain=t.defaultChain,this.defaultHardfork=t.defaultHardfork,this.handleRevert=t.handleRevert};Ar.prototype.setRequestManager=function(e,t){this.requestManager=e,t&&(this.accounts=t)};Ar.prototype.createFunction=function(e,t){var r=this.buildCall();return Object.defineProperty(r,"call",{configurable:!0,writable:!0,value:this.call}),this.setRequestManager(e||this.requestManager,t||this.accounts),r};Ar.prototype.attachToObject=function(e){var t=this.buildCall();Object.defineProperty(t,"call",{configurable:!0,writable:!0,value:this.call});var r=this.name.split(".");r.length>1?(e[r[0]]=e[r[0]]||{},e[r[0]][r[1]]=t):e[r[0]]=t};Ar.prototype.getCall=function(e){return typeof this.call=="function"?this.call(e):this.call};Ar.prototype.extractCallback=function(e){if(typeof e[e.length-1]=="function")return e.pop()};Ar.prototype.validateArgs=function(e){if(e.length!==this.params)throw ss.InvalidNumberOfParams(e.length,this.params,this.name)};Ar.prototype.formatInput=function(e){var t=this;return this.inputFormatter?this.inputFormatter.map(function(r,n){return r?r.call(t,e[n]):e[n]}):e};Ar.prototype.formatOutput=function(e){var t=this;return Array.isArray(e)?e.map(function(r){return t.outputFormatter&&r?t.outputFormatter(r):r}):this.outputFormatter&&e?this.outputFormatter(e):e};Ar.prototype.toPayload=function(e){var t=this.getCall(e),r=this.extractCallback(e),n=this.formatInput(e);this.validateArgs(n);var a={method:t,params:n,callback:r};return this.transformPayload&&(a=this.transformPayload(a)),a};Ar.prototype._confirmTransaction=function(e,t,r){var n=this,a=!1,i=!0,s=0,o=0,f=null,u=null,c=null,l=r.params[0]&&typeof r.params[0]=="object"&&r.params[0].gas?r.params[0].gas:null,d=!!r.params[0]&&typeof r.params[0]=="object"&&r.params[0].data&&r.params[0].from&&!r.params[0].to,h=d&&r.params[0].data.length>2,p=[new Ar({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[Cs.inputBlockNumberFormatter,function(g){return!!g}],outputFormatter:Cs.outputBlockFormatter}),new Ar({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:Cs.outputTransactionReceiptFormatter}),new Ar({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[Cs.inputAddressFormatter,Cs.inputDefaultBlockNumberFormatter]}),new Ar({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:Cs.outputTransactionFormatter}),new NQ({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:Cs.outputBlockFormatter}}})],m={};p.forEach(g=>{g.attachToObject(m),g.requestManager=n.requestManager});var v=function(g,y,C,I,P){if(C)P.unsubscribe(),a=!0,hn._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:C},e.eventEmitter,e.reject);else return P||(P={unsubscribe:function(){clearInterval(f),clearTimeout(u)}}),(g?EN.resolve(g):m.getTransactionReceipt(t)).catch(function(O){P.unsubscribe(),a=!0,hn._fireError({message:"Failed to check for transaction receipt:",data:O},e.eventEmitter,e.reject)}).then(async function(O){if(!O||!O.blockHash)throw new Error("Receipt missing or blockHash null");if(n.extraFormatters&&n.extraFormatters.receiptFormatter&&(O=n.extraFormatters.receiptFormatter(O)),e.eventEmitter.listeners("confirmation").length>0){var N;if(g===void 0||o!==0){var S=await m.getBlockByNumber("latest"),D=S?S.hash:null;y?c?(N=await m.getBlockByNumber(c.number+1),N&&(c=N,e.eventEmitter.emit("confirmation",o,O,D))):(N=await m.getBlockByNumber(O.blockNumber),c=N,e.eventEmitter.emit("confirmation",o,O,D)):e.eventEmitter.emit("confirmation",o,O,D)}(y&&N||!y)&&o++,i=!1,o===n.transactionConfirmationBlocks+1&&(P.unsubscribe(),e.eventEmitter.removeAllListeners())}return O}).then(async function(O){if(d&&!a){if(!O.contractAddress){i&&(P.unsubscribe(),a=!0),hn._fireError(ss.NoContractAddressFoundError(O),e.eventEmitter,e.reject,null,O);return}var N;try{N=await m.getCode(O.contractAddress)}catch{}if(!N)return;var S=O.status===!0&&h;S||N.length>2?(e.eventEmitter.emit("receipt",O),n.extraFormatters&&n.extraFormatters.contractDeployFormatter?e.resolve(n.extraFormatters.contractDeployFormatter(O)):e.resolve(O),i&&e.eventEmitter.removeAllListeners()):hn._fireError(ss.ContractCodeNotStoredError(O),e.eventEmitter,e.reject,null,O),i&&P.unsubscribe(),a=!0}return O}).then(async function(O){if(!d&&!a){if(!O.outOfGas&&(!l||l!==O.gasUsed)&&(O.status===!0||O.status==="0x1"||typeof O.status>"u"))e.eventEmitter.emit("receipt",O),e.resolve(O),i&&e.eventEmitter.removeAllListeners();else if(JSON.stringify(O,null,2),O.status===!1||O.status==="0x0")try{var N=null;if(n.handleRevert&&(n.call==="eth_sendTransaction"||n.call==="eth_sendRawTransaction")){var S=r.params[0];if(n.call==="eth_sendRawTransaction"){var D=r.params[0],w=OQ.parse(D);S=Cs.inputTransactionFormatter({data:w.data,to:w.to,from:w.from,gas:w.gasLimit.toHexString(),gasPrice:w.gasPrice?w.gasPrice.toHexString():void 0,value:w.value.toHexString()})}if(N=await n.getRevertReason(S,O.blockNumber),N)hn._fireError(ss.TransactionRevertInstructionError(N.reason,N.signature,O),e.eventEmitter,e.reject,null,O);else throw!1}else throw!1}catch{hn._fireError(ss.TransactionRevertedWithoutReasonError(O),e.eventEmitter,e.reject,null,O)}else hn._fireError(ss.TransactionOutOfGasError(O),e.eventEmitter,e.reject,null,O);i&&P.unsubscribe(),a=!0}}).catch(function(){s++,y?s-1>=n.transactionPollingTimeout&&(P.unsubscribe(),a=!0,hn._fireError(ss.TransactionError("Transaction was not mined within "+n.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject)):s-1>=n.transactionBlockTimeout&&(P.unsubscribe(),a=!0,hn._fireError(ss.TransactionError("Transaction was not mined within "+n.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject))})},b=(function(g){let y=!1;const C=()=>{f=setInterval(v.bind(null,g,!0),n.transactionPollingInterval)};if(!this.requestManager.provider.on)return C();m.subscribe("newBlockHeaders",function(I,P,O){if(y=!0,I||!P)return C();v(g,!1,I,P,O)}),u=setTimeout(()=>{y||C()},this.blockHeaderTimeout*1e3)}).bind(this);m.getTransactionReceipt(t).then(function(g){g&&g.blockHash?(e.eventEmitter.listeners("confirmation").length>0&&b(g),v(g,!1)):a||b()}).catch(function(){a||b()})};var bw=function(e,t){var r=null;return typeof e=="number"?r=t.wallet[e]:e&&typeof e=="object"&&e.address&&e.privateKey?r=e:r=t.wallet[e.toLowerCase()],r};Ar.prototype.buildCall=function(){var e=this,t=e.call==="eth_sendTransaction"||e.call==="eth_sendRawTransaction",r=e.call==="eth_call",n=function(){let a=Array.prototype.slice.call(arguments);var i=EN(!t),s=e.toPayload(a);e.hexFormat=!1,e.call==="eth_getTransactionReceipt"&&(e.hexFormat=s.params.length<a.length&&a[a.length-1]==="hex");var o=function(c,l){if(e.handleRevert&&r&&e.abiCoder){var d;if(!c&&e.isRevertReasonString(l)?d=l.substring(10):c&&c.data&&(d=c.data.substring(10)),d){var h=e.abiCoder.decodeParameter("string","0x"+d),p="Error(String)";hn._fireError(ss.RevertInstructionError(h,p),i.eventEmitter,i.reject,s.callback,{reason:h,signature:p});return}}try{l=e.formatOutput(l)}catch(m){c=m}if(l instanceof Error&&(c=l),!c)s.callback&&s.callback(null,l);else return c.error&&(c=c.error),hn._fireError(c,i.eventEmitter,i.reject,s.callback);t?(i.eventEmitter.emit("transactionHash",l),e._confirmTransaction(i,l,s)):c||i.resolve(l)},f=function(c){var l={...s,method:"eth_sendRawTransaction",params:[c.rawTransaction]};e.requestManager.send(l,o)},u=function(c,l){if(l&&l.accounts&&l.accounts.wallet&&l.accounts.wallet.length){var d;if(c.method==="eth_sendTransaction"){var h=c.params[0];if(d=bw(h&&typeof h=="object"?h.from:null,l.accounts),d&&d.privateKey){var h=JSON.parse(JSON.stringify(h));delete h.from,l.defaultChain&&!h.chain&&(h.chain=l.defaultChain),l.defaultHardfork&&!h.hardfork&&(h.hardfork=l.defaultHardfork),l.defaultCommon&&!h.common&&(h.common=l.defaultCommon),l.accounts.signTransaction(h,d.privateKey).then(f).catch(function(b){if(typeof i.eventEmitter.listeners=="function"&&i.eventEmitter.listeners("error").length){try{i.eventEmitter.emit("error",b)}catch{}i.eventEmitter.removeAllListeners(),i.eventEmitter.catch(function(){})}i.reject(b)});return}}else if(c.method==="eth_sign"){var p=c.params[1];if(d=bw(c.params[0],l.accounts),d&&d.privateKey){var m=l.accounts.sign(p,d.privateKey);c.callback&&c.callback(null,m.signature),i.resolve(m.signature);return}}}return l.requestManager.send(c,o)};return t&&s.params[0]&&typeof s.params[0]=="object"&&typeof s.params[0].gasPrice>"u"&&(typeof s.params[0].maxPriorityFeePerGas>"u"||typeof s.params[0].maxFeePerGas>"u")?xQ(e,s.params[0]).then(c=>{c.gasPrice!==void 0?s.params[0].gasPrice=c.gasPrice:c.maxPriorityFeePerGas!==void 0&&c.maxFeePerGas!==void 0&&(s.params[0].maxPriorityFeePerGas=c.maxPriorityFeePerGas,s.params[0].maxFeePerGas=c.maxFeePerGas),t&&setTimeout(()=>{i.eventEmitter.emit("sending",s)},0),u(s,e)}):(t&&setTimeout(()=>{i.eventEmitter.emit("sending",s)},0),u(s,e)),t&&setTimeout(()=>{i.eventEmitter.emit("sent",s)},0),i.eventEmitter};return n.method=e,n.request=this.request.bind(this),n};function xQ(e,t){return new Promise((r,n)=>{try{var a=new Ar({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(s){return s?hn.toHex(s):"latest"},function(){return!1}]}).createFunction(e.requestManager),i=new Ar({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(e.requestManager);Promise.all([a(),i()]).then(s=>{const[o,f]=s;if((t.type==="0x2"||t.type===void 0)&&o&&o.baseFeePerGas){let u,c;t.gasPrice?(u=t.gasPrice,c=t.gasPrice,delete t.gasPrice):(u=t.maxPriorityFeePerGas||"0x9502F900",c=t.maxFeePerGas||hn.toHex(hn.toBN(o.baseFeePerGas).mul(hn.toBN(2)).add(hn.toBN(u)))),r({maxFeePerGas:c,maxPriorityFeePerGas:u})}else{if(t.maxPriorityFeePerGas||t.maxFeePerGas)throw Error("Network doesn't support eip-1559");r({gasPrice:f})}})}catch(s){n(s)}})}Ar.prototype.getRevertReason=function(e,t){var r=this;return new Promise(function(n,a){new Ar({name:"call",call:"eth_call",params:2,abiCoder:r.abiCoder,handleRevert:!0}).createFunction(r.requestManager)(e,hn.numberToHex(t)).then(function(){n(!1)}).catch(function(i){i.reason?n({reason:i.reason,signature:i.signature}):a(i)})})};Ar.prototype.isRevertReasonString=function(e){return typeof e=="string"&&(e.length-2)/2%32===4&&e.substring(0,10)==="0x08c379a0"};Ar.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e};var RQ=Ar,Nf=Qe,DQ=lo,SN=ho,V0=pi,il=po,Q2=function(e){return Nf.isBN(e)},AN=function(e){return e&&e.constructor&&e.constructor.name==="BigNumber"},Ih=function(e){try{return DQ.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},MQ=function(e){return"0x"+Ih(e).toTwos(256).toString(16,64)},wN=function(e){return/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e)?!0:CN(e):!1},CN=function(e){e=e.replace(/^0x/i,"");for(var t=tv(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},LQ=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(a).join(r||"0")+e},kQ=function(e,t,r){var n=/^0x/i.test(e)||typeof e=="number";e=e.toString(16).replace(/^0x/i,"");var a=t-e.length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(a).join(r||"0")},k1=function(e){e=SN.encode(e);var t="";e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:\u0000)*/,""),e=e.split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},BQ=function(e){if(!nc(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');var t="",r=0;e=e.replace(/^0x/i,""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join(""),e=e.replace(/^(?:00)*/,""),e=e.split("").reverse().join("");for(var n=e.length,a=0;a<n;a+=2)r=parseInt(e.slice(a,a+2),16),t+=String.fromCharCode(r);return SN.decode(t)},IN=function(e){if(!e)return e;if(typeof e=="string"&&!nc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Ih(e).toNumber()},FQ=function(e){if(!e)return e;if(typeof e=="string"&&!nc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return Ih(e).toString(10)},B1=function(e){if(e==null)return e;if(!isFinite(e)&&!nc(e))throw new Error('Given input "'+e+'" is not a number.');var t=Ih(e),r=t.toString(16);return t.lt(new Nf(0))?"-0x"+r.slice(1):"0x"+r},HQ=function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((e[r]&15).toString(16));return"0x"+t.join("")},$Q=function(e){if(e=e.toString(16),!nc(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.slice(r,r+2),16));return t},PN=function(e,t){if(wN(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(ae.isBuffer(e))return"0x"+e.toString("hex");if(typeof e=="object"&&e&&!AN(e)&&!Q2(e))return t?"string":k1(JSON.stringify(e));if(typeof e=="string"){if(e.indexOf("-0x")===0||e.indexOf("-0X")===0)return t?"int256":B1(e);if(e.indexOf("0x")===0||e.indexOf("0X")===0)return t?"bytes":e;if(!isFinite(e))return t?"string":k1(e)}return t?e<0?"int256":"uint256":B1(e)},nc=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e)},NN=function(e){return(typeof e=="string"||typeof e=="number")&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},UQ=function(e){return e!==0&&NN(e)?e.replace(/^(-)?0x/i,"$1"):e},jQ=function(e){return il.isBloom(e)},GQ=function(e,t){return il.isUserEthereumAddressInBloom(e,t)},KQ=function(e,t){return il.isContractAddressInBloom(e,t)},WQ=function(e){return il.isTopic(e)},qQ=function(e,t){return il.isTopicInBloom(e,t)},VQ=function(e,t){return il.isInBloom(e,t)},ON="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",tv=function(e){Q2(e)&&(e=e.toString()),nc(e)&&/^0x/i.test(e.toString())?e=V0.toBuffer(e):typeof e=="string"&&(e=ae.from(e,"utf-8"));var t=V0.bufferToHex(V0.keccak256(e));return t===ON?null:t};tv._Hash=V0.keccak256;var zQ=function(e){return e=tv(e),e===null?ON:e},YQ=function(e){return typeof e=="number"?e:IN(PN(e))},Z2=function(e){if(typeof e=="string"&&e.includes("0x")){const[t,r]=e.toLocaleLowerCase().startsWith("-")?["-",e.slice(3)]:["",e.slice(2)];return new Nf(t+r,16)}else return new Nf(e)};Object.setPrototypeOf(Z2,Nf);Object.setPrototypeOf(Z2.prototype,Nf.prototype);var xN={BN:Z2,isBN:Q2,isBigNumber:AN,toBN:Ih,isAddress:wN,isBloom:jQ,isUserEthereumAddressInBloom:GQ,isContractAddressInBloom:KQ,isTopic:WQ,isTopicInBloom:qQ,isInBloom:VQ,checkAddressChecksum:CN,utf8ToHex:k1,hexToUtf8:BQ,hexToNumber:IN,hexToNumberString:FQ,numberToHex:B1,toHex:PN,hexToBytes:$Q,bytesToHex:HQ,isHex:NN,isHexStrict:nc,stripHexPrefix:UQ,leftPad:LQ,rightPad:kQ,toTwosComplement:MQ,sha3:tv,sha3Raw:zQ,toNumber:YQ},fu=Qe,Ca=xN,XQ=function(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e},JQ=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null},QQ=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null},gw=function(e){var t=typeof e;if(t==="string")return Ca.isHexStrict(e)?new fu(e.replace(/0x/i,""),16):new fu(e,10);if(t==="number")return new fu(e);if(Ca.isBigNumber(e))return new fu(e.toString(10));if(Ca.isBN(e))return e;throw new Error(e+" is not a number")},yw=function(e,t,r){var n,a;if(e=XQ(e),e==="bytes"){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}else{if(e==="string")return Ca.utf8ToHex(t);if(e==="bool")return t?"01":"00";if(e.startsWith("address")){if(r?n=64:n=40,!Ca.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return Ca.leftPad(t.toLowerCase(),n)}}if(n=JQ(e),e.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+t);return Ca.rightPad(t,n*2)}else if(e.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if(a=gw(t),a.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new fu(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?Ca.leftPad(a.toString("hex"),n/8*2):a}else if(e.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if(a=gw(t),a.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new fu(0))?a.toTwos(n).toString("hex"):n?Ca.leftPad(a.toString("hex"),n/8*2):a}else throw new Error("Unsupported or invalid type: "+e)},eT=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r="",n,a;if(e&&typeof e=="object"&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,r=e.hasOwnProperty("v")?e.v:e.value):(t=Ca.toHex(e,!0),r=Ca.toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")),(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=new fu(r)),Array.isArray(r)){if(a=QQ(t),a&&r.length!==a)throw new Error(t+" is not matching the given array "+JSON.stringify(r));a=r.length}return Array.isArray(r)?(n=r.map(function(i){return yw(t,i,a).toString("hex").replace("0x","")}),n.join("")):(n=yw(t,r,a),n.toString("hex").replace("0x",""))},ZQ=function(){var e=Array.prototype.slice.call(arguments),t=e.map(eT);return Ca.sha3("0x"+t.join(""))},eZ=function(){return Ca.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(eT).join(""))},tZ=function(){var e=Array.prototype.slice.call(arguments),t=e.map(eT);return"0x"+t.join("").toLowerCase()},rZ={soliditySha3:ZQ,soliditySha3Raw:eZ,encodePacked:tZ},$u=mo,Tt=xN,gg=rZ,nZ=bo,_w=Qe,aZ=function(e,t,r,n,a){return e&&typeof e=="object"&&!(e instanceof Error)&&e.data&&((e.data&&typeof e.data=="object"||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+`
`+e.data),typeof e=="string"&&(e=new Error(e)),typeof n=="function"&&n(e,a),typeof r=="function"&&((t&&typeof t.listeners=="function"&&t.listeners("error").length||typeof n=="function")&&t.catch(function(){}),setTimeout(function(){r(e)},1)),t&&typeof t.emit=="function"&&setTimeout(function(){t.emit("error",e,a),t.removeAllListeners()},1),t},iZ=function(e){return e&&typeof e=="object"&&e.name&&e.name.indexOf("(")!==-1?e.name:e.name+"("+tT(!1,e.inputs).join(",")+")"},tT=function(e,t){var r=[];return t.forEach(function(n){if(typeof n.components=="object"){if(n.type.substring(0,5)!=="tuple")throw new Error("components found but type is not tuple; report on GitHub");var a="",i=n.type.indexOf("[");i>=0&&(a=n.type.substring(i));var s=tT(e,n.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+a):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+a)}else r.push(n.type)}),r},sZ=function(e){return"0x"+nZ(e).toString("hex")},Tw=function(e){if(!Tt.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var a=parseInt(e.slice(r,r+2),16);t+=String.fromCharCode(a)}return t},Ew=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),a=n.toString(16);t+=a.length<2?"0"+a:a}return"0x"+t},RN=function(e){if(e=e?e.toLowerCase():"ether",!$u.unitMap[e])throw new Error('This unit "'+e+`" doesn't exist, please use the one of the following units`+JSON.stringify($u.unitMap,null,2));return e},oZ=function(e,t){if(t=RN(t),!Tt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return Tt.isBN(e)?$u.fromWei(e,t):$u.fromWei(e,t).toString(10)},uZ=function(e,t){if(t=RN(t),!Tt.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return Tt.isBN(e)?$u.toWei(e,t):$u.toWei(e,t).toString(10)},cZ=function(e){if(typeof e>"u")return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=Tt.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},fZ=function(e,t){if(e==t)return 0;if((e=="genesis"||e=="earliest"||e==0)&&(t=="genesis"||t=="earliest"||t==0))return 0;if(e=="genesis"||e=="earliest")return-1;if(t=="genesis"||t=="earliest")return 1;if(e=="latest")return t=="pending"?-1:1;if(t==="latest")return e=="pending"?1:-1;if(e=="pending")return 1;if(t=="pending")return-1;{let r=new _w(e),n=new _w(t);return r.lt(n)?-1:r.eq(n)?0:1}},lZ={_fireError:aZ,_jsonInterfaceMethodToString:iZ,_flattenTypes:tT,randomHex:sZ,BN:Tt.BN,isBN:Tt.isBN,isBigNumber:Tt.isBigNumber,isHex:Tt.isHex,isHexStrict:Tt.isHexStrict,sha3:Tt.sha3,sha3Raw:Tt.sha3Raw,keccak256:Tt.sha3,soliditySha3:gg.soliditySha3,soliditySha3Raw:gg.soliditySha3Raw,encodePacked:gg.encodePacked,isAddress:Tt.isAddress,checkAddressChecksum:Tt.checkAddressChecksum,toChecksumAddress:cZ,toHex:Tt.toHex,toBN:Tt.toBN,bytesToHex:Tt.bytesToHex,hexToBytes:Tt.hexToBytes,hexToNumberString:Tt.hexToNumberString,hexToNumber:Tt.hexToNumber,toDecimal:Tt.hexToNumber,numberToHex:Tt.numberToHex,fromDecimal:Tt.numberToHex,hexToUtf8:Tt.hexToUtf8,hexToString:Tt.hexToUtf8,toUtf8:Tt.hexToUtf8,stripHexPrefix:Tt.stripHexPrefix,utf8ToHex:Tt.utf8ToHex,stringToHex:Tt.utf8ToHex,fromUtf8:Tt.utf8ToHex,hexToAscii:Tw,toAscii:Tw,asciiToHex:Ew,fromAscii:Ew,unitMap:$u.unitMap,toWei:uZ,fromWei:oZ,padLeft:Tt.leftPad,leftPad:Tt.leftPad,padRight:Tt.rightPad,rightPad:Tt.rightPad,toTwosComplement:Tt.toTwosComplement,isBloom:Tt.isBloom,isUserEthereumAddressInBloom:Tt.isUserEthereumAddressInBloom,isContractAddressInBloom:Tt.isContractAddressInBloom,isTopic:Tt.isTopic,isTopicInBloom:Tt.isTopicInBloom,isInBloom:Tt.isInBloom,compareBlockNumbers:fZ,toNumber:Tt.toNumber};const DN=ei(z7);var dZ=ip.Buffer,fs=lZ,hZ=DN.AbiCoder,yg=DN.ParamType,Wl=new hZ(function(e,t){return e.match(/^u?int/)&&!Array.isArray(t)&&(!(t&&typeof t=="object")||t.constructor.name!=="BN")?t.toString():t});function MN(){}var zn=function(){};zn.prototype.encodeFunctionSignature=function(e){return(typeof e=="function"||typeof e=="object"&&e)&&(e=fs._jsonInterfaceMethodToString(e)),fs.sha3(e).slice(0,10)};zn.prototype.encodeEventSignature=function(e){return(typeof e=="function"||typeof e=="object"&&e)&&(e=fs._jsonInterfaceMethodToString(e)),fs.sha3(e)};zn.prototype.encodeParameter=function(e,t){return this.encodeParameters([e],[t])};zn.prototype.encodeParameters=function(e,t){var r=this;return e=r.mapTypes(e),t=t.map(function(n,a){let i=e[a];if(typeof i=="object"&&i.type&&(i=i.type),n=r.formatParam(i,n),typeof i=="string"&&i.includes("tuple")){const s=Wl._getCoder(yg.from(i)),o=(f,u)=>{if(f.name==="array"){if(!f.type.match(/\[(\d+)\]/))return u.map(l=>o(Wl._getCoder(yg.from(f.type.replace("[]",""))),l));const c=parseInt(f.type.match(/\[(\d+)\]/)[1]);if(u.length!==c)throw new Error("Array length does not matches with the given input");return u.map(l=>o(Wl._getCoder(yg.from(f.type.replace(/\[\d+\]/,""))),l))}f.coders.forEach((c,l)=>{c.name==="tuple"?o(c,u[l]):u[l]=r.formatParam(c.name,u[l])})};o(s,n)}return n}),Wl.encode(e,t)};zn.prototype.mapTypes=function(e){var t=this,r=[];return e.forEach(function(n){if(typeof n=="object"&&n.type==="function"&&(n=Object.assign({},n,{type:"bytes24"})),t.isSimplifiedStructFormat(n)){var a=Object.keys(n)[0];r.push(Object.assign(t.mapStructNameAndType(a),{components:t.mapStructToCoderFormat(n[a])}));return}r.push(n)}),r};zn.prototype.isSimplifiedStructFormat=function(e){return typeof e=="object"&&typeof e.components>"u"&&typeof e.name>"u"};zn.prototype.mapStructNameAndType=function(e){var t="tuple";return e.indexOf("[]")>-1&&(t="tuple[]",e=e.slice(0,-2)),{type:t,name:e}};zn.prototype.mapStructToCoderFormat=function(e){var t=this,r=[];return Object.keys(e).forEach(function(n){if(typeof e[n]=="object"){r.push(Object.assign(t.mapStructNameAndType(n),{components:t.mapStructToCoderFormat(e[n])}));return}r.push({name:n,type:e[n]})}),r};zn.prototype.formatParam=function(e,t){const r=new RegExp(/^bytes([0-9]*)$/),n=new RegExp(/^bytes([0-9]*)\[\]$/),a=new RegExp(/^(u?int)([0-9]*)$/),i=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(fs.isBN(t)||fs.isBigNumber(t))return t.toString(10);if(e.match(n)||e.match(i))return t.map(o=>this.formatParam(e.replace("[]",""),o));let s=e.match(a);if(s){let o=parseInt(s[2]||"256");o/8<t.length&&(t=fs.leftPad(t,o))}if(s=e.match(r),s){dZ.isBuffer(t)&&(t=fs.toHex(t));let o=parseInt(s[1]);if(o){let f=o*2;t.substring(0,2)==="0x"&&(f+=2),t.length<f&&(t=fs.rightPad(t,o*2))}t.length%2===1&&(t="0x0"+t.substring(2))}return t};zn.prototype.encodeFunctionCall=function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e.inputs,t).replace("0x","")};zn.prototype.decodeParameter=function(e,t){return this.decodeParameters([e],t)[0]};zn.prototype.decodeParameters=function(e,t){return this.decodeParametersWith(e,t,!1)};zn.prototype.decodeParametersWith=function(e,t,r){if(e.length>0&&(!t||t==="0x"||t==="0X"))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var n=Wl.decode(this.mapTypes(e),"0x"+t.replace(/0x/i,""),r),a=new MN;return a.__length__=0,e.forEach(function(i,s){var o=n[a.__length__];const f=typeof i=="object"&&i.type&&i.type==="string";o=o==="0x"&&!f&&!(typeof i=="string"&&i==="string")?null:o,a[s]=o,(typeof i=="function"||i&&typeof i=="object")&&i.name&&(a[i.name]=o),a.__length__++}),a};zn.prototype.decodeLog=function(e,t,r){var n=this;r=Array.isArray(r)?r:[r],t=t||"";var a=[],i=[],s=0;e.forEach(function(c,l){c.indexed?(i[l]=["bool","int","uint","address","fixed","ufixed"].find(function(d){return c.type.indexOf(d)!==-1})?n.decodeParameter(c.type,r[s]):r[s],s++):a[l]=c});var o=t,f=o?this.decodeParametersWith(a,o,!0):[],u=new MN;return u.__length__=0,e.forEach(function(c,l){u[l]=c.type==="string"?"":null,typeof f[l]<"u"&&(u[l]=f[l]),typeof i[l]<"u"&&(u[l]=i[l]),c.name&&(u[c.name]=u[l]),u.__length__++}),u};var pZ=new zn,mZ=pZ,F1=wJ,ql=RQ,Ia=Zm,vZ=TN.subscription,Wn=al.formatters,yi=al.errors,bZ=bN,_s=mZ,on=function e(t,r,n){var a=this,i=Array.prototype.slice.call(arguments);if(!(this instanceof e))throw new Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){F1.packageInit(a,arguments),a.clearSubscriptions=a._requestManager.clearSubscriptions},F1.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!t||!Array.isArray(t))throw yi.ContractMissingABIError();this.options={};var s=i[i.length-1];s&&typeof s=="object"&&!Array.isArray(s)&&(n=s,this.options={...this.options,...this._getOrSetDefaultOptions(n)},r&&typeof r=="object"&&(r=null)),Object.defineProperty(this.options,"address",{set:function(u){u&&(a._address=Ia.toChecksumAddress(Wn.inputAddressFormatter(u)))},get:function(){return a._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(u){return a.methods={},a.events={},a._jsonInterface=u.map(function(c){var l,d;if(c.constant=c.stateMutability==="view"||c.stateMutability==="pure"||c.constant,c.payable=c.stateMutability==="payable"||c.payable,c.name&&(d=Ia._jsonInterfaceMethodToString(c)),c.type==="function"){if(c.signature=_s.encodeFunctionSignature(d),l=a._createTxObject.bind({method:c,parent:a}),!a.methods[c.name])a.methods[c.name]=l;else{var h=a._createTxObject.bind({method:c,parent:a,nextMethod:a.methods[c.name]});a.methods[c.name]=h}a.methods[c.signature]=l,a.methods[d]=l}else if(c.type==="event"){c.signature=_s.encodeEventSignature(d);var p=a._on.bind(a,c.signature);(!a.events[c.name]||a.events[c.name].name==="bound ")&&(a.events[c.name]=p),a.events[c.signature]=p,a.events[d]=p}return c}),a.events.allEvents=a._on.bind(a,"allevents"),a._jsonInterface},get:function(){return a._jsonInterface},enumerable:!0});var o=this.constructor.defaultAccount,f=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return a.options.handleRevert===!1||a.options.handleRevert===!0?a.options.handleRevert:this.constructor.handleRevert},set:function(u){a.options.handleRevert=u},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return a.options.common||this.constructor.defaultCommon},set:function(u){a.options.common=u},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return a.options.hardfork||this.constructor.defaultHardfork},set:function(u){a.options.hardfork=u},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return a.options.chain||this.constructor.defaultChain},set:function(u){a.options.chain=u},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return a.options.transactionPollingTimeout===0?a.options.transactionPollingTimeout:a.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(u){a.options.transactionPollingTimeout=u},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return a.options.transactionPollingInterval===0?a.options.transactionPollingInterval:a.options.transactionPollingInterval||this.constructor.transactionPollingInterval},set:function(u){a.options.transactionPollingInterval=u},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return a.options.transactionConfirmationBlocks===0?a.options.transactionConfirmationBlocks:a.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(u){a.options.transactionConfirmationBlocks=u},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return a.options.transactionBlockTimeout===0?a.options.transactionBlockTimeout:a.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(u){a.options.transactionBlockTimeout=u},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return a.options.blockHeaderTimeout===0?a.options.blockHeaderTimeout:a.options.blockHeaderTimeout||this.constructor.blockHeaderTimeout},set:function(u){a.options.blockHeaderTimeout=u},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return o},set:function(u){return u&&(o=Ia.toChecksumAddress(Wn.inputAddressFormatter(u))),u},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return f},set:function(u){return f=u,u},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=r,this.options.jsonInterface=t};on.setProvider=function(e,t){F1.packageInit(this,[e]),this._ethAccounts=t};on.prototype._getCallback=function(t){if(t&&t[t.length-1]&&typeof t[t.length-1]=="function")return t.pop()};on.prototype._checkListener=function(e,t){if(t===e)throw yi.ContractReservedEventError(e)};on.prototype._getOrSetDefaultOptions=function(t){var r=t.gasPrice?String(t.gasPrice):null,n=t.from?Ia.toChecksumAddress(Wn.inputAddressFormatter(t.from)):null;return t.data=t.data||this.options.data,t.from=n||this.options.from,t.gasPrice=r||this.options.gasPrice,t.gas=t.gas||t.gasLimit||this.options.gas,delete t.gasLimit,t};on.prototype._encodeEventABI=function(e,t){t=t||{};var r=t.filter||{},n={};if(["fromBlock","toBlock"].filter(function(i){return t[i]!==void 0}).forEach(function(i){n[i]=Wn.inputBlockNumberFormatter(t[i])}),Array.isArray(t.topics))n.topics=t.topics;else{if(n.topics=[],e&&!e.anonymous&&e.name!=="ALLEVENTS"&&n.topics.push(e.signature),e.name!=="ALLEVENTS"){var a=e.inputs.filter(function(i){return i.indexed===!0}).map(function(i){var s=r[i.name];return s?Array.isArray(s)?s.map(function(o){return _s.encodeParameter(i.type,o)}):_s.encodeParameter(i.type,s):null});n.topics=n.topics.concat(a)}n.topics.length||delete n.topics}return this.options.address&&(n.address=this.options.address.toLowerCase()),n};on.prototype._decodeEventABI=function(e){var t=this;e.data=e.data||"",e.topics=e.topics||[];var r=Wn.outputLogFormatter(e);if(t.name==="ALLEVENTS"&&(t=t.jsonInterface.find(function(a){return a.signature===e.topics[0]})||{anonymous:!0}),t.inputs=t.inputs||[],!t.anonymous){let a=0;t.inputs.forEach(i=>i.indexed?a++:null),a>0&&e.topics.length!==a+1&&(t={anonymous:!0,inputs:[]})}var n=t.anonymous?e.topics:e.topics.slice(1);return r.returnValues=_s.decodeLog(t.inputs,e.data,n),delete r.returnValues.__length__,r.event=t.name,r.signature=t.anonymous||!e.topics[0]?null:e.topics[0],r.raw={data:r.data,topics:r.topics},delete r.data,delete r.topics,r};on.prototype._encodeMethodABI=function(){var t=this._method.signature,r=this.arguments||[],n=!1,a=this._parent.options.jsonInterface.filter(function(s){return t==="constructor"&&s.type===t||(s.signature===t||s.signature===t.replace("0x","")||s.name===t)&&s.type==="function"}).map(function(s){var o=Array.isArray(s.inputs)?s.inputs.length:0;if(o!==r.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+o+" arguments.");return s.type==="function"&&(n=s.signature),Array.isArray(s.inputs)?s.inputs:[]}).map(function(s){return _s.encodeParameters(s,r).replace("0x","")})[0]||"";if(t==="constructor"){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+a}var i=n?n+a:a;if(!i)throw new Error(`Couldn't find a matching contract method named "`+this._method.name+'".');return i};on.prototype._decodeMethodReturn=function(e,t){if(!t)return null;t=t.length>=2?t.slice(2):t;var r=_s.decodeParameters(e,t);return r.__length__===1?r[0]:(delete r.__length__,r)};on.prototype.deploy=function(e,t){if(e=e||{},e.arguments=e.arguments||[],e=this._getOrSetDefaultOptions(e),!e.data){if(typeof t=="function")return t(yi.ContractMissingDeployDataError());throw yi.ContractMissingDeployDataError()}var r=this.options.jsonInterface.find(n=>n.type==="constructor")||{};return r.signature="constructor",this._createTxObject.apply({method:r,parent:this,deployData:e.data,_ethAccounts:this.constructor._ethAccounts},e.arguments)};on.prototype._generateEventOptions=function(){var e=Array.prototype.slice.call(arguments),t=this._getCallback(e),r=(!!e[e.length-1]&&typeof e[e.length-1])==="object"?e.pop():{},n=typeof e[0]=="string"?e[0]:"allevents",a=n.toLowerCase()==="allevents"?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(i){return i.type==="event"&&(i.name===n||i.signature==="0x"+n.replace("0x",""))});if(!a)throw yi.ContractEventDoesNotExistError(n);if(!Ia.isAddress(this.options.address))throw yi.ContractNoAddressDefinedError();return{params:this._encodeEventABI(a,r),event:a,callback:t}};on.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)};on.prototype.once=function(e,t,r){var n=Array.prototype.slice.call(arguments);if(r=this._getCallback(n),!r)throw yi.ContractOnceRequiresCallbackError();t&&delete t.fromBlock,this._on(e,t,function(a,i,s){s.unsubscribe(),typeof r=="function"&&r(a,i,s)})};on.prototype._on=function(){var e=this._generateEventOptions.apply(this,arguments);e.params&&e.params.toBlock&&(delete e.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",e.event.name),this._checkListener("removeListener",e.event.name);var t=new vZ({subscription:{params:1,inputFormatter:[Wn.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(e.event),subscriptionHandler:function(r){r.removed?this.emit("changed",r):this.emit("data",r),typeof this.callback=="function"&&this.callback(null,r,this)}},type:"eth",requestManager:this._requestManager});return t.subscribe("logs",e.params,e.callback||function(){}),t};on.prototype.getPastEvents=function(){var e=this._generateEventOptions.apply(this,arguments),t=new ql({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[Wn.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(e.event)});t.setRequestManager(this._requestManager);var r=t.buildCall();return t=null,r(e.params,e.callback)};on.prototype._createTxObject=function(){var t=Array.prototype.slice.call(arguments),r={};if(this.method.type==="function"&&(r.call=this.parent._executeMethod.bind(r,"call"),r.call.request=this.parent._executeMethod.bind(r,"call",!0)),r.send=this.parent._executeMethod.bind(r,"send"),r.send.request=this.parent._executeMethod.bind(r,"send",!0),r.encodeABI=this.parent._encodeMethodABI.bind(r),r.estimateGas=this.parent._executeMethod.bind(r,"estimate"),r.createAccessList=this.parent._executeMethod.bind(r,"createAccessList"),t&&this.method.inputs&&t.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,t);throw yi.InvalidNumberOfParams(t.length,this.method.inputs.length,this.method.name)}return r.arguments=t||[],r._method=this.method,r._parent=this.parent,r._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(r._deployData=this.deployData),r};on.prototype._processExecuteArguments=function(t,r){var n={};if(n.type=t.shift(),n.callback=this._parent._getCallback(t),n.type==="call"&&t[t.length-1]!==!0&&(typeof t[t.length-1]=="string"||isFinite(t[t.length-1]))&&(n.defaultBlock=t.pop()),n.options=(!!t[t.length-1]&&typeof t[t.length-1])==="object"?t.pop():{},n.generateRequest=t[t.length-1]===!0?t.pop():!1,n.options=this._parent._getOrSetDefaultOptions(n.options),n.options.data=this.encodeABI(),!this._deployData&&!Ia.isAddress(this._parent.options.address))throw yi.ContractNoAddressDefinedError();return this._deployData||(n.options.to=this._parent.options.address),n.options.data?n:Ia._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),r.eventEmitter,r.reject,n.callback)};on.prototype._executeMethod=function(){var t=this,r=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),n),n=bZ(r.type!=="send"),a=t.constructor._ethAccounts||t._ethAccounts;if(r.generateRequest){var i={params:[Wn.inputCallFormatter.call(this._parent,r.options)],callback:r.callback};return r.type==="call"?(i.params.push(Wn.inputDefaultBlockNumberFormatter.call(this._parent,r.defaultBlock)),i.method="eth_call",i.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):i.method="eth_sendTransaction",i}switch(r.type){case"createAccessList":if(!Ia.isAddress(r.options.from))return Ia._fireError(yi.ContractNoFromAddressDefinedError(),n.eventEmitter,n.reject,r.callback);var s=new ql({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[Wn.inputTransactionFormatter,Wn.inputDefaultBlockNumberFormatter],requestManager:t._parent._requestManager,accounts:a,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction();return s(r.options,r.callback);case"estimate":var o=new ql({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[Wn.inputCallFormatter],outputFormatter:Ia.hexToNumber,requestManager:t._parent._requestManager,accounts:a,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction();return o(r.options,r.callback);case"call":var f=new ql({name:"call",call:"eth_call",params:2,inputFormatter:[Wn.inputCallFormatter,Wn.inputDefaultBlockNumberFormatter],outputFormatter:function(l){return t._parent._decodeMethodReturn(t._method.outputs,l)},requestManager:t._parent._requestManager,accounts:a,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,handleRevert:t._parent.handleRevert,abiCoder:_s}).createFunction();return f(r.options,r.defaultBlock,r.callback);case"send":if(!Ia.isAddress(r.options.from))return Ia._fireError(yi.ContractNoFromAddressDefinedError(),n.eventEmitter,n.reject,r.callback);if(typeof this._method.payable=="boolean"&&!this._method.payable&&r.options.value&&r.options.value>0)return Ia._fireError(new Error("Can not send value to non-payable contract method or constructor"),n.eventEmitter,n.reject,r.callback);var u={receiptFormatter:function(l){if(Array.isArray(l.logs)){var d=l.logs.map(p=>t._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:t._parent.options.jsonInterface},p));l.events={};var h=0;d.forEach(function(p){p.event?l.events[p.event]?Array.isArray(l.events[p.event])?l.events[p.event].push(p):l.events[p.event]=[l.events[p.event],p]:l.events[p.event]=p:(l.events[h]=p,h++)}),delete l.logs}return l},contractDeployFormatter:function(l){var d=t._parent.clone();return d.options.address=l.contractAddress,d}},c=new ql({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[Wn.inputTransactionFormatter],requestManager:t._parent._requestManager,accounts:t.constructor._ethAccounts||t._ethAccounts,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,transactionBlockTimeout:t._parent.transactionBlockTimeout,transactionConfirmationBlocks:t._parent.transactionConfirmationBlocks,transactionPollingTimeout:t._parent.transactionPollingTimeout,transactionPollingInterval:t._parent.transactionPollingInterval,defaultCommon:t._parent.defaultCommon,defaultChain:t._parent.defaultChain,defaultHardfork:t._parent.defaultHardfork,handleRevert:t._parent.handleRevert,extraFormatters:u,abiCoder:_s}).createFunction();return c(r.options,r.callback);default:throw new Error('Method "'+r.type+'" not implemented.')}};var gZ=on,yZ={},_Z=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},TZ=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},LN=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(C2,"__esModule",{value:!0});var Sw=LN(gZ),_g=ua,Tg=w2,EZ=LN(v7),SZ=function(){function e(t){var r=t===void 0?{}:t,n=r.network,a=n===void 0?Tg.TORUS_NETWORK.MAINNET:n,i=r.proxyAddress,s=i===void 0?e.PROXY_ADDRESS_MAINNET:i;this._currentEpoch="",this._torusNodeEndpoints=[],this._torusNodePub=[],this._torusIndexes=[];var o;try{var f=new EZ.default(a);o=f.href.endsWith("/")?f.href.substring(0,f.href.length-1):f.href}catch{var u=yZ.INFURA_PROJECT_ID;o="https://".concat(Tg.NETWORK_MAP[a],".infura.io/v3/").concat(u)}Sw.default.setProvider(o),this.nodeListContract=new Sw.default(Tg.abi,s),this.nodeListAddress=s,this.updated=!1}return Object.defineProperty(e.prototype,"_nodeDetails",{get:function(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}},enumerable:!1,configurable:!0}),e.prototype.getNodeDetails=function(t){var r=t.verifier,n=t.verifierId;return _Z(this,void 0,void 0,function(){var a,i,s,o,f,u,c,l,d,h,p,m,v,b,g;return TZ(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),this.updated&&(this.nodeListAddress===e.PROXY_ADDRESS_MAINNET||this.nodeListAddress===e.PROXY_ADDRESS_TESTNET)?[2,this._nodeDetails]:(a=(0,_g.keccak256)(n),[4,this.nodeListContract.methods.getNodeSet(r,a).call()]);case 1:for(i=y.sent(),s=i.currentEpoch,o=i.torusNodeEndpoints,f=i.torusNodePubX,u=i.torusNodePubY,c=i.torusIndexes,this._currentEpoch=s,this._torusIndexes=c.map(function(C){return Number(C)}),l=[],d=[],h=0;h<o.length;h+=1)p=o[h],m=f[h],v=u[h],b="https://".concat(p.split(":")[0],"/jrpc"),l.push(b),d.push({X:(0,_g.toHex)(m).replace("0x",""),Y:(0,_g.toHex)(v).replace("0x","")});return this._torusNodeEndpoints=l,this._torusNodePub=d,this.updated=!0,[2,this._nodeDetails];case 2:if(g=y.sent(),this.nodeListAddress===e.PROXY_ADDRESS_MAINNET)return[2,e.NODE_DETAILS_MAINNET];throw g;case 3:return[2]}})})},e.PROXY_ADDRESS_MAINNET="0xf20336e16B5182637f09821c27BDe29b0AFcfe80",e.PROXY_ADDRESS_TESTNET="0xd084604e5FA387FbC2Da8bAab07fDD6aDED4614A",e.PROXY_ADDRESS_CYAN="0x9f072ba19b3370e512aa1b4bfcdaf97283168005",e.PROXY_ADDRESS_AQUA="0x29Dea82a0509153b91040ee13cDBba0f03efb625",e.PROXY_ADDRESS_CELESTE="0x6Bffb4e89453069E7487f0fa5c9f4a2D771cce6c",e.NODE_DETAILS_MAINNET={currentEpoch:"19",nodeListAddress:e.PROXY_ADDRESS_MAINNET,torusNodeEndpoints:["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],torusIndexes:[1,2,3,4,5,6,7,8,9],torusNodePub:[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}],updated:!1},e}();C2.default=SZ;(function(e){var t=$&&$.__createBinding||(Object.create?function(i,s,o,f){f===void 0&&(f=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,f,u)}:function(i,s,o,f){f===void 0&&(f=o),i[f]=s[o]}),r=$&&$.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)},n=$&&$.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r(w2,e);var a=C2;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n(a).default}})})(jm);var AZ=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kp=$&&$.__assign||function(){return kp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},kp.apply(this,arguments)},wZ=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CZ=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),IZ=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wZ(t,e,r);return CZ(t,e),t},PZ=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},NZ=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kN=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Om,"__esModule",{value:!0});var OZ=jK,xZ=kN(gh),Eg=kN(Qe),v0=IZ(jm),RZ=function(e){AZ(t,e);function t(r){var n=r.enableLogging,a=n===void 0?!1:n,i=r.postboxKey,s=r.customAuthArgs,o=e.call(this,{enableLogging:a,postboxKey:i})||this;return i||(o.postboxKey=new Eg.default(0)),o.customAuthArgs=s,o.serviceProviderName="TorusServiceProvider",o.fetchNodeDetails=new v0.default({network:o.customAuthArgs.networkUrl,proxyAddress:o.customAuthArgs.network===v0.TORUS_NETWORK.TESTNET?v0.default.PROXY_ADDRESS_TESTNET:v0.default.PROXY_ADDRESS_MAINNET}),o.torus=new xZ.default({network:o.customAuthArgs.network}),o}return t.fromJSON=function(r){var n=r.enableLogging,a=r.postboxKey,i=r.customAuthArgs;return new t({enableLogging:n,postboxKey:a,customAuthArgs:i})},t.prototype.getTorusKey=function(r,n,a,i){return PZ(this,void 0,void 0,function(){var s,o,f,u,c,l;return NZ(this,function(d){switch(d.label){case 0:return[4,this.fetchNodeDetails.getNodeDetails({verifier:n,verifierId:a})];case 1:return s=d.sent(),o=s.torusNodeEndpoints,f=s.torusIndexes,u=s.torusNodePub,[4,this.torus.getPublicAddress(o,u,{verifier:n,verifierId:a},!0)];case 2:if(c=d.sent(),typeof c=="string")throw new Error("must use extended pub key");return[4,this.torus.retrieveShares(o,f,n,{verifier_id:a},r)];case 3:if(l=d.sent(),l.ethAddress.toLowerCase()!==c.address.toLowerCase())throw new Error("data ethAddress does not match response address");return this.postboxKey=new Eg.default(l.privKey,"hex"),this.verifierId=a,this.extraData=i,[2]}})})},t.prototype.setKey=function(r){this.postboxKey=r},t.prototype.toJSON=function(){return kp(kp({},e.prototype.toJSON.call(this)),{serviceProviderName:this.serviceProviderName,customAuthArgs:this.customAuthArgs})},t.prototype.hasPrivateKey=function(){return this.postboxKey&&this.postboxKey.toString("hex")!==new Eg.default(0).toString("hex")},t}(OZ.ServiceProviderBase);Om.default=RZ;var rT={},DZ={development:{AUTHEN_SERVER_FALLBACK:"https://athena.skymavis.one/oauth2/auth",OAUTH_CALLBACK_FALLBACK:"https://accounts.skymavis.one/oauth2/callback"},staging:{AUTHEN_SERVER_FALLBACK:"https://athena-staging.skymavis.one/oauth2/auth",OAUTH_CALLBACK_FALLBACK:"https://accounts-staging.skymavis.one/oauth2/callback"},production:{AUTHEN_SERVER_FALLBACK:"https://athena.skymavis.com/oauth2/auth",OAUTH_CALLBACK_FALLBACK:"https://accounts.skymavis.com/oauth2/callback"}};function MZ(){let e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(r=="x"?n:n&3|8).toString(16)})}var LZ=class{constructor(e){Yn(this,"extraParams");Yn(this,"formatQueryFrom",e=>{const t=Object.entries(e).reduce((r,[n,a])=>(r=r.concat(`${n}=${a}&`),r),"");return t.slice(0,t.length-1)});this.initOptions=e,this.extraParams={}}addParam(e,t){return this.extraParams[e]=t,this}getLink(e){const{OAUTH_CALLBACK_FALLBACK:t,AUTHEN_SERVER_FALLBACK:r}=DZ[this.initOptions.runtimeEnv||"production"],n=this.formatQueryFrom({client_id:this.initOptions.clientId,scope:this.initOptions.scopes.join("+"),response_type:"code",state:this.initOptions.state||MZ(),redirect_uri:e==="redirect"?this.initOptions.redirectUri:t,nonce:String(new Date().getTime()),...this.extraParams});return`${r}?${n}`}};const kZ=Object.freeze(Object.defineProperty({__proto__:null,QueryBuilder:LZ},Symbol.toStringTag,{value:"Module"})),BZ=ei(kZ);var Aw=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},ww=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(rT,"__esModule",{value:!0});var FZ=ua,HZ=BZ,$Z=function(){function e(t){this.loginParams=t,this.states=[]}return e.prototype.parseResult=function(t){var r,n,a;return Aw(this,void 0,void 0,function(){var i,s,o,f,u;return ww(this,function(c){switch(c.label){case 0:return i=t.split("&"),i?(s=(r=i.find(function(l){return l.startsWith("code=")}))===null||r===void 0?void 0:r.split("=")[1],o=(n=i.find(function(l){return l.startsWith("app_source=")}))===null||n===void 0?void 0:n.split("=")[1],f=(a=i.find(function(l){return l.startsWith("state=")}))===null||a===void 0?void 0:a.split("=")[1],s&&f?!this.loginParams.ignoreStateCheck&&!this.states.includes(f)?[2,{error:"Invalid state returned"}]:(this.states.splice(this.states.indexOf(f)),[4,this.getIdToken(s)]):[3,2]):[3,2];case 1:return u=c.sent(),u.source=o,[2,u];case 2:return[2,{error:"Can't get result"}]}})})},e.prototype.login=function(t,r,n,a){this.loginParams.onOpenLink(this.getSsoUrl(t,r,n,void 0,void 0,a))},e.prototype.getSsoUrl=function(t,r,n,a,i,s,o){var f=o??(0,FZ.randomHex)(18).slice(2);this.loginParams.ignoreStateCheck||this.states.push(f);var u=new HZ.QueryBuilder({clientId:this.loginParams.ssoClientId,redirectUri:this.loginParams.redirectUri,scopes:["openid","offline"],runtimeEnv:this.loginParams.environment,state:f});return u.addParam("ux_mode","redirect").addParam("request_type",n||"login"),a&&u.addParam("audience",i??this.loginParams.ssoClientId).addParam("response_type","token"),t&&u.addParam("select_provider",t),r&&u.addParam("providers",r.join(",")),s&&Object.keys(s).forEach(function(c){u.addParam(c,s[c])}),u.getLink("redirect")},e.prototype.getIdToken=function(t){return Aw(this,void 0,void 0,function(){var r,n;return ww(this,function(a){switch(a.label){case 0:return[4,this.fetch(this.loginParams.ssoVerifyUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({redirect_uri:this.loginParams.redirectUri,code:t,client_id:this.loginParams.ssoClientId})})];case 1:return r=a.sent(),[4,r.json()];case 2:return n=a.sent(),[2,{idToken:n==null?void 0:n.id_token,sub:n==null?void 0:n.sub,email:n==null?void 0:n.email,name:n==null?void 0:n.name,addr:n==null?void 0:n.addr}]}})})},e}(),UZ=rT.default=$Z;(function(e){var t=$&&$.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=$&&$.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Om,e),r(rT,e)})(hI);var BN={},rv={},ac={},Es={},FN={};const jZ="elliptic",GZ="6.5.5",KZ="EC cryptography",WZ="lib/elliptic.js",qZ=["lib"],VZ={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},zZ={type:"git",url:"git@github.com:indutny/elliptic"},YZ=["EC","Elliptic","curve","Cryptography"],XZ="Fedor Indutny <fedor@indutny.com>",JZ="MIT",QZ={url:"https://github.com/indutny/elliptic/issues"},ZZ="https://github.com/indutny/elliptic",eee={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},tee={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},ree={name:jZ,version:GZ,description:KZ,main:WZ,files:qZ,scripts:VZ,repository:zZ,keywords:YZ,author:XZ,license:JZ,bugs:QZ,homepage:ZZ,devDependencies:eee,dependencies:tee};var Ba={};(function(e){var t=e,r=Qe,n=d4,a=h4;t.assert=n,t.toArray=a.toArray,t.zero2=a.zero2,t.toHex=a.toHex,t.encode=a.encode;function i(c,l,d){var h=new Array(Math.max(c.bitLength(),d)+1),p;for(p=0;p<h.length;p+=1)h[p]=0;var m=1<<l+1,v=c.clone();for(p=0;p<h.length;p++){var b,g=v.andln(m-1);v.isOdd()?(g>(m>>1)-1?b=(m>>1)-g:b=g,v.isubn(b)):b=0,h[p]=b,v.iushrn(1)}return h}t.getNAF=i;function s(c,l){var d=[[],[]];c=c.clone(),l=l.clone();for(var h=0,p=0,m;c.cmpn(-h)>0||l.cmpn(-p)>0;){var v=c.andln(3)+h&3,b=l.andln(3)+p&3;v===3&&(v=-1),b===3&&(b=-1);var g;v&1?(m=c.andln(7)+h&7,(m===3||m===5)&&b===2?g=-v:g=v):g=0,d[0].push(g);var y;b&1?(m=l.andln(7)+p&7,(m===3||m===5)&&v===2?y=-b:y=b):y=0,d[1].push(y),2*h===g+1&&(h=1-h),2*p===y+1&&(p=1-p),c.iushrn(1),l.iushrn(1)}return d}t.getJSF=s;function o(c,l,d){var h="_"+l;c.prototype[l]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}}t.cachedProperty=o;function f(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=f;function u(c){return new r(c,"hex","le")}t.intFromLE=u})(Ba);var nT={},xo=Qe,Ph=Ba,Bp=Ph.getNAF,nee=Ph.getJSF,Fp=Ph.assert;function yo(e,t){this.type=e,this.p=new xo(t.p,16),this.red=t.prime?xo.red(t.prime):xo.mont(this.p),this.zero=new xo(0).toRed(this.red),this.one=new xo(1).toRed(this.red),this.two=new xo(2).toRed(this.red),this.n=t.n&&new xo(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var nv=yo;yo.prototype.point=function(){throw new Error("Not implemented")};yo.prototype.validate=function(){throw new Error("Not implemented")};yo.prototype._fixedNafMul=function(t,r){Fp(t.precomputed);var n=t._getDoubles(),a=Bp(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],o,f;for(o=0;o<a.length;o+=n.step){f=0;for(var u=o+n.step-1;u>=o;u--)f=(f<<1)+a[u];s.push(f)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<s.length;o++)f=s[o],f===d?l=l.mixedAdd(n.points[o]):f===-d&&(l=l.mixedAdd(n.points[o].neg()));c=c.add(l)}return c.toP()};yo.prototype._wnafMul=function(t,r){var n=4,a=t._getNAFPoints(n);n=a.wnd;for(var i=a.points,s=Bp(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,o=o.dblp(u),f<0)break;var c=s[f];Fp(c!==0),t.type==="affine"?c>0?o=o.mixedAdd(i[c-1>>1]):o=o.mixedAdd(i[-c-1>>1].neg()):c>0?o=o.add(i[c-1>>1]):o=o.add(i[-c-1>>1].neg())}return t.type==="affine"?o.toP():o};yo.prototype._wnafMulAdd=function(t,r,n,a,i){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,u=0,c,l,d;for(c=0;c<a;c++){d=r[c];var h=d._getNAFPoints(t);s[c]=h.wnd,o[c]=h.points}for(c=a-1;c>=1;c-=2){var p=c-1,m=c;if(s[p]!==1||s[m]!==1){f[p]=Bp(n[p],s[p],this._bitLength),f[m]=Bp(n[m],s[m],this._bitLength),u=Math.max(f[p].length,u),u=Math.max(f[m].length,u);continue}var v=[r[p],null,null,r[m]];r[p].y.cmp(r[m].y)===0?(v[1]=r[p].add(r[m]),v[2]=r[p].toJ().mixedAdd(r[m].neg())):r[p].y.cmp(r[m].y.redNeg())===0?(v[1]=r[p].toJ().mixedAdd(r[m]),v[2]=r[p].add(r[m].neg())):(v[1]=r[p].toJ().mixedAdd(r[m]),v[2]=r[p].toJ().mixedAdd(r[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],g=nee(n[p],n[m]);for(u=Math.max(g[0].length,u),f[p]=new Array(u),f[m]=new Array(u),l=0;l<u;l++){var y=g[0][l]|0,C=g[1][l]|0;f[p][l]=b[(y+1)*3+(C+1)],f[m][l]=0,o[p]=v}}var I=this.jpoint(null,null,null),P=this._wnafT4;for(c=u;c>=0;c--){for(var O=0;c>=0;){var N=!0;for(l=0;l<a;l++)P[l]=f[l][c]|0,P[l]!==0&&(N=!1);if(!N)break;O++,c--}if(c>=0&&O++,I=I.dblp(O),c<0)break;for(l=0;l<a;l++){var S=P[l];S!==0&&(S>0?d=o[l][S-1>>1]:S<0&&(d=o[l][-S-1>>1].neg()),d.type==="affine"?I=I.mixedAdd(d):I=I.add(d))}}for(c=0;c<a;c++)o[c]=null;return i?I:I.toP()};function ri(e,t){this.curve=e,this.type=t,this.precomputed=null}yo.BasePoint=ri;ri.prototype.eq=function(){throw new Error("Not implemented")};ri.prototype.validate=function(){return this.curve.validate(this)};yo.prototype.decodePoint=function(t,r){t=Ph.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Fp(t[t.length-1]%2===0):t[0]===7&&Fp(t[t.length-1]%2===1);var a=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return a}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};ri.prototype.encodeCompressed=function(t){return this.encode(t,!0)};ri.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ri.prototype.encode=function(t,r){return Ph.encode(this._encode(r),t)};ri.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};ri.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};ri.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,i=0;i<r;i+=t){for(var s=0;s<t;s++)a=a.dbl();n.push(a)}return{step:t,points:n}};ri.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,a=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(a);return{wnd:t,points:r}};ri.prototype._getBeta=function(){return null};ri.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var aee=Ba,wr=Qe,aT=vo,sl=nv,iee=aee.assert;function ni(e){sl.call(this,"short",e),this.a=new wr(e.a,16).toRed(this.red),this.b=new wr(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}aT(ni,sl);var see=ni;ni.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new wr(t.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(t.lambda)n=new wr(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],iee(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new wr(o.a,16),b:new wr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};ni.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:wr.mont(t),n=new wr(2).toRed(r).redInvm(),a=n.redNeg(),i=new wr(3).toRed(r).redNeg().redSqrt().redMul(n),s=a.redAdd(i).fromRed(),o=a.redSub(i).fromRed();return[s,o]};ni.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,a=this.n.clone(),i=new wr(1),s=new wr(0),o=new wr(0),f=new wr(1),u,c,l,d,h,p,m,v=0,b,g;n.cmpn(0)!==0;){var y=a.div(n);b=a.sub(y.mul(n)),g=o.sub(y.mul(i));var C=f.sub(y.mul(s));if(!l&&b.cmp(r)<0)u=m.neg(),c=i,l=b.neg(),d=g;else if(l&&++v===2)break;m=b,a=n,n=b,o=i,i=g,f=s,s=C}h=b.neg(),p=g;var I=l.sqr().add(d.sqr()),P=h.sqr().add(p.sqr());return P.cmp(I)>=0&&(h=u,p=c),l.negative&&(l=l.neg(),d=d.neg()),h.negative&&(h=h.neg(),p=p.neg()),[{a:l,b:d},{a:h,b:p}]};ni.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],a=r[1],i=a.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=i.mul(n.a),f=s.mul(a.a),u=i.mul(n.b),c=s.mul(a.b),l=t.sub(o).sub(f),d=u.add(c).neg();return{k1:l,k2:d}};ni.prototype.pointFromX=function(t,r){t=new wr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=a.fromRed().isOdd();return(r&&!i||!r&&i)&&(a=a.redNeg()),this.point(t,a)};ni.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,a=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};ni.prototype._endoWnafMulAdd=function(t,r,n){for(var a=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(r[s]),f=t[s],u=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),a[s*2]=f,a[s*2+1]=u,i[s*2]=o.k1,i[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,a,i,s*2,n),l=0;l<s*2;l++)a[l]=null,i[l]=null;return c};function un(e,t,r,n){sl.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new wr(t,16),this.y=new wr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}aT(un,sl.BasePoint);ni.prototype.point=function(t,r,n){return new un(this,t,r,n)};ni.prototype.pointFromJSON=function(t,r){return un.fromJSON(this,t,r)};un.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,a=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(a)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(a)}}}return r}};un.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};un.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=t.point(r[0],r[1],n);if(!r[2])return a;function i(o){return t.point(o[0],o[1],n)}var s=r[2];return a.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[a].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[a].concat(s.naf.points.map(i))}},a};un.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};un.prototype.isInfinity=function(){return this.inf};un.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)};un.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};un.prototype.getX=function(){return this.x.fromRed()};un.prototype.getY=function(){return this.y.fromRed()};un.prototype.mul=function(t){return t=new wr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};un.prototype.mulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i):this.curve._wnafMulAdd(1,a,i,2)};un.prototype.jmulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i,!0):this.curve._wnafMulAdd(1,a,i,2,!0)};un.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};un.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,a=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r};un.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function gn(e,t,r,n){sl.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new wr(0)):(this.x=new wr(t,16),this.y=new wr(r,16),this.z=new wr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}aT(gn,sl.BasePoint);ni.prototype.jpoint=function(t,r,n){return new gn(this,t,r,n)};gn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(t);return this.curve.point(n,a)};gn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};gn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),i=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),f=a.redSub(i),u=s.redSub(o);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),l=c.redMul(f),d=a.redMul(c),h=u.redSqr().redIAdd(l).redISub(d).redISub(d),p=u.redMul(d.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(h,p,m)};gn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=t.x.redMul(r),i=this.y,s=t.y.redMul(r).redMul(this.z),o=n.redSub(a),f=i.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=n.redMul(u),d=f.redSqr().redIAdd(c).redISub(l).redISub(l),h=f.redMul(l.redISub(d)).redISub(i.redMul(c)),p=this.z.redMul(o);return this.curve.jpoint(d,h,p)};gn.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var a=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,f=this.z,u=f.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<t;r++){var l=s.redSqr(),d=c.redSqr(),h=d.redSqr(),p=l.redAdd(l).redIAdd(l).redIAdd(a.redMul(u)),m=s.redMul(d),v=p.redSqr().redISub(m.redAdd(m)),b=m.redISub(v),g=p.redMul(b);g=g.redIAdd(g).redISub(h);var y=c.redMul(f);r+1<t&&(u=u.redMul(h)),s=v,f=y,c=g}return this.curve.jpoint(s,c.redMul(i),f)};gn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};gn.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(a).redISub(s);o=o.redIAdd(o);var f=a.redAdd(a).redIAdd(a),u=f.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),t=u,r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(l).redISub(h);p=p.redIAdd(p);var m=l.redAdd(l).redIAdd(l),v=m.redSqr(),b=h.redIAdd(h);b=b.redIAdd(b),b=b.redIAdd(b),t=v.redISub(p).redISub(p),r=m.redMul(p.redISub(t)).redISub(b),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};gn.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(a).redISub(s);o=o.redIAdd(o);var f=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),u=f.redSqr().redISub(o).redISub(o);t=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var m=h.redIAdd(h);m=m.redIAdd(m);var v=m.redAdd(m);t=p.redSqr().redISub(v),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var b=d.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),r=p.redMul(m.redISub(t)).redISub(b)}return this.curve.jpoint(t,r,n)};gn.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,a=this.z,i=a.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),l=f.redSqr().redISub(c.redAdd(c)),d=c.redISub(l),h=o.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=f.redMul(d).redISub(h),m=n.redAdd(n).redMul(a);return this.curve.jpoint(l,p,m)};gn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(a);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(u),l=r.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var d=this.x.redMul(f).redISub(l);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(f)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(d,h,p)};gn.prototype.mul=function(t,r){return t=new wr(t,r),this.curve._wnafMul(this,t)};gn.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),i=n.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(a)).cmpn(0)===0};gn.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=t.clone(),i=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};gn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};gn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Mc=Qe,HN=vo,av=nv,oee=Ba;function ol(e){av.call(this,"mont",e),this.a=new Mc(e.a,16).toRed(this.red),this.b=new Mc(e.b,16).toRed(this.red),this.i4=new Mc(4).toRed(this.red).redInvm(),this.two=new Mc(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}HN(ol,av);var uee=ol;ol.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=a.redSqrt();return i.redSqr().cmp(a)===0};function an(e,t,r){av.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Mc(t,16),this.z=new Mc(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}HN(an,av.BasePoint);ol.prototype.decodePoint=function(t,r){return this.point(oee.toArray(t,r),1)};ol.prototype.point=function(t,r){return new an(this,t,r)};ol.prototype.pointFromJSON=function(t){return an.fromJSON(this,t)};an.prototype.precompute=function(){};an.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};an.fromJSON=function(t,r){return new an(t,r[0],r[1]||t.one)};an.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};an.prototype.isInfinity=function(){return this.z.cmpn(0)===0};an.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),i=r.redSub(a),s=r.redMul(a),o=i.redMul(a.redAdd(this.curve.a24.redMul(i)));return this.curve.point(s,o)};an.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};an.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z),o=s.redMul(n),f=i.redMul(a),u=r.z.redMul(o.redAdd(f).redSqr()),c=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(u,c)};an.prototype.mul=function(t){for(var r=t.clone(),n=this,a=this.curve.point(null,null),i=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(a,i),a=a.dbl()):(a=n.diffAdd(a,i),n=n.dbl());return a};an.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};an.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};an.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};an.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};an.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var cee=Ba,ds=Qe,$N=vo,iv=nv,fee=cee.assert;function qi(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,iv.call(this,"edwards",e),this.a=new ds(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ds(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ds(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),fee(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}$N(qi,iv);var lee=qi;qi.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};qi.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};qi.prototype.jpoint=function(t,r,n,a){return this.point(t,r,n,a)};qi.prototype.pointFromX=function(t,r){t=new ds(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=a.redMul(i.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(t,o)};qi.prototype.pointFromY=function(t,r){t=new ds(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=a.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};qi.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),a=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(i)===0};function or(e,t,r,n,a){iv.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ds(t,16),this.y=new ds(r,16),this.z=n?new ds(n,16):this.curve.one,this.t=a&&new ds(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}$N(or,iv.BasePoint);qi.prototype.pointFromJSON=function(t){return or.fromJSON(this,t)};qi.prototype.point=function(t,r,n,a){return new or(this,t,r,n,a)};or.fromJSON=function(t,r){return new or(t,r[0],r[1],r[2])};or.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};or.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};or.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=a.redAdd(r),o=s.redSub(n),f=a.redSub(r),u=i.redMul(o),c=s.redMul(f),l=i.redMul(f),d=o.redMul(s);return this.curve.point(u,c,d,l)};or.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,i,s,o,f,u;if(this.curve.twisted){o=this.curve._mulA(r);var c=o.redAdd(n);this.zOne?(a=t.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),i=c.redMul(o.redSub(n)),s=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),u=c.redSub(f).redISub(f),a=t.redSub(r).redISub(n).redMul(u),i=c.redMul(o.redSub(n)),s=c.redMul(u))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),u=o.redSub(f).redSub(f),a=this.curve._mulC(t.redISub(o)).redMul(u),i=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(u);return this.curve.point(a,i,s)};or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};or.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),a=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(r),o=i.redSub(a),f=i.redAdd(a),u=n.redAdd(r),c=s.redMul(o),l=f.redMul(u),d=s.redMul(u),h=o.redMul(f);return this.curve.point(c,l,h,d)};or.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),a=this.x.redMul(t.x),i=this.y.redMul(t.y),s=this.curve.d.redMul(a).redMul(i),o=n.redSub(s),f=n.redAdd(s),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(i),c=r.redMul(o).redMul(u),l,d;return this.curve.twisted?(l=r.redMul(f).redMul(i.redSub(this.curve._mulA(a))),d=o.redMul(f)):(l=r.redMul(f).redMul(i.redSub(a)),d=this.curve._mulC(o).redMul(f)),this.curve.point(c,l,d)};or.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};or.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};or.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};or.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};or.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};or.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};or.prototype.getX=function(){return this.normalize(),this.x.fromRed()};or.prototype.getY=function(){return this.normalize(),this.y.fromRed()};or.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};or.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};or.prototype.toP=or.prototype.normalize;or.prototype.mixedAdd=or.prototype.add;(function(e){var t=e;t.base=nv,t.short=see,t.mont=uee,t.edwards=lee})(nT);var sv={},Sg,Cw;function dee(){return Cw||(Cw=1,Sg={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Sg}(function(e){var t=e,r=um,n=nT,a=Ba,i=a.assert;function s(u){u.type==="short"?this.curve=new n.short(u):u.type==="edwards"?this.curve=new n.edwards(u):this.curve=new n.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function o(u,c){Object.defineProperty(t,u,{configurable:!0,enumerable:!0,get:function(){var l=new s(c);return Object.defineProperty(t,u,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=dee()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(sv);var hee=Qe,pee=Ba,H1=pee.assert;function Dn(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var mee=Dn;Dn.fromPublic=function(t,r,n){return r instanceof Dn?r:new Dn(t,{pub:r,pubEnc:n})};Dn.fromPrivate=function(t,r,n){return r instanceof Dn?r:new Dn(t,{priv:r,privEnc:n})};Dn.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Dn.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Dn.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Dn.prototype._importPrivate=function(t,r){this.priv=new hee(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Dn.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?H1(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&H1(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Dn.prototype.derive=function(t){return t.validate()||H1(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Dn.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Dn.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Dn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Hp=Qe,iT=Ba,vee=iT.assert;function ov(e,t){if(e instanceof ov)return e;this._importDER(e,t)||(vee(e.r&&e.s,"Signature without r or s"),this.r=new Hp(e.r,16),this.s=new Hp(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var bee=ov;function gee(){this.place=0}function Ag(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var a=0,i=0,s=t.place;i<n;i++,s++)a<<=8,a|=e[s],a>>>=0;return a<=127?!1:(t.place=s,a)}function Iw(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}ov.prototype._importDER=function(t,r){t=iT.toArray(t,r);var n=new gee;if(t[n.place++]!==48)return!1;var a=Ag(t,n);if(a===!1||a+n.place!==t.length||t[n.place++]!==2)return!1;var i=Ag(t,n);if(i===!1)return!1;var s=t.slice(n.place,i+n.place);if(n.place+=i,t[n.place++]!==2)return!1;var o=Ag(t,n);if(o===!1||t.length!==o+n.place)return!1;var f=t.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Hp(s),this.s=new Hp(f),this.recoveryParam=null,!0};function wg(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}ov.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Iw(r),n=Iw(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];wg(a,r.length),a=a.concat(r),a.push(2),wg(a,n.length);var i=a.concat(n),s=[48];return wg(s,i.length),s=s.concat(i),iT.encode(s,t)};var Su=Qe,UN=p4,yee=Ba,Cg=sv,_ee=cm(),jN=yee.assert,sT=mee,uv=bee;function Qa(e){if(!(this instanceof Qa))return new Qa(e);typeof e=="string"&&(jN(Object.prototype.hasOwnProperty.call(Cg,e),"Unknown curve "+e),e=Cg[e]),e instanceof Cg.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Tee=Qa;Qa.prototype.keyPair=function(t){return new sT(this,t)};Qa.prototype.keyFromPrivate=function(t,r){return sT.fromPrivate(this,t,r)};Qa.prototype.keyFromPublic=function(t,r){return sT.fromPublic(this,t,r)};Qa.prototype.genKeyPair=function(t){t||(t={});for(var r=new UN({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||_ee(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new Su(2));;){var i=new Su(r.generate(n));if(!(i.cmp(a)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Qa.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Qa.prototype.sign=function(t,r,n,a){typeof n=="object"&&(a=n,n=null),a||(a={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new Su(t,16));for(var i=this.n.byteLength(),s=r.getPrivate().toArray("be",i),o=t.toArray("be",i),f=new UN({hash:this.hash,entropy:s,nonce:o,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new Su(1)),c=0;;c++){var l=a.k?a.k(c):new Su(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(u)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var h=d.getX(),p=h.umod(this.n);if(p.cmpn(0)!==0){var m=l.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));if(m=m.umod(this.n),m.cmpn(0)!==0){var v=(d.getY().isOdd()?1:0)|(h.cmp(p)!==0?2:0);return a.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),v^=1),new uv({r:p,s:m,recoveryParam:v})}}}}}};Qa.prototype.verify=function(t,r,n,a){t=this._truncateToN(new Su(t,16)),n=this.keyFromPublic(n,a),r=new uv(r,"hex");var i=r.r,s=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(t).umod(this.n),u=o.mul(i).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.eqXToP(i)):(c=this.g.mulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0)};Qa.prototype.recoverPubKey=function(e,t,r,n){jN((3&r)===r,"The recovery param is more than two bits"),t=new uv(t,n);var a=this.n,i=new Su(e),s=t.r,o=t.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var c=t.r.invm(a),l=a.sub(i).mul(c).umod(a),d=o.mul(c).umod(a);return this.g.mulAdd(l,s,d)};Qa.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new uv(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch{continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")};var Nh=Ba,GN=Nh.assert,Pw=Nh.parseBytes,ul=Nh.cachedProperty;function rn(e,t){this.eddsa=e,this._secret=Pw(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Pw(t.pub)}rn.fromPublic=function(t,r){return r instanceof rn?r:new rn(t,{pub:r})};rn.fromSecret=function(t,r){return r instanceof rn?r:new rn(t,{secret:r})};rn.prototype.secret=function(){return this._secret};ul(rn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ul(rn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ul(rn,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,a=r.slice(0,t.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a});ul(rn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ul(rn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ul(rn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});rn.prototype.sign=function(t){return GN(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};rn.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};rn.prototype.getSecret=function(t){return GN(this._secret,"KeyPair is public only"),Nh.encode(this.secret(),t)};rn.prototype.getPublic=function(t){return Nh.encode(this.pubBytes(),t)};var Eee=rn,See=Qe,cv=Ba,Aee=cv.assert,fv=cv.cachedProperty,wee=cv.parseBytes;function ic(e,t){this.eddsa=e,typeof t!="object"&&(t=wee(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Aee(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof See&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}fv(ic,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});fv(ic,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});fv(ic,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});fv(ic,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ic.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ic.prototype.toHex=function(){return cv.encode(this.toBytes(),"hex").toUpperCase()};var Cee=ic,Iee=um,Pee=sv,Of=Ba,Nee=Of.assert,KN=Of.parseBytes,WN=Eee,Nw=Cee;function fa(e){if(Nee(e==="ed25519","only tested with ed25519 so far"),!(this instanceof fa))return new fa(e);e=Pee[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Iee.sha512}var Oee=fa;fa.prototype.sign=function(t,r){t=KN(t);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),t),i=this.g.mul(a),s=this.encodePoint(i),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),f=a.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:s})};fa.prototype.verify=function(t,r,n){t=KN(t),r=this.makeSignature(r);var a=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),a.pubBytes(),t),s=this.g.mul(r.S()),o=r.R().add(a.pub().mul(i));return o.eq(s)};fa.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Of.intFromLE(t.digest()).umod(this.curve.n)};fa.prototype.keyFromPublic=function(t){return WN.fromPublic(this,t)};fa.prototype.keyFromSecret=function(t){return WN.fromSecret(this,t)};fa.prototype.makeSignature=function(t){return t instanceof Nw?t:new Nw(this,t)};fa.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};fa.prototype.decodePoint=function(t){t=Of.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),a=(t[r]&128)!==0,i=Of.intFromLE(n);return this.curve.pointFromY(i,a)};fa.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};fa.prototype.decodeInt=function(t){return Of.intFromLE(t)};fa.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=ree.version,t.utils=Ba,t.rand=cm(),t.curve=nT,t.curves=sv,t.ec=Tee,t.eddsa=Oee})(FN);var qN,xee=FN.ec,xf=new xee("secp256k1"),$p=$.crypto||$.msCrypto||{},Ig=$p.subtle||$p.webkitSubtle,Rf=Wu();const Ree=ae.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Dee=ae.alloc(32,0);function xr(e,t){if(!e)throw new Error(t||"Assertion failed")}function Mee(e){return ae.isBuffer(e)&&e.length===32}function cl(e){return Mee(e)?e.compare(Dee)>0&&e.compare(Ree)<0:!1}function Lee(e,t){if(e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function rd(e){var t=new Uint8Array(e);return typeof $p.getRandomValues>"u"?ae.from(Rf.randomBytes(e)):($p.getRandomValues(t),ae.from(t))}function VN(e){return new Promise(function(t){var r=Rf.createHash("sha512"),n=r.update(e).digest();t(new Uint8Array(n))})}function zN(e){return function(t,r,n){return new Promise(function(a){if(Ig){var i={name:"AES-CBC"},s=Ig.importKey("raw",r,i,!1,[e]);return s.then(function(u){var c={name:"AES-CBC",iv:t};return Ig[e](c,u,n)}).then(function(u){a(ae.from(new Uint8Array(u)))})}else if(e==="encrypt"){var o=Rf.createCipheriv("aes-256-cbc",r,t);let u=o.update(n),c=o.final();a(ae.concat([u,c]))}else if(e==="decrypt"){var f=Rf.createDecipheriv("aes-256-cbc",r,t);let u=f.update(n),c=f.final();a(ae.concat([u,c]))}})}}var kee=zN("encrypt"),Bee=zN("decrypt");function Fee(e,t){return new Promise(function(r){var n=Rf.createHmac("sha256",ae.from(e));n.update(t);var a=n.digest();r(a)})}function Hee(e,t,r){return new Promise(function(n){var a=Rf.createHmac("sha256",ae.from(e));a.update(t);var i=a.digest();n(Lee(i,r))})}var $ee=Es.generatePrivate=function(){for(var e=rd(32);!cl(e);)e=rd(32);return e},Uee=qN=Es.getPublic=function(e){return xr(e.length===32,"Bad private key"),xr(cl(e),"Bad private key"),ae.from(xf.keyFromPrivate(e).getPublic("arr"))};Es.getPublicCompressed=function(e){return xr(e.length===32,"Bad private key"),xr(cl(e),"Bad private key"),ae.from(xf.keyFromPrivate(e).getPublic(!0,"arr"))};Es.sign=function(e,t){return new Promise(function(r){xr(e.length===32,"Bad private key"),xr(cl(e),"Bad private key"),xr(t.length>0,"Message should not be empty"),xr(t.length<=32,"Message is too long"),r(ae.from(xf.sign(t,e,{canonical:!0}).toDER()))})};Es.verify=function(e,t,r){return new Promise(function(n,a){xr(e.length===65||e.length===33,"Bad public key"),e.length===65&&xr(e[0]===4,"Bad public key"),e.length===33&&xr(e[0]===2||e[0]===3,"Bad public key"),xr(t.length>0,"Message should not be empty"),xr(t.length<=32,"Message is too long"),xf.verify(t,r,e)?n(null):a(new Error("Bad signature"))})};var YN=Es.derive=function(e,t){return new Promise(function(r){xr(ae.isBuffer(e),"Bad private key"),xr(ae.isBuffer(t),"Bad public key"),xr(e.length===32,"Bad private key"),xr(cl(e),"Bad private key"),xr(t.length===65||t.length===33,"Bad public key"),t.length===65&&xr(t[0]===4,"Bad public key"),t.length===33&&xr(t[0]===2||t[0]===3,"Bad public key");var n=xf.keyFromPrivate(e),a=xf.keyFromPublic(t),i=n.derive(a.getPublic());r(ae.from(i.toArray()))})},jee=Es.encrypt=function(e,t,r){r=r||{};var n,a,i,s;return new Promise(function(o){for(var f=r.ephemPrivateKey||rd(32);!cl(f);)f=r.ephemPrivateKey||rd(32);a=Uee(f),o(YN(f,e))}).then(function(o){return VN(o)}).then(function(o){n=r.iv||rd(16);var f=o.slice(0,32);return s=o.slice(32),kee(n,f,t)}).then(function(o){i=o;var f=ae.concat([n,a,i]);return Fee(s,f)}).then(function(o){return{iv:n,ephemPublicKey:a,ciphertext:i,mac:o}})},Gee=Es.decrypt=function(e,t){var r;return YN(e,t.ephemPublicKey).then(function(n){return VN(n)}).then(function(n){r=n.slice(0,32);var a=n.slice(32),i=ae.concat([t.iv,t.ephemPublicKey,t.ciphertext]);return Hee(a,i,t.mac)}).then(function(n){return xr(n,"Bad MAC"),Bee(t.iv,r,t.ciphertext)}).then(function(n){return ae.from(new Uint8Array(n))})},XN={};const Kee="elliptic",Wee="6.5.5",qee="EC cryptography",Vee="lib/elliptic.js",zee=["lib"],Yee={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Xee={type:"git",url:"git@github.com:indutny/elliptic"},Jee=["EC","Elliptic","curve","Cryptography"],Qee="Fedor Indutny <fedor@indutny.com>",Zee="MIT",ete={url:"https://github.com/indutny/elliptic/issues"},tte="https://github.com/indutny/elliptic",rte={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},nte={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},ate={name:Kee,version:Wee,description:qee,main:Vee,files:zee,scripts:Yee,repository:Xee,keywords:Jee,author:Qee,license:Zee,bugs:ete,homepage:tte,devDependencies:rte,dependencies:nte};var Fa={};(function(e){var t=e,r=Qe,n=d4,a=h4;t.assert=n,t.toArray=a.toArray,t.zero2=a.zero2,t.toHex=a.toHex,t.encode=a.encode;function i(c,l,d){var h=new Array(Math.max(c.bitLength(),d)+1),p;for(p=0;p<h.length;p+=1)h[p]=0;var m=1<<l+1,v=c.clone();for(p=0;p<h.length;p++){var b,g=v.andln(m-1);v.isOdd()?(g>(m>>1)-1?b=(m>>1)-g:b=g,v.isubn(b)):b=0,h[p]=b,v.iushrn(1)}return h}t.getNAF=i;function s(c,l){var d=[[],[]];c=c.clone(),l=l.clone();for(var h=0,p=0,m;c.cmpn(-h)>0||l.cmpn(-p)>0;){var v=c.andln(3)+h&3,b=l.andln(3)+p&3;v===3&&(v=-1),b===3&&(b=-1);var g;v&1?(m=c.andln(7)+h&7,(m===3||m===5)&&b===2?g=-v:g=v):g=0,d[0].push(g);var y;b&1?(m=l.andln(7)+p&7,(m===3||m===5)&&v===2?y=-b:y=b):y=0,d[1].push(y),2*h===g+1&&(h=1-h),2*p===y+1&&(p=1-p),c.iushrn(1),l.iushrn(1)}return d}t.getJSF=s;function o(c,l,d){var h="_"+l;c.prototype[l]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}}t.cachedProperty=o;function f(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=f;function u(c){return new r(c,"hex","le")}t.intFromLE=u})(Fa);var oT={},Ro=Qe,Oh=Fa,Up=Oh.getNAF,ite=Oh.getJSF,jp=Oh.assert;function _o(e,t){this.type=e,this.p=new Ro(t.p,16),this.red=t.prime?Ro.red(t.prime):Ro.mont(this.p),this.zero=new Ro(0).toRed(this.red),this.one=new Ro(1).toRed(this.red),this.two=new Ro(2).toRed(this.red),this.n=t.n&&new Ro(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var lv=_o;_o.prototype.point=function(){throw new Error("Not implemented")};_o.prototype.validate=function(){throw new Error("Not implemented")};_o.prototype._fixedNafMul=function(t,r){jp(t.precomputed);var n=t._getDoubles(),a=Up(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],o,f;for(o=0;o<a.length;o+=n.step){f=0;for(var u=o+n.step-1;u>=o;u--)f=(f<<1)+a[u];s.push(f)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<s.length;o++)f=s[o],f===d?l=l.mixedAdd(n.points[o]):f===-d&&(l=l.mixedAdd(n.points[o].neg()));c=c.add(l)}return c.toP()};_o.prototype._wnafMul=function(t,r){var n=4,a=t._getNAFPoints(n);n=a.wnd;for(var i=a.points,s=Up(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,o=o.dblp(u),f<0)break;var c=s[f];jp(c!==0),t.type==="affine"?c>0?o=o.mixedAdd(i[c-1>>1]):o=o.mixedAdd(i[-c-1>>1].neg()):c>0?o=o.add(i[c-1>>1]):o=o.add(i[-c-1>>1].neg())}return t.type==="affine"?o.toP():o};_o.prototype._wnafMulAdd=function(t,r,n,a,i){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,u=0,c,l,d;for(c=0;c<a;c++){d=r[c];var h=d._getNAFPoints(t);s[c]=h.wnd,o[c]=h.points}for(c=a-1;c>=1;c-=2){var p=c-1,m=c;if(s[p]!==1||s[m]!==1){f[p]=Up(n[p],s[p],this._bitLength),f[m]=Up(n[m],s[m],this._bitLength),u=Math.max(f[p].length,u),u=Math.max(f[m].length,u);continue}var v=[r[p],null,null,r[m]];r[p].y.cmp(r[m].y)===0?(v[1]=r[p].add(r[m]),v[2]=r[p].toJ().mixedAdd(r[m].neg())):r[p].y.cmp(r[m].y.redNeg())===0?(v[1]=r[p].toJ().mixedAdd(r[m]),v[2]=r[p].add(r[m].neg())):(v[1]=r[p].toJ().mixedAdd(r[m]),v[2]=r[p].toJ().mixedAdd(r[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],g=ite(n[p],n[m]);for(u=Math.max(g[0].length,u),f[p]=new Array(u),f[m]=new Array(u),l=0;l<u;l++){var y=g[0][l]|0,C=g[1][l]|0;f[p][l]=b[(y+1)*3+(C+1)],f[m][l]=0,o[p]=v}}var I=this.jpoint(null,null,null),P=this._wnafT4;for(c=u;c>=0;c--){for(var O=0;c>=0;){var N=!0;for(l=0;l<a;l++)P[l]=f[l][c]|0,P[l]!==0&&(N=!1);if(!N)break;O++,c--}if(c>=0&&O++,I=I.dblp(O),c<0)break;for(l=0;l<a;l++){var S=P[l];S!==0&&(S>0?d=o[l][S-1>>1]:S<0&&(d=o[l][-S-1>>1].neg()),d.type==="affine"?I=I.mixedAdd(d):I=I.add(d))}}for(c=0;c<a;c++)o[c]=null;return i?I:I.toP()};function ai(e,t){this.curve=e,this.type=t,this.precomputed=null}_o.BasePoint=ai;ai.prototype.eq=function(){throw new Error("Not implemented")};ai.prototype.validate=function(){return this.curve.validate(this)};_o.prototype.decodePoint=function(t,r){t=Oh.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?jp(t[t.length-1]%2===0):t[0]===7&&jp(t[t.length-1]%2===1);var a=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return a}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};ai.prototype.encodeCompressed=function(t){return this.encode(t,!0)};ai.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ai.prototype.encode=function(t,r){return Oh.encode(this._encode(r),t)};ai.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};ai.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};ai.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,i=0;i<r;i+=t){for(var s=0;s<t;s++)a=a.dbl();n.push(a)}return{step:t,points:n}};ai.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,a=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(a);return{wnd:t,points:r}};ai.prototype._getBeta=function(){return null};ai.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var ste=Fa,Cr=Qe,uT=vo,fl=lv,ote=ste.assert;function ii(e){fl.call(this,"short",e),this.a=new Cr(e.a,16).toRed(this.red),this.b=new Cr(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}uT(ii,fl);var ute=ii;ii.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new Cr(t.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(t.lambda)n=new Cr(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],ote(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new Cr(o.a,16),b:new Cr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};ii.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:Cr.mont(t),n=new Cr(2).toRed(r).redInvm(),a=n.redNeg(),i=new Cr(3).toRed(r).redNeg().redSqrt().redMul(n),s=a.redAdd(i).fromRed(),o=a.redSub(i).fromRed();return[s,o]};ii.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,a=this.n.clone(),i=new Cr(1),s=new Cr(0),o=new Cr(0),f=new Cr(1),u,c,l,d,h,p,m,v=0,b,g;n.cmpn(0)!==0;){var y=a.div(n);b=a.sub(y.mul(n)),g=o.sub(y.mul(i));var C=f.sub(y.mul(s));if(!l&&b.cmp(r)<0)u=m.neg(),c=i,l=b.neg(),d=g;else if(l&&++v===2)break;m=b,a=n,n=b,o=i,i=g,f=s,s=C}h=b.neg(),p=g;var I=l.sqr().add(d.sqr()),P=h.sqr().add(p.sqr());return P.cmp(I)>=0&&(h=u,p=c),l.negative&&(l=l.neg(),d=d.neg()),h.negative&&(h=h.neg(),p=p.neg()),[{a:l,b:d},{a:h,b:p}]};ii.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],a=r[1],i=a.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=i.mul(n.a),f=s.mul(a.a),u=i.mul(n.b),c=s.mul(a.b),l=t.sub(o).sub(f),d=u.add(c).neg();return{k1:l,k2:d}};ii.prototype.pointFromX=function(t,r){t=new Cr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=a.fromRed().isOdd();return(r&&!i||!r&&i)&&(a=a.redNeg()),this.point(t,a)};ii.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,a=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};ii.prototype._endoWnafMulAdd=function(t,r,n){for(var a=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(r[s]),f=t[s],u=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),a[s*2]=f,a[s*2+1]=u,i[s*2]=o.k1,i[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,a,i,s*2,n),l=0;l<s*2;l++)a[l]=null,i[l]=null;return c};function cn(e,t,r,n){fl.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Cr(t,16),this.y=new Cr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}uT(cn,fl.BasePoint);ii.prototype.point=function(t,r,n){return new cn(this,t,r,n)};ii.prototype.pointFromJSON=function(t,r){return cn.fromJSON(this,t,r)};cn.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,a=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(a)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(a)}}}return r}};cn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};cn.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=t.point(r[0],r[1],n);if(!r[2])return a;function i(o){return t.point(o[0],o[1],n)}var s=r[2];return a.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[a].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[a].concat(s.naf.points.map(i))}},a};cn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};cn.prototype.isInfinity=function(){return this.inf};cn.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)};cn.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};cn.prototype.getX=function(){return this.x.fromRed()};cn.prototype.getY=function(){return this.y.fromRed()};cn.prototype.mul=function(t){return t=new Cr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};cn.prototype.mulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i):this.curve._wnafMulAdd(1,a,i,2)};cn.prototype.jmulAdd=function(t,r,n){var a=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,i,!0):this.curve._wnafMulAdd(1,a,i,2,!0)};cn.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};cn.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,a=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r};cn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function yn(e,t,r,n){fl.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Cr(0)):(this.x=new Cr(t,16),this.y=new Cr(r,16),this.z=new Cr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}uT(yn,fl.BasePoint);ii.prototype.jpoint=function(t,r,n){return new yn(this,t,r,n)};yn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(t);return this.curve.point(n,a)};yn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),i=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),f=a.redSub(i),u=s.redSub(o);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),l=c.redMul(f),d=a.redMul(c),h=u.redSqr().redIAdd(l).redISub(d).redISub(d),p=u.redMul(d.redISub(h)).redISub(s.redMul(l)),m=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(h,p,m)};yn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=t.x.redMul(r),i=this.y,s=t.y.redMul(r).redMul(this.z),o=n.redSub(a),f=i.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=n.redMul(u),d=f.redSqr().redIAdd(c).redISub(l).redISub(l),h=f.redMul(l.redISub(d)).redISub(i.redMul(c)),p=this.z.redMul(o);return this.curve.jpoint(d,h,p)};yn.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var a=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,f=this.z,u=f.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<t;r++){var l=s.redSqr(),d=c.redSqr(),h=d.redSqr(),p=l.redAdd(l).redIAdd(l).redIAdd(a.redMul(u)),m=s.redMul(d),v=p.redSqr().redISub(m.redAdd(m)),b=m.redISub(v),g=p.redMul(b);g=g.redIAdd(g).redISub(h);var y=c.redMul(f);r+1<t&&(u=u.redMul(h)),s=v,f=y,c=g}return this.curve.jpoint(s,c.redMul(i),f)};yn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yn.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(a).redISub(s);o=o.redIAdd(o);var f=a.redAdd(a).redIAdd(a),u=f.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),t=u,r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(l).redISub(h);p=p.redIAdd(p);var m=l.redAdd(l).redIAdd(l),v=m.redSqr(),b=h.redIAdd(h);b=b.redIAdd(b),b=b.redIAdd(b),t=v.redISub(p).redISub(p),r=m.redMul(p.redISub(t)).redISub(b),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};yn.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(a).redISub(s);o=o.redIAdd(o);var f=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),u=f.redSqr().redISub(o).redISub(o);t=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var m=h.redIAdd(h);m=m.redIAdd(m);var v=m.redAdd(m);t=p.redSqr().redISub(v),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var b=d.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),r=p.redMul(m.redISub(t)).redISub(b)}return this.curve.jpoint(t,r,n)};yn.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,a=this.z,i=a.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),l=f.redSqr().redISub(c.redAdd(c)),d=c.redISub(l),h=o.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=f.redMul(d).redISub(h),m=n.redAdd(n).redMul(a);return this.curve.jpoint(l,p,m)};yn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(a);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(u),l=r.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var d=this.x.redMul(f).redISub(l);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(f)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(d,h,p)};yn.prototype.mul=function(t,r){return t=new Cr(t,r),this.curve._wnafMul(this,t)};yn.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),i=n.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(a)).cmpn(0)===0};yn.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=t.clone(),i=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};yn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Lc=Qe,JN=vo,dv=lv,cte=Fa;function ll(e){dv.call(this,"mont",e),this.a=new Lc(e.a,16).toRed(this.red),this.b=new Lc(e.b,16).toRed(this.red),this.i4=new Lc(4).toRed(this.red).redInvm(),this.two=new Lc(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}JN(ll,dv);var fte=ll;ll.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=a.redSqrt();return i.redSqr().cmp(a)===0};function sn(e,t,r){dv.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Lc(t,16),this.z=new Lc(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}JN(sn,dv.BasePoint);ll.prototype.decodePoint=function(t,r){return this.point(cte.toArray(t,r),1)};ll.prototype.point=function(t,r){return new sn(this,t,r)};ll.prototype.pointFromJSON=function(t){return sn.fromJSON(this,t)};sn.prototype.precompute=function(){};sn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};sn.fromJSON=function(t,r){return new sn(t,r[0],r[1]||t.one)};sn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};sn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};sn.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),i=r.redSub(a),s=r.redMul(a),o=i.redMul(a.redAdd(this.curve.a24.redMul(i)));return this.curve.point(s,o)};sn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};sn.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z),o=s.redMul(n),f=i.redMul(a),u=r.z.redMul(o.redAdd(f).redSqr()),c=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(u,c)};sn.prototype.mul=function(t){for(var r=t.clone(),n=this,a=this.curve.point(null,null),i=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(a,i),a=a.dbl()):(a=n.diffAdd(a,i),n=n.dbl());return a};sn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};sn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};sn.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};sn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};sn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var lte=Fa,hs=Qe,QN=vo,hv=lv,dte=lte.assert;function Vi(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,hv.call(this,"edwards",e),this.a=new hs(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new hs(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new hs(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),dte(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}QN(Vi,hv);var hte=Vi;Vi.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};Vi.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};Vi.prototype.jpoint=function(t,r,n,a){return this.point(t,r,n,a)};Vi.prototype.pointFromX=function(t,r){t=new hs(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=a.redMul(i.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(t,o)};Vi.prototype.pointFromY=function(t,r){t=new hs(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=a.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};Vi.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),a=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(i)===0};function ur(e,t,r,n,a){hv.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new hs(t,16),this.y=new hs(r,16),this.z=n?new hs(n,16):this.curve.one,this.t=a&&new hs(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}QN(ur,hv.BasePoint);Vi.prototype.pointFromJSON=function(t){return ur.fromJSON(this,t)};Vi.prototype.point=function(t,r,n,a){return new ur(this,t,r,n,a)};ur.fromJSON=function(t,r){return new ur(t,r[0],r[1],r[2])};ur.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ur.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ur.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=a.redAdd(r),o=s.redSub(n),f=a.redSub(r),u=i.redMul(o),c=s.redMul(f),l=i.redMul(f),d=o.redMul(s);return this.curve.point(u,c,d,l)};ur.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,i,s,o,f,u;if(this.curve.twisted){o=this.curve._mulA(r);var c=o.redAdd(n);this.zOne?(a=t.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),i=c.redMul(o.redSub(n)),s=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),u=c.redSub(f).redISub(f),a=t.redSub(r).redISub(n).redMul(u),i=c.redMul(o.redSub(n)),s=c.redMul(u))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),u=o.redSub(f).redSub(f),a=this.curve._mulC(t.redISub(o)).redMul(u),i=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(u);return this.curve.point(a,i,s)};ur.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ur.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),a=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(r),o=i.redSub(a),f=i.redAdd(a),u=n.redAdd(r),c=s.redMul(o),l=f.redMul(u),d=s.redMul(u),h=o.redMul(f);return this.curve.point(c,l,h,d)};ur.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),a=this.x.redMul(t.x),i=this.y.redMul(t.y),s=this.curve.d.redMul(a).redMul(i),o=n.redSub(s),f=n.redAdd(s),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(i),c=r.redMul(o).redMul(u),l,d;return this.curve.twisted?(l=r.redMul(f).redMul(i.redSub(this.curve._mulA(a))),d=o.redMul(f)):(l=r.redMul(f).redMul(i.redSub(a)),d=this.curve._mulC(o).redMul(f)),this.curve.point(c,l,d)};ur.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};ur.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};ur.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};ur.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};ur.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};ur.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ur.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ur.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ur.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};ur.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}};ur.prototype.toP=ur.prototype.normalize;ur.prototype.mixedAdd=ur.prototype.add;(function(e){var t=e;t.base=lv,t.short=ute,t.mont=fte,t.edwards=hte})(oT);var pv={},Pg,Ow;function pte(){return Ow||(Ow=1,Pg={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Pg}(function(e){var t=e,r=um,n=oT,a=Fa,i=a.assert;function s(u){u.type==="short"?this.curve=new n.short(u):u.type==="edwards"?this.curve=new n.edwards(u):this.curve=new n.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function o(u,c){Object.defineProperty(t,u,{configurable:!0,enumerable:!0,get:function(){var l=new s(c);return Object.defineProperty(t,u,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=pte()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(pv);var mte=Qe,vte=Fa,$1=vte.assert;function Mn(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var bte=Mn;Mn.fromPublic=function(t,r,n){return r instanceof Mn?r:new Mn(t,{pub:r,pubEnc:n})};Mn.fromPrivate=function(t,r,n){return r instanceof Mn?r:new Mn(t,{priv:r,privEnc:n})};Mn.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mn.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Mn.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Mn.prototype._importPrivate=function(t,r){this.priv=new mte(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Mn.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?$1(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&$1(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Mn.prototype.derive=function(t){return t.validate()||$1(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Mn.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Mn.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Mn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Gp=Qe,cT=Fa,gte=cT.assert;function mv(e,t){if(e instanceof mv)return e;this._importDER(e,t)||(gte(e.r&&e.s,"Signature without r or s"),this.r=new Gp(e.r,16),this.s=new Gp(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var yte=mv;function _te(){this.place=0}function Ng(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var a=0,i=0,s=t.place;i<n;i++,s++)a<<=8,a|=e[s],a>>>=0;return a<=127?!1:(t.place=s,a)}function xw(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}mv.prototype._importDER=function(t,r){t=cT.toArray(t,r);var n=new _te;if(t[n.place++]!==48)return!1;var a=Ng(t,n);if(a===!1||a+n.place!==t.length||t[n.place++]!==2)return!1;var i=Ng(t,n);if(i===!1)return!1;var s=t.slice(n.place,i+n.place);if(n.place+=i,t[n.place++]!==2)return!1;var o=Ng(t,n);if(o===!1||t.length!==o+n.place)return!1;var f=t.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Gp(s),this.s=new Gp(f),this.recoveryParam=null,!0};function Og(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}mv.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=xw(r),n=xw(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];Og(a,r.length),a=a.concat(r),a.push(2),Og(a,n.length);var i=a.concat(n),s=[48];return Og(s,i.length),s=s.concat(i),cT.encode(s,t)};var Au=Qe,ZN=p4,Tte=Fa,xg=pv,Ete=cm(),eO=Tte.assert,fT=bte,vv=yte;function Za(e){if(!(this instanceof Za))return new Za(e);typeof e=="string"&&(eO(Object.prototype.hasOwnProperty.call(xg,e),"Unknown curve "+e),e=xg[e]),e instanceof xg.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Ste=Za;Za.prototype.keyPair=function(t){return new fT(this,t)};Za.prototype.keyFromPrivate=function(t,r){return fT.fromPrivate(this,t,r)};Za.prototype.keyFromPublic=function(t,r){return fT.fromPublic(this,t,r)};Za.prototype.genKeyPair=function(t){t||(t={});for(var r=new ZN({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ete(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new Au(2));;){var i=new Au(r.generate(n));if(!(i.cmp(a)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Za.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Za.prototype.sign=function(t,r,n,a){typeof n=="object"&&(a=n,n=null),a||(a={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new Au(t,16));for(var i=this.n.byteLength(),s=r.getPrivate().toArray("be",i),o=t.toArray("be",i),f=new ZN({hash:this.hash,entropy:s,nonce:o,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new Au(1)),c=0;;c++){var l=a.k?a.k(c):new Au(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(u)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var h=d.getX(),p=h.umod(this.n);if(p.cmpn(0)!==0){var m=l.invm(this.n).mul(p.mul(r.getPrivate()).iadd(t));if(m=m.umod(this.n),m.cmpn(0)!==0){var v=(d.getY().isOdd()?1:0)|(h.cmp(p)!==0?2:0);return a.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),v^=1),new vv({r:p,s:m,recoveryParam:v})}}}}}};Za.prototype.verify=function(t,r,n,a){t=this._truncateToN(new Au(t,16)),n=this.keyFromPublic(n,a),r=new vv(r,"hex");var i=r.r,s=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(t).umod(this.n),u=o.mul(i).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.eqXToP(i)):(c=this.g.mulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0)};Za.prototype.recoverPubKey=function(e,t,r,n){eO((3&r)===r,"The recovery param is more than two bits"),t=new vv(t,n);var a=this.n,i=new Au(e),s=t.r,o=t.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var c=t.r.invm(a),l=a.sub(i).mul(c).umod(a),d=o.mul(c).umod(a);return this.g.mulAdd(l,s,d)};Za.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new vv(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch{continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")};var xh=Fa,tO=xh.assert,Rw=xh.parseBytes,dl=xh.cachedProperty;function nn(e,t){this.eddsa=e,this._secret=Rw(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Rw(t.pub)}nn.fromPublic=function(t,r){return r instanceof nn?r:new nn(t,{pub:r})};nn.fromSecret=function(t,r){return r instanceof nn?r:new nn(t,{secret:r})};nn.prototype.secret=function(){return this._secret};dl(nn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});dl(nn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});dl(nn,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,a=r.slice(0,t.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a});dl(nn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});dl(nn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});dl(nn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});nn.prototype.sign=function(t){return tO(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};nn.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};nn.prototype.getSecret=function(t){return tO(this._secret,"KeyPair is public only"),xh.encode(this.secret(),t)};nn.prototype.getPublic=function(t){return xh.encode(this.pubBytes(),t)};var Ate=nn,wte=Qe,bv=Fa,Cte=bv.assert,gv=bv.cachedProperty,Ite=bv.parseBytes;function sc(e,t){this.eddsa=e,typeof t!="object"&&(t=Ite(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Cte(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof wte&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}gv(sc,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});gv(sc,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});gv(sc,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});gv(sc,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});sc.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};sc.prototype.toHex=function(){return bv.encode(this.toBytes(),"hex").toUpperCase()};var Pte=sc,Nte=um,Ote=pv,Df=Fa,xte=Df.assert,rO=Df.parseBytes,nO=Ate,Dw=Pte;function la(e){if(xte(e==="ed25519","only tested with ed25519 so far"),!(this instanceof la))return new la(e);e=Ote[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Nte.sha512}var Rte=la;la.prototype.sign=function(t,r){t=rO(t);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),t),i=this.g.mul(a),s=this.encodePoint(i),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),f=a.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:f,Rencoded:s})};la.prototype.verify=function(t,r,n){t=rO(t),r=this.makeSignature(r);var a=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),a.pubBytes(),t),s=this.g.mul(r.S()),o=r.R().add(a.pub().mul(i));return o.eq(s)};la.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Df.intFromLE(t.digest()).umod(this.curve.n)};la.prototype.keyFromPublic=function(t){return nO.fromPublic(this,t)};la.prototype.keyFromSecret=function(t){return nO.fromSecret(this,t)};la.prototype.makeSignature=function(t){return t instanceof Dw?t:new Dw(this,t)};la.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};la.prototype.decodePoint=function(t){t=Df.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),a=(t[r]&128)!==0,i=Df.intFromLE(n);return this.curve.pointFromY(i,a)};la.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};la.prototype.decodeInt=function(t){return Df.intFromLE(t)};la.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=ate.version,t.utils=Fa,t.rand=cm(),t.curve=oT,t.curves=pv,t.ec=Ste,t.eddsa=Rte})(XN);var Uu=new XN.ec("secp256k1");function Dte(e,t){return U1.apply(this,arguments)}function U1(){return U1=Ke(de.mark(function e(t,r){var n;return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jee(t,r);case 2:return n=i.sent,i.abrupt("return",{ciphertext:n.ciphertext.toString("hex"),ephemPublicKey:n.ephemPublicKey.toString("hex"),iv:n.iv.toString("hex"),mac:n.mac.toString("hex")});case 4:case"end":return i.stop()}},e)})),U1.apply(this,arguments)}function Mte(e,t){return j1.apply(this,arguments)}function j1(){return j1=Ke(de.mark(function e(t,r){var n;return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={ciphertext:ae.from(r.ciphertext,"hex"),ephemPublicKey:ae.from(r.ephemPublicKey,"hex"),iv:ae.from(r.iv,"hex"),mac:ae.from(r.mac,"hex")},i.abrupt("return",Gee(t,n));case 2:case"end":return i.stop()}},e)})),j1.apply(this,arguments)}function Lte(e){return Object.keys(e).length===0&&e.constructor===Object}var aO=function(t){return t&&t.stack&&t.message!==""};function kte(e){return aO(e)?e.message:JSON.stringify(SI.serializeError(e))}function Bte(e){var t="0x".concat(ua.keccak256(e.toString("hex")).slice(26));return ua.toChecksumAddress(t)}function Fte(e){if(e){var t;return typeof e=="number"&&(t=e.toString(16),t.length%2&&(t="0".concat(t))),typeof e=="string"&&(t=e.toLowerCase()),"0x".concat(t)}}function iO(e){var t=new we($ee());return e.find(function(r){return r.eq(t)})?iO(e):t}var Hte="KEY_NOT_FOUND",$te="SHARE_DELETED";function Ute(e){return e.split("|")[0].slice(2)}function jte(e){return e.slice(0,2)==="0x"?e.slice(2):e}function Gte(){return"".concat(Math.random().toString(36).substr(2,9))}var Dd=function(){function e(t,r){qr(this,e),ie(this,"x",void 0),ie(this,"y",void 0),this.x=new we(t,"hex"),this.y=new we(r,"hex")}return Vr(e,[{key:"encode",value:function(r,n){switch(r){case"arr":return ae.concat([ae.from("0x04","hex"),ae.from(this.x.toString("hex"),"hex"),ae.from(this.y.toString("hex"),"hex")]);case"elliptic-compressed":{var a=n;a=Uu;var i=a.keyFromPublic({x:this.x.toString("hex"),y:this.y.toString("hex")},"hex");return ae.from(i.getPublic(!0,"hex"))}default:throw new Error("encoding doesnt exist in Point")}}},{key:"toJSON",value:function(){return{x:this.x.toString("hex"),y:this.y.toString("hex")}}}],[{key:"fromCompressedPub",value:function(r){var n=Uu.keyFromPublic(r,"hex"),a=n.getPublic();return new e(a.getX(),a.getY())}},{key:"fromJSON",value:function(r){var n=r.x,a=r.y;return new e(n,a)}}]),e}(),Kte=function(t){return Uu.keyFromPrivate(t.toString("hex",64))},sO=function(t){var r=new we(t,"hex");return ae.from(r.toString("hex",64),"hex")},oO=function(t){return Uu.keyFromPrivate(t.toString("hex",64)).getPublic()},Wte=function(t){return qN(sO(t))},lT=function(t){var r=oO(t);return new Dd(r.getX().toString("hex"),r.getY().toString("hex"))};function qte(e){var t=Vte();return function(){var n=uf(e),a;if(t){var i=uf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return h_(this,a)}}function Vte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var zte=function(e){rh(r,e);var t=qte(r);function r(n,a){var i;return qr(this,r),i=t.call(this,a),ie(At(i),"code",void 0),ie(At(i),"message",void 0),i.code=n,i.message=a||"",Object.defineProperty(At(i),"name",{value:"TkeyError"}),i}return Vr(r,[{key:"toJSON",value:function(){return{name:this.name,code:this.code,message:this.message}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),r}(dP),Yte="__ONE_KEY_DELETE_NONCE__",Xte="noncev2",uO=function(){function e(t){qr(this,e),ie(this,"polynomialCommitments",void 0),ie(this,"polynomialId",void 0),this.polynomialCommitments=t}return Vr(e,[{key:"getThreshold",value:function(){return this.polynomialCommitments.length}},{key:"getPolynomialID",value:function(){for(var r="",n=0;n<this.polynomialCommitments.length;n+=1){var a=this.polynomialCommitments[n].encode("elliptic-compressed").toString();n!==0&&(a="|".concat(a)),r+=a}return this.polynomialId=r,this.polynomialId}},{key:"toJSON",value:function(){return{polynomialCommitments:this.polynomialCommitments}}}],[{key:"fromJSON",value:function(r){var n=r.polynomialCommitments.map(function(a){return Dd.fromJSON(a)});return new e(n)}}]),e}(),cO=function(){function e(t,r){qr(this,e),ie(this,"shareCommitment",void 0),ie(this,"shareIndex",void 0),this.shareCommitment=new Dd(r.x,r.y),this.shareIndex=new we(t,"hex")}return Vr(e,[{key:"toJSON",value:function(){return{shareCommitment:this.shareCommitment,shareIndex:this.shareIndex.toString("hex")}}}],[{key:"fromJSON",value:function(r){var n=r.shareCommitment,a=r.shareIndex;return new e(a,Dd.fromJSON(n))}}]),e}(),dT=function(){function e(t,r){qr(this,e),ie(this,"share",void 0),ie(this,"shareIndex",void 0),this.share=new we(r,"hex"),this.shareIndex=new we(t,"hex")}return Vr(e,[{key:"getPublicShare",value:function(){return new cO(this.shareIndex,lT(this.share))}},{key:"toJSON",value:function(){return{share:this.share.toString("hex"),shareIndex:this.shareIndex.toString("hex")}}}],[{key:"fromJSON",value:function(r){var n=r.share,a=r.shareIndex;return new e(a,n)}}]),e}(),Jte=function(){function e(t){qr(this,e),ie(this,"polynomial",void 0),ie(this,"publicPolynomial",void 0),this.polynomial=t}return Vr(e,[{key:"getThreshold",value:function(){return this.polynomial.length}},{key:"polyEval",value:function(r){var n=new we(r,"hex"),a=new we(n),i=new we(0);i=i.add(this.polynomial[0]);for(var s=1;s<this.polynomial.length;s+=1){var o=a.mul(this.polynomial[s]);i=i.add(o),i=i.umod(Uu.curve.n),a=a.mul(new we(n)),a=a.umod(Uu.curve.n)}return i}},{key:"generateShares",value:function(r){for(var n=r.map(function(s){return typeof s=="number"?new we(s):s instanceof we?s:typeof s=="string"?new we(s,"hex"):s}),a={},i=0;i<n.length;i+=1)a[n[i].toString("hex")]=new dT(n[i],this.polyEval(n[i]));return a}},{key:"getPublicPolynomial",value:function(){for(var r=[],n=0;n<this.polynomial.length;n+=1)r.push(lT(this.polynomial[n]));return this.publicPolynomial=new uO(r),this.publicPolynomial}},{key:"getPolynomialID",value:function(){return this.publicPolynomial.polynomialId}},{key:"toJSON",value:function(){return{polynomial:this.polynomial.map(function(r){return r.toString("hex")})}}}],[{key:"fromJSON",value:function(r){var n=r.polynomial;return new e(n.map(function(a){return new we(a,"hex")}))}}]),e}(),Qte=function(){function e(t,r){qr(this,e),ie(this,"share",void 0),ie(this,"polynomialID",void 0),this.share=t,this.polynomialID=r}return Vr(e,[{key:"toJSON",value:function(){return{share:this.share,polynomialID:this.polynomialID.toString()}}}],[{key:"fromJSON",value:function(r){var n=r.share,a=r.polynomialID;return new e(dT.fromJSON(n),a)}}]),e}();const Zte=Object.freeze(Object.defineProperty({__proto__:null,KEY_NOT_FOUND:Hte,ONE_KEY_DELETE_NONCE:Yte,ONE_KEY_NAMESPACE:Xte,Point:Dd,Polynomial:Jte,PublicPolynomial:uO,PublicShare:cO,SHARE_DELETED:$te,Share:dT,ShareStore:Qte,TkeyError:zte,decrypt:Mte,derivePubKeyXFromPolyID:Ute,ecCurve:Uu,encrypt:Dte,generateAddressFromPublicKey:Bte,generateID:Gte,generatePrivateExcludingIndexes:iO,getPubKeyEC:oO,getPubKeyECC:Wte,getPubKeyPoint:lT,isEmptyObject:Lte,isErrorObj:aO,normalize:Fte,prettyPrintError:kte,stripHexPrefix:jte,toPrivKeyEC:Kte,toPrivKeyECC:sO},Symbol.toStringTag,{value:"Module"})),hT=ei(Zte);var b0=typeof JSON<"u"?JSON:PP(),fO=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=t.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof t.cycles=="boolean"?t.cycles:!1,a=t.replacer||function(o,f){return f},i=t.cmp&&function(o){return function(f){return function(u,c){var l={key:u,value:f[u]},d={key:c,value:f[c]};return o(l,d)}}}(t.cmp),s=[];return function o(f,u,c,l){var d=r?`
`+new Array(l+1).join(r):"",h=r?": ":":";if(c&&c.toJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),c=a.call(f,u,c),c!==void 0){if(typeof c!="object"||c===null)return b0.stringify(c);if(ere(c)){for(var p=[],m=0;m<c.length;m++){var v=o(c,m,c[m],l+1)||b0.stringify(null);p.push(d+r+v)}return"["+p.join(",")+d+"]"}else{if(s.indexOf(c)!==-1){if(n)return b0.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else s.push(c);for(var b=tre(c).sort(i&&i(c)),p=[],m=0;m<b.length;m++){var u=b[m],g=o(c,u,c[u],l+1);if(g){var y=b0.stringify(u)+h+g;p.push(d+r+y)}}return s.splice(s.indexOf(c),1),"{"+p.join(",")+d+"}"}}}({"":e},"",e,0)},ere=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"},tre=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r},Mw=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},Lw=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rre=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ac,"__esModule",{value:!0});var g0=hT,kw=rre(fO),nre=function(){function e(){}return e.encrypt=function(t,r,n){return Mw(this,void 0,void 0,function(){var a,i;return Lw(this,function(s){switch(s.label){case 0:return a=ae.from(typeof t=="string"?t:(0,kw.default)(t)),n?[4,(0,g0.encrypt)((0,g0.getPubKeyECC)(n),a)]:[3,2];case 1:return i=s.sent(),[3,4];case 2:return r?[4,r.encrypt(a)]:[3,4];case 3:i=s.sent(),s.label=4;case 4:return i?[2,ae.from((0,kw.default)(i)).toString("base64")]:[2,void 0]}})})},e.decrypt=function(t,r,n){return Mw(this,void 0,void 0,function(){var a,i;return Lw(this,function(s){switch(s.label){case 0:return a=JSON.parse(ae.from(t,"base64").toString()),n?[4,(0,g0.decrypt)((0,g0.toPrivKeyECC)(n),a)]:[3,2];case 1:return i=s.sent(),[3,4];case 2:return r?[4,r.decrypt(a)]:[3,4];case 3:i=s.sent(),s.label=4;case 4:if(i)try{return[2,JSON.parse(i.toString())]}catch{return[2,i.toString()]}return[2,void 0]}})})},e}();ac.default=nre;var Zi=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},es=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},lO=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rv,"__esModule",{value:!0});rv.DeviceStorageModule=void 0;var are=lO(Qe),Bw=lO(ac),Fw=gh,ire=function(){function e(t){this.moduleName="DeviceStorageModule",this.params=t}return e.prototype.initialize=function(){return Zi(this,void 0,void 0,function(){return es(this,function(t){return[2]})})},e.prototype.setModuleReferences=function(t){this.sdk=t},e.getReferenceId=function(t,r){return r?(0,Fw.keccak256)(r.toString("hex")):(0,Fw.keccak256)(t.postboxKey.toString("hex"))},e.prototype.load=function(t,r){return Zi(this,void 0,void 0,function(){var n,a,i;return es(this,function(s){switch(s.label){case 0:return[4,this.loadAll()];case 1:return n=s.sent(),a=e.getReferenceId(t,r),i=n&&n[a],i?[4,Bw.default.decrypt(i.data,t,r)]:[3,3];case 2:return[2,s.sent()];case 3:return[2,void 0]}})})},e.prototype.save=function(t,r,n){return Zi(this,void 0,void 0,function(){var a,i,s,o,f,u;return es(this,function(c){switch(c.label){case 0:return!r&&t.postboxKey.toString("hex")===new are.default(0).toString("hex")?[2]:(a={},[4,this.loadAll()]);case 1:return i=c.sent(),i&&(a=i),s=e.getReferenceId(t,r),n?(o=a,f=s,u={type:r?"usage":"login"},[4,Bw.default.encrypt(n,t,r)]):[3,3];case 2:return o[f]=(u.data=c.sent(),u),[3,4];case 3:a[s]=void 0,c.label=4;case 4:return[4,this.saveAll(a)];case 5:return c.sent(),[2]}})})},e.prototype.generateNewDeviceShare=function(t,r,n){var a,i,s,o,f;return Zi(this,void 0,void 0,function(){var u,c,l,d,h,p,m,v,b;return es(this,function(g){switch(g.label){case 0:return u=n==null?void 0:n.withShare,u?[3,2]:[4,(a=this.sdk)===null||a===void 0?void 0:a.generateNewShare()];case 1:c=g.sent(),c&&(u=c.newShareStores[c.newShareIndex.toString("hex")]),g.label=2;case 2:return u?[4,this.saveDeviceShare(u,t,r)]:[3,10];case 3:return g.sent(),[4,this.getDeviceInfo()];case 4:return l=g.sent(),d=l.model,h=l.platform,p=l.version,m=l.brand,v={module:this.moduleName,model:d,platform:h,version:p,brand:m,dateAdded:Date.now(),nonce:n==null?void 0:n.nonce},b=(i=this.sdk)===null||i===void 0?void 0:i.getMetadata().getShareDescription()[u.share.shareIndex.toString("hex")],b?[3,6]:[4,(s=this.sdk)===null||s===void 0?void 0:s.addShareDescription(u.share.shareIndex.toString("hex"),JSON.stringify(v),!1)];case 5:return g.sent(),[3,8];case 6:return[4,(o=this.sdk)===null||o===void 0?void 0:o.getMetadata().updateShareDescription(u.share.shareIndex.toString("hex"),JSON.stringify(b),JSON.stringify(v))];case 7:g.sent(),g.label=8;case 8:return[4,(f=this.sdk)===null||f===void 0?void 0:f._syncShareMetadata()];case 9:return g.sent(),[2,u];case 10:throw Error("Failed to create new share")}})})},e.prototype.getDeviceShare=function(t,r){return Zi(this,void 0,void 0,function(){return es(this,function(n){switch(n.label){case 0:return[4,this.load(t,r)];case 1:return[2,n.sent()]}})})},e.prototype.inputDeviceShare=function(t){var r;(r=this.sdk)===null||r===void 0||r.inputShareStore(t)},e.prototype.deleteDeviceShare=function(t,r,n,a){var i,s,o,f,u;return Zi(this,void 0,void 0,function(){var c;return es(this,function(l){switch(l.label){case 0:return[4,this.save(r,void 0,void 0)];case 1:return l.sent(),n?[4,this.save(r,n,void 0)]:[3,3];case 2:l.sent(),l.label=3;case 3:return a?[2]:(c=(s=(i=this.sdk)===null||i===void 0?void 0:i.getMetadata())===null||s===void 0?void 0:s.getShareDescription()[t.share.shareIndex.toString("hex")],c&&c.length>0?[4,(f=(o=this.sdk)===null||o===void 0?void 0:o.getMetadata())===null||f===void 0?void 0:f.deleteShareDescription(t.share.shareIndex.toString("hex"),c[0])]:[3,6]);case 4:return l.sent(),[4,(u=this.sdk)===null||u===void 0?void 0:u._syncShareMetadata()];case 5:l.sent(),l.label=6;case 6:return[2]}})})},e.prototype.saveDeviceShare=function(t,r,n){return Zi(this,void 0,void 0,function(){return es(this,function(a){switch(a.label){case 0:return[4,this.save(r,void 0,t)];case 1:return a.sent(),n?[4,this.save(r,n,t)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}})})},e.prototype.deleteShareInCache=function(t,r){return Zi(this,void 0,void 0,function(){return es(this,function(n){switch(n.label){case 0:return[4,this.save(t,r,void 0)];case 1:return n.sent(),[2]}})})},e.prototype.deleteAllUsageShare=function(){return Zi(this,void 0,void 0,function(){var t;return es(this,function(r){switch(r.label){case 0:return[4,this.loadAll()];case 1:return t=r.sent(),t?(Object.keys(t).filter(function(n){var a;return((a=t[n])===null||a===void 0?void 0:a.type)==="usage"}).map(function(n){t[n]=void 0}),[4,this.saveAll(t)]):[2];case 2:return r.sent(),[2]}})})},e}();rv.DeviceStorageModule=ire;var dO={};Object.defineProperty(dO,"__esModule",{value:!0});var Rh={};function sre(e){var t=ore();return function(){var n=uf(e),a;if(t){var i=uf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return h_(this,a)}}function ore(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var qo=function(e){rh(r,e);var t=sre(r);function r(n,a){var i;return qr(this,r),i=t.call(this,n,a),Object.defineProperty(At(i),"name",{value:"SecurityQuestionsError"}),i}return Vr(r,null,[{key:"fromCode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new r(a,"".concat(r.messages[a]).concat(i))}},{key:"unavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(2101,a)}},{key:"unableToReplace",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(2102,a)}},{key:"incorrectAnswer",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(2103,a)}},{key:"noPasswordSaved",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(2104,a)}}]),r}(hP);ie(qo,"messages",{2101:"security questions might not exist/be setup",2102:"security questions exists, cant replace, maybe change?",2103:"Incorrect answer",2104:"no password saved on tkeyStore"});var Rs=function(){function e(t){var r=t.nonce,n=t.shareIndex,a=t.sqPublicShare,i=t.polynomialID,s=t.questions;qr(this,e),ie(this,"nonce",void 0),ie(this,"shareIndex",void 0),ie(this,"sqPublicShare",void 0),ie(this,"polynomialID",void 0),ie(this,"questions",void 0),this.nonce=new we(r,"hex"),this.shareIndex=new we(n,"hex"),this.sqPublicShare=new Ip(a.shareIndex,a.shareCommitment),this.polynomialID=i,this.questions=s}return Vr(e,[{key:"toJSON",value:function(){return{nonce:this.nonce.toString("hex"),shareIndex:this.shareIndex.toString("hex"),sqPublicShare:this.sqPublicShare,polynomialID:this.polynomialID.toString(),questions:this.questions}}}],[{key:"fromJSON",value:function(r){var n=r.nonce,a=r.shareIndex,i=r.sqPublicShare,s=r.polynomialID,o=r.questions;return new e({nonce:new we(n,"hex"),shareIndex:new we(a,"hex"),sqPublicShare:Ip.fromJSON(i),polynomialID:s,questions:o})}}]),e}();function Rg(e){return new we(ua.keccak256(e).slice(2),"hex")}var hO="securityQuestions",Hw="answer",$w=function(){function e(t){qr(this,e),ie(this,"moduleName",void 0),ie(this,"tbSDK",void 0),ie(this,"saveAnswers",void 0),this.saveAnswers=t,this.moduleName=hO}return Vr(e,[{key:"setModuleReferences",value:function(r){this.tbSDK=r,this.tbSDK._addRefreshMiddleware(this.moduleName,e.refreshSecurityQuestionsMiddleware)}},{key:"initialize",value:function(){var t=Ke(de.mark(function n(){return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}},n)}));function r(){return t.apply(this,arguments)}return r}()},{key:"generateNewShareWithSecurityQuestions",value:function(){var t=Ke(de.mark(function n(a,i){var s,o,f,u,c,l,d;return de.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s=this.tbSDK.getMetadata(),o=s.getGeneralStoreDomain(this.moduleName),!o){p.next=4;break}throw qo.unableToReplace();case 4:return p.next=6,this.tbSDK.generateNewShare();case 6:return f=p.sent,u=f.newShareStores[f.newShareIndex.toString("hex")],c=Rg(a),l=u.share.share.sub(c),l=l.umod(Xt.curve.n),d=new Rs({nonce:l,questions:i,sqPublicShare:u.share.getPublicShare(),shareIndex:u.share.shareIndex,polynomialID:u.polynomialID}),s.setGeneralStoreDomain(this.moduleName,d),p.next=15,this.tbSDK.addShareDescription(f.newShareIndex.toString("hex"),JSON.stringify({module:this.moduleName,questions:i,dateAdded:Date.now()}),!1);case 15:return p.next=17,this.saveAnswerOnTkeyStore(a);case 17:return p.next=19,this.tbSDK._syncShareMetadata();case 19:return p.abrupt("return",f);case 20:case"end":return p.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"getSecurityQuestions",value:function(){var r=this.tbSDK.getMetadata(),n=new Rs(r.getGeneralStoreDomain(this.moduleName));return n.questions}},{key:"inputShareFromSecurityQuestions",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u,c,l,d;return de.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(i=this.tbSDK.getMetadata(),s=i.getGeneralStoreDomain(this.moduleName),s){p.next=4;break}throw qo.unavailable();case 4:if(o=new Rs(s),f=Rg(a),u=o.nonce.add(f),u=u.umod(Xt.curve.n),c=new Pr(new Tu(o.shareIndex,u),o.polynomialID),l=c.share.getPublicShare(),l.shareCommitment.x.cmp(o.sqPublicShare.shareCommitment.x)===0){p.next=12;break}throw qo.incorrectAnswer();case 12:return p.next=14,this.tbSDK.catchupToLatestShare({shareStore:c,includeLocalMetadataTransitions:!0});case 14:d=p.sent,this.tbSDK.inputShareStore(d.latestShare);case 16:case"end":return p.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"changeSecurityQuestionAndAnswer",value:function(){var t=Ke(de.mark(function n(a,i){var s,o,f,u,c,l,d;return de.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s=this.tbSDK.getMetadata(),o=s.getGeneralStoreDomain(this.moduleName),o){p.next=4;break}throw qo.unavailable();case 4:return f=new Rs(o),u=Rg(a),c=this.tbSDK.outputShareStore(f.shareIndex),l=c.share.share.sub(u),l=l.umod(Xt.curve.n),d=new Rs({nonce:l,polynomialID:f.polynomialID,sqPublicShare:f.sqPublicShare,shareIndex:f.shareIndex,questions:i}),s.setGeneralStoreDomain(this.moduleName,d),p.next=13,this.saveAnswerOnTkeyStore(a);case 13:return p.next=15,this.tbSDK._syncShareMetadata();case 15:case"end":return p.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"saveAnswerOnTkeyStore",value:function(){var t=Ke(de.mark(function n(a){var i;return de.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.saveAnswers){o.next=2;break}return o.abrupt("return");case 2:return i={answer:a,id:Hw},o.next=5,this.tbSDK._setTKeyStoreItem(this.moduleName,i,!1);case 5:case"end":return o.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"getAnswer",value:function(){var t=Ke(de.mark(function n(){var a;return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.saveAnswers){s.next=5;break}return s.next=3,this.tbSDK.getTKeyStoreItem(this.moduleName,Hw);case 3:return a=s.sent,s.abrupt("return",a.answer);case 5:throw qo.noPasswordSaved();case 6:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}],[{key:"refreshSecurityQuestionsMiddleware",value:function(r,n,a){if(r===void 0||kK(r))return r;var i=new Rs(r),s=i.shareIndex.toString("hex");if(n[s]&&a[s]){var o=n[s].share.share.sub(i.nonce),f=a[s].share.share.sub(o);return f=f.umod(Xt.curve.n),new Rs({nonce:f,polynomialID:a[Object.keys(a)[0]].polynomialID,sqPublicShare:a[s].share.getPublicShare(),shareIndex:i.shareIndex,questions:i.questions})}}}]),e}();const ure=Object.freeze(Object.defineProperty({__proto__:null,SECURITY_QUESTIONS_MODULE_NAME:hO,SecurityQuestionStore:Rs,SecurityQuestionsError:qo,SecurityQuestionsModule:$w,default:$w},Symbol.toStringTag,{value:"Module"})),pO=ei(ure);var yv={};(function(e){var t=$&&$.__createBinding||(Object.create?function(v,b,g,y){y===void 0&&(y=g);var C=Object.getOwnPropertyDescriptor(b,g);(!C||("get"in C?!b.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return b[g]}}),Object.defineProperty(v,y,C)}:function(v,b,g,y){y===void 0&&(y=g),v[y]=b[g]}),r=$&&$.__setModuleDefault||(Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b}),n=$&&$.__importStar||function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var g in v)g!=="default"&&Object.prototype.hasOwnProperty.call(v,g)&&t(b,v,g);return r(b,v),b},a=$&&$.__awaiter||function(v,b,g,y){function C(I){return I instanceof g?I:new g(function(P){P(I)})}return new(g||(g=Promise))(function(I,P){function O(D){try{S(y.next(D))}catch(w){P(w)}}function N(D){try{S(y.throw(D))}catch(w){P(w)}}function S(D){D.done?I(D.value):C(D.value).then(O,N)}S((y=y.apply(v,b||[])).next())})},i=$&&$.__generator||function(v,b){var g={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},y,C,I,P;return P={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function O(S){return function(D){return N([S,D])}}function N(S){if(y)throw new TypeError("Generator is already executing.");for(;g;)try{if(y=1,C&&(I=S[0]&2?C.return:S[0]?C.throw||((I=C.return)&&I.call(C),0):C.next)&&!(I=I.call(C,S[1])).done)return I;switch(C=0,I&&(S=[S[0]&2,I.value]),S[0]){case 0:case 1:I=S;break;case 4:return g.label++,{value:S[1],done:!1};case 5:g.label++,C=S[1],S=[0];continue;case 7:S=g.ops.pop(),g.trys.pop();continue;default:if(I=g.trys,!(I=I.length>0&&I[I.length-1])&&(S[0]===6||S[0]===2)){g=0;continue}if(S[0]===3&&(!I||S[1]>I[0]&&S[1]<I[3])){g.label=S[1];break}if(S[0]===6&&g.label<I[1]){g.label=I[1],I=S;break}if(I&&g.label<I[2]){g.label=I[2],g.ops.push(S);break}I[2]&&g.ops.pop(),g.trys.pop();continue}S=b.call(v,g)}catch(D){S=[6,D],C=0}finally{y=I=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},s=$&&$.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.walletFromPrivateKey=e.pinCode2Key=e.mnemonicToSeed=e.createHDKey=void 0;var o=n(b7()),f=hT,u=s(Qe),c=gh,l=pi,d=function(v,b,g){return a(void 0,void 0,void 0,function(){var y,C,I;return i(this,function(P){switch(P.label){case 0:return[4,(0,e.mnemonicToSeed)(v,g)];case 1:return y=P.sent(),C=o.hdkey.fromMasterSeed(y),I=C.derivePath("m/44'/60'/0'/0/".concat(b)).getWallet(),[2,I.getPrivateKeyString()]}})})};e.createHDKey=d;var h=function(v,b){return a(void 0,void 0,void 0,function(){var g,y;return i(this,function(C){switch(C.label){case 0:return g=ae.from((0,f.normalize)(v),"utf8"),[4,b.pbkdf2(g,ae.from("mnemonic","utf8"),2048,64,"sha512")];case 1:return y=C.sent(),[2,y]}})})};e.mnemonicToSeed=h;var p=function(v){return new u.default((0,c.keccak256)(v).slice(2),"hex")};e.pinCode2Key=p;var m=function(v){if(!(0,l.isValidPrivate)((0,l.toBuffer)((0,l.addHexPrefix)(v))))throw new Error("Invalid private key");var b=(0,l.addHexPrefix)(v),g=(0,l.toBuffer)(b);return o.default.fromPrivateKey(g)};e.walletFromPrivateKey=m})(yv);var cre=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yc=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},_c=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pT=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.PinCodeModule=void 0;var fre=pT(pO),Uw=pT(ac),lre=pT(Wu()),dre=ua,jw=yv,hre=function(e){cre(t,e);function t(r,n){var a=e.call(this,r)||this;return a.moduleName=t.moduleBaseName,a.tKeyManager=n,a}return t.prototype.setTKeyManager=function(r){this.tKeyManager=r},t.createModuleName=function(r){return"".concat(t.moduleBaseName,"_").concat(r)},t.prototype.getReferenceId=function(){var r,n,a,i,s=(0,dre.keccak256)((i=(a=(n=(r=this.tKeyManager)===null||r===void 0?void 0:r.currentDeviceShare)===null||n===void 0?void 0:n.share)===null||a===void 0?void 0:a.share.toString("hex"))!==null&&i!==void 0?i:"reference_id");return this.moduleName=t.createModuleName(s),s},t.prototype.updateModuleName=function(){this.getReferenceId()},t.prototype.generatePinCodeAnswer=function(){return yc(this,void 0,void 0,function(){var r;return _c(this,function(n){return this.updateModuleName(),r=lre.default.randomBytes(128),[2,r.toString("base64")]})})},t.createQuestion=function(){var r={question:"What is the pin code?"};return JSON.stringify(r)},t.prototype.load=function(r){return yc(this,void 0,void 0,function(){var n,a;return _c(this,function(i){switch(i.label){case 0:return[4,this.loadAll()];case 1:return n=i.sent(),n&&n[this.getReferenceId()]?(a=n[this.getReferenceId()],[4,Uw.default.decrypt(a,void 0,(0,jw.pinCode2Key)(r))]):[3,3];case 2:return[2,i.sent()];case 3:return[2,void 0]}})})},t.prototype.inputShareFromPinCode=function(r){return yc(this,void 0,void 0,function(){var n;return _c(this,function(a){switch(a.label){case 0:return[4,this.load(r)];case 1:if(n=a.sent(),!n)throw Error("Pin code not found");return[4,e.prototype.inputShareFromSecurityQuestions.call(this,n)];case 2:return a.sent(),[2]}})})},t.prototype.generateNewShareWithPinCode=function(r){return yc(this,void 0,void 0,function(){var n,a;return _c(this,function(i){switch(i.label){case 0:return[4,this.generatePinCodeAnswer()];case 1:return n=i.sent(),[4,e.prototype.generateNewShareWithSecurityQuestions.call(this,n,t.createQuestion())];case 2:return a=i.sent(),[4,this.save(r,n)];case 3:return i.sent(),[2,a]}})})},t.prototype.changePinCode=function(r){return yc(this,void 0,void 0,function(){var n;return _c(this,function(a){switch(a.label){case 0:return[4,this.generatePinCodeAnswer()];case 1:return n=a.sent(),[4,e.prototype.changeSecurityQuestionAndAnswer.call(this,n,t.createQuestion())];case 2:return a.sent(),[4,this.save(r,n)];case 3:return a.sent(),[2]}})})},t.prototype.save=function(r,n){return yc(this,void 0,void 0,function(){var a,i,s,o;return _c(this,function(f){switch(f.label){case 0:return a={},[4,this.loadAll()];case 1:return i=f.sent(),i&&(a=i),n?(s=a,o=this.getReferenceId(),[4,Uw.default.encrypt(n,void 0,(0,jw.pinCode2Key)(r))]):[3,3];case 2:return s[o]=f.sent(),[3,4];case 3:a[this.getReferenceId()]=void 0,f.label=4;case 4:return[4,this.saveAll(a)];case 5:return f.sent(),[2]}})})},t.moduleBaseName="PinCodeModule",t}(fre.default);Rh.PinCodeModule=hre;var mT={},Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.ITKeyManager=void 0;var pre=function(){function e(){}return e}();Dh.ITKeyManager=pre;var _v={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AccountStatus=e.TKeyResultCode=void 0,function(t){t.ACCOUNT_LINKED_WITH_OTHER_WALLET="ACCOUNT_LINKED_WITH_OTHER_WALLET",t.ACCOUNT_NOT_EXISTED="ACCOUNT_NOT_EXISTED",t.ACCOUNT_EXISTED="ACCOUNT_EXISTED",t.INITIAL_TKEY_ERROR="INITIAL_TKEY_ERROR",t.INITIAL_TKEY_SUCCESS="INITIAL_TKEY_SUCCESS",t.PASSWORD_SHARE_NOT_EXISTED="PASSWORD_SHARE_NOT_EXISTED",t.DEVICE_SHARE_NOT_EXISTED="DEVICE_SHARE_NOT_EXISTED",t.RECONSTRUCT_KEY_ERROR="RECONSTRUCT_KEY_ERROR",t.PASSWORD_SHARE_ERROR="PASSWORD_SHARE_ERROR",t.DEVICE_SHARE_ERROR="DEVICE_SHARE_ERROR",t.INVALID_DEVICE_SHARE="INVALID_DEVICE_SHARE",t.PRIVATE_KEY_ERROR="PRIVATE_KEY_ERROR",t.WRONG_PIN_CODE="WRONG_PIN_CODE",t.GET_ID_TOKEN_FAILED="GET_ID_TOKEN_FAILED",t.PASSWORD_CACHE_NOT_EXISTED="PASSWORD_CACHE_NOT_EXISTED",t.SAVE_PASSWORD_ERROR="SAVE_PASSWORD_ERROR",t.CREATE_DEVICE_SHARE_FAILED="CREATE_DEVICE_SHARE_FAILED"}(e.TKeyResultCode||(e.TKeyResultCode={})),function(t){t.ACTIVE="active",t.DELETING="deleting"}(e.AccountStatus||(e.AccountStatus={}))})(_v);var Mh={},mre=om().ec;new mre("secp256k1");var Kp=$.crypto||$.msCrypto||{};Kp.subtle||Kp.webkitSubtle;var vre=Wu();const bre=ae.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),gre=ae.alloc(32,0);function yre(e){return ae.isBuffer(e)&&e.length===32}function _re(e){return yre(e)?e.compare(gre)>0&&e.compare(bre)<0:!1}function Gw(e){var t=new Uint8Array(e);return typeof Kp.getRandomValues>"u"?ae.from(vre.randomBytes(e)):(Kp.getRandomValues(t),ae.from(t))}var mO=function(){for(var e=Gw(32);!_re(e);)e=Gw(32);return e};function Tre(e){var t=Ere();return function(){var n=uf(e),a;if(t){var i=uf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return h_(this,a)}}function Ere(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Oe=function(e){rh(r,e);var t=Tre(r);function r(n,a){var i;return qr(this,r),i=t.call(this,n,a),Object.defineProperty(At(i),"name",{value:"CoreError"}),i}return Vr(r,null,[{key:"fromCode",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new r(a,"".concat(r.messages[a]," ").concat(i))}},{key:"default",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return new r(1e3,"".concat(r.messages[1e3]," ").concat(a))}},{key:"metadataUndefined",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1101,a)}},{key:"delete1OutOf1OnlyManualSync",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1601,a)}},{key:"metadataGetFailed",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1102,a)}},{key:"metadataPostFailed",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1103,a)}},{key:"tkeyStoreInvalid",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1201,a)}},{key:"tkeyEncryptionFailed",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1202,a)}},{key:"tkeyDecryptionFailed",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1203,a)}},{key:"privateKeyUnavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1301,a)}},{key:"unableToReconstruct",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1302,a)}},{key:"incorrectReconstruction",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1303,a)}},{key:"encryptedShareStoreUnavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1306,a)}},{key:"acquireLockFailed",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1401,a)}},{key:"releaseLockFailed",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1402,a)}},{key:"privKeyUnavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1501,a)}},{key:"metadataPubKeyUnavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1502,a)}},{key:"authMetadataGetUnavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1503,a)}},{key:"authMetadataSetUnavailable",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r.fromCode(1504,a)}}]),r}(hP);ie(Oe,"messages",{1e3:"Custom",1001:"Unable to delete service provider share",1002:"Wrong share index",1003:"Unable to updateSDK",1101:"metadata not found, SDK likely not initialized",1102:"getMetadata errored",1103:"setMetadata errored",1104:"previouslyFetchedCloudMetadata provided in initialization is outdated",1105:"previouslyFetchedCloudMetadata.nonce should never be higher than the latestShareDetails, please contact support",1201:"Invalid tkeyStore",1202:"Encryption failed",1203:"Decryption failed",1301:"Private key not available. Please reconstruct key first",1302:"Unable to reconstruct",1303:"reconstructed key is not pub key",1304:"Share found in unexpected polynomial",1305:"Input is not supported",1306:"no encrypted share store for share exists",1307:"Share doesn't exist",1308:"Share was deleted",1401:"Unable to acquire lock",1402:"Unable to release lock",1501:"privkey unavailable",1502:"metadata pubkey unavailable",1503:"getAuthMetadata errored",1504:"setAuthMetadata errored",1601:"delete1OutOf1 requires manualSync=true"});var G1=function(t){return Array.from({length:t},function(){return new we(0)})},Sre=function(t,r){for(var n=new we(1),a=r[t].x,i=r.length-1;i>=0;i-=1)if(t!==i){var s=new we(a);s=s.sub(r[i].x),s=s.umod(Xt.curve.n),n=n.mul(s),n=n.umod(Xt.curve.n)}return n},Are=function(t,r){var n=G1(r.length),a=Sre(t,r);if(a.cmp(new we(0))===0)throw Oe.default("Denominator for interpolationPoly is 0");n[0]=a.invm(Xt.curve.n);for(var i=0;i<r.length;i+=1){var s=G1(r.length);if(i!==t){var o=void 0;for(i<t?o=i+1:o=i,o-=1;o>=0;o-=1){s[o+1]=s[o+1].add(n[o]),s[o+1]=s[o+1].umod(Xt.curve.n);var f=new we(r[i].x);f=f.mul(n[o]),f=f.umod(Xt.curve.n),s[o]=s[o].sub(f),s[o]=s[o].umod(Xt.curve.n)}n=s}}return n},wre=function(t){var r=zt(t);return r.sort(function(n,a){return n.x.cmp(a.x)}),r},Cre=function(t){for(var r=wre(t),n=G1(r.length),a=0;a<r.length;a+=1)for(var i=Are(a,r),s=0;s<r.length;s+=1){var o=new we(r[a].y);o=o.mul(i[s]),n[s]=n[s].add(o),n[s]=n[s].umod(Xt.curve.n)}return new gP(n)};function nd(e){return Cre(e)}function vO(e,t){if(e.length!==t.length)throw Oe.default("shares not equal to nodeIndex length in lagrangeInterpolation");for(var r=new we(0),n=0;n<e.length;n+=1){for(var a=new we(1),i=new we(1),s=0;s<e.length;s+=1)if(n!==s){a=a.mul(t[s].neg()),a=a.umod(Xt.curve.n);var o=t[n].sub(t[s]);o=o.umod(Xt.curve.n),i=i.mul(o).umod(Xt.curve.n)}var f=a.mul(i.invm(Xt.curve.n)).umod(Xt.curve.n);f=f.mul(e[n]).umod(Xt.curve.n),r=r.add(f)}return r.umod(Xt.curve.n)}function z0(e,t,r){var n=t;if(t||(n=zs([new we(0)])),!r){for(var a=[n],i=0;i<e;i+=1){var s=zs(a);a.push(s)}return new gP(a)}if(!Array.isArray(r))throw Oe.default("deterministic shares in generateRandomPolynomial should be an array");if(r.length>e)throw Oe.default("deterministicShares in generateRandomPolynomial should be less or equal than degree to ensure an element of randomness");var o={};r.forEach(function(c){o[c.shareIndex.toString("hex")]=new oa(c.shareIndex,c.share)});for(var f=0;f<e-r.length;f+=1){for(var u=zs([new we(0)]);o[u.toString("hex")]!==void 0;)u=zs([new we(0)]);o[u.toString("hex")]=new oa(u,new we(mO()))}return o[0]=new oa(new we(0),n),nd(Object.values(o))}function bO(e,t){for(var r=[],n=0;n<e.length;n+=1){var a=Xt.keyFromPublic({x:e[n].x.toString("hex"),y:e[n].y.toString("hex")},"");r.push(a.getPublic())}for(var i=r[0],s=1;s<r.length;s+=1){var o=t.pow(new we(s)).umod(Xt.n),f=r[s].mul(o);i=i.add(f)}return new oa(i.getX(),i.getY())}var Vo=function(){function e(t){qr(this,e),ie(this,"pubKey",void 0),ie(this,"publicPolynomials",void 0),ie(this,"publicShares",void 0),ie(this,"polyIDList",void 0),ie(this,"generalStore",void 0),ie(this,"tkeyStore",void 0),ie(this,"scopedStore",void 0),ie(this,"nonce",void 0),this.publicPolynomials={},this.publicShares={},this.generalStore={},this.tkeyStore={},this.scopedStore={},this.pubKey=t,this.polyIDList=[],this.nonce=0}return Vr(e,[{key:"getShareIndexesForPolynomial",value:function(r){var n=this.polyIDList.filter(function(a){return a[0]===r});if(n.length<1)throw Oe.default("there is no matching polyID");if(n.length>1)throw Oe.default("there is more than one matching polyID");return n[0][1]}},{key:"getLatestPublicPolynomial",value:function(){return this.publicPolynomials[this.polyIDList[this.polyIDList.length-1][0]]}},{key:"addPublicShare",value:function(r,n){r in this.publicShares||(this.publicShares[r]={}),this.publicShares[r][n.shareIndex.toString("hex")]=n}},{key:"setGeneralStoreDomain",value:function(r,n){this.generalStore[r]=n}},{key:"getGeneralStoreDomain",value:function(r){return this.generalStore[r]}},{key:"deleteGeneralStoreDomain",value:function(r){delete this.generalStore[r]}},{key:"setTkeyStoreDomain",value:function(r,n){this.tkeyStore[r]=n}},{key:"getTkeyStoreDomain",value:function(r){return this.tkeyStore[r]}},{key:"addFromPolynomialAndShares",value:function(r,n){var a=r.getPublicPolynomial(),i=a.getPolynomialID();this.publicPolynomials[i]=a;var s=[];if(Array.isArray(n))for(var o=0;o<n.length;o+=1)this.addPublicShare(a.getPolynomialID(),n[o].getPublicShare()),s.push(n[o].shareIndex.toString("hex"));else for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(this.addPublicShare(a.getPolynomialID(),n[f].getPublicShare()),s.push(n[f].shareIndex.toString("hex")));this.polyIDList.push([i,s])}},{key:"setScopedStore",value:function(r,n){this.scopedStore[r]=n}},{key:"getEncryptedShare",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a.share.getPublicShare(),s=this.scopedStore.encryptedShares,s){c.next=4;break}throw Oe.encryptedShareStoreUnavailable("".concat(a));case 4:if(o=s[i.shareCommitment.x.toString("hex")],o){c.next=7;break}throw Oe.encryptedShareStoreUnavailable("".concat(a));case 7:return c.next=9,Um(Jf(a.share.share),o);case 9:return f=c.sent,c.abrupt("return",Pr.fromJSON(JSON.parse(f.toString())));case 11:case"end":return c.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"getShareDescription",value:function(){return this.getGeneralStoreDomain("shareDescriptions")}},{key:"addShareDescription",value:function(r,n){var a=this.getGeneralStoreDomain("shareDescriptions")||{};a[r]?a[r].push(n):a[r]=[n],this.setGeneralStoreDomain("shareDescriptions",a)}},{key:"deleteShareDescription",value:function(r,n){var a=this.getGeneralStoreDomain("shareDescriptions"),i=a[r].indexOf(n);if(i>-1)a[r].splice(i,1);else throw Oe.default("No share description found for the given shareIndex: ".concat(r,` 
        and description: `).concat(n))}},{key:"updateShareDescription",value:function(r,n,a){var i=this.getGeneralStoreDomain("shareDescriptions"),s=i[r].indexOf(n);if(s>-1)i[r][s]=a;else throw Oe.default(`No share description found for the given shareIndex:
        `.concat(r," and description: ").concat(n))}},{key:"shareToShareStore",value:function(r){for(var n=Va(r),a=this.polyIDList.length-1;a>=0;a-=1)for(var i=this.polyIDList[a][0],s=0;s<this.polyIDList[a][1].length;s+=1){var o=this.polyIDList[a][1][s],f=void 0;if(this.publicShares[i]&&this.publicShares[i][o]&&(f=this.publicShares[i][o]),f||(f=new Ip(o,bO(this.publicPolynomials[i].polynomialCommitments,new we(o,"hex")))),f.shareCommitment.x.eq(n.x)&&f.shareCommitment.y.eq(n.y)){var u=new Tu(f.shareIndex,r);return new Pr(u,i)}}throw Oe.fromCode(1307)}},{key:"clone",value:function(){return e.fromJSON(JSON.parse(On(this)))}},{key:"toJSON",value:function(){for(var r=[],n=0;n<this.polyIDList.length;n+=1){var a,i=this.polyIDList[n][0],s=this.polyIDList[n][1],o=s.sort(function(u,c){return new we(u,"hex").cmp(new we(c,"hex"))}),f=(a=i.split("|").concat("0x0")).concat.apply(a,zt(o)).join("|");r.push(f)}return{pubKey:this.pubKey.encode("elliptic-compressed",{ec:Xt}).toString(),polyIDList:r,scopedStore:this.scopedStore,generalStore:this.generalStore,tkeyStore:this.tkeyStore,nonce:this.nonce}}}],[{key:"fromJSON",value:function(r){var n=r.pubKey,a=r.polyIDList,i=r.generalStore,s=r.tkeyStore,o=r.scopedStore,f=r.nonce,u=oa.fromCompressedPub(n),c=new e(u),l=[];i&&(c.generalStore=i),s&&(c.tkeyStore=s),o&&(c.scopedStore=o),f&&(c.nonce=f);for(var d=function(m){var v=a[m],b=v.split("|"),g=b.findIndex(function(N){return N==="0x0"}),y=b.slice(0,g),C=b.slice(g+1,b.length),I=y.join("|"),P=[];y.forEach(function(N){P.push(oa.fromCompressedPub(N))});var O=new pP(P);c.publicPolynomials[I]=O,l.push([I,C])},h=0;h<a.length;h+=1)d(h);return c.polyIDList=l,c}}]),e}(),Go=function(){function e(t,r){qr(this,e),ie(this,"metadata",void 0),ie(this,"privKey",void 0),this.metadata=t,this.privKey=r}return Vr(e,[{key:"toJSON",value:function(){var r=this.metadata;if(!this.privKey)throw Oe.privKeyUnavailable();var n=Kc(this.privKey),a=n.sign(Ad(ua.keccak256(On(r))));return{data:r,sig:a.toDER("hex")}}}],[{key:"fromJSON",value:function(r){var n=r.data,a=r.sig,i=Vo.fromJSON(n);if(!i.pubKey)throw Oe.metadataPubKeyUnavailable();var s=Xt.keyFromPublic({x:i.pubKey.x.toString("hex",64),y:i.pubKey.y.toString("hex",64)},"hex");if(!s.verify(Ad(ua.keccak256(On(n))),a))throw Oe.default("Signature not valid for returning metadata");return new e(i)}}]),e}();function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ire=function(){function e(t){qr(this,e),ie(this,"modules",void 0),ie(this,"enableLogging",void 0),ie(this,"serviceProvider",void 0),ie(this,"storageLayer",void 0),ie(this,"shares",void 0),ie(this,"privKey",void 0),ie(this,"lastFetchedCloudMetadata",void 0),ie(this,"metadata",void 0),ie(this,"manualSync",void 0),ie(this,"_localMetadataTransitions",void 0),ie(this,"_refreshMiddleware",void 0),ie(this,"_reconstructKeyMiddleware",void 0),ie(this,"_shareSerializationMiddleware",void 0),ie(this,"storeDeviceShare",void 0),ie(this,"haveWriteMetadataLock",void 0);var r=t||{},n=r.enableLogging,a=n===void 0?!1:n,i=r.modules,s=i===void 0?{}:i,o=r.serviceProvider,f=r.storageLayer,u=r.manualSync,c=u===void 0?!1:u;this.enableLogging=a,this.serviceProvider=o,this.storageLayer=f,this.modules=s,this.shares={},this.privKey=void 0,this.manualSync=c,this._refreshMiddleware={},this._reconstructKeyMiddleware={},this._shareSerializationMiddleware=void 0,this.storeDeviceShare=void 0,this._localMetadataTransitions=[[],[]],this.setModuleReferences(),this.haveWriteMetadataLock=""}return Vr(e,[{key:"getStorageLayer",value:function(){return this.storageLayer}},{key:"getMetadata",value:function(){if(typeof this.metadata<"u")return this.metadata;throw Oe.metadataUndefined()}},{key:"initialize",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N;return de.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(i=a||{},!(i.delete1OutOf1&&!this.manualSync)){D.next=3;break}throw Oe.delete1OutOf1OnlyManualSync();case 3:if(s=i.withShare,o=i.importKey,f=i.neverInitializeNewKey,u=i.transitionMetadata,c=i.previouslyFetchedCloudMetadata,l=i.previousLocalMetadataTransitions,d=l&&l[0].length>0&&l[1].length>0,h=u&&d,p=h&&c===void 0,!(s instanceof Pr)){D.next=11;break}m=s,D.next=32;break;case 11:if(Hi(s)!=="object"){D.next=15;break}m=Pr.fromJSON(s),D.next=32;break;case 15:if(s){D.next=31;break}return v=p,b=p?l:void 0,D.next=20,this.getGenericMetadataWithTransitionStates({serviceProvider:this.serviceProvider,includeLocalMetadataTransitions:v,_localMetadataTransitions:b,fromJSONConstructor:{fromJSON:function(T){return T}}});case 20:if(g=D.sent,y=g,y.message!==wp){D.next=28;break}if(!f){D.next=25;break}throw Oe.default("key has not been generated yet");case 25:return D.next=27,this._initializeNewKey({initializeModules:!0,importedKey:o,delete1OutOf1:i.delete1OutOf1});case 27:return D.abrupt("return",this.getKeyDetails());case 28:m=Pr.fromJSON(g),D.next=32;break;case 31:throw Oe.default("Input is not supported");case 32:return D.prev=32,D.next=35,this.catchupToLatestShare({shareStore:m});case 35:P=D.sent,D.next=43;break;case 38:if(D.prev=38,D.t0=D.catch(32),O=D.t0.code===1503,!(!O||!h)){D.next=43;break}throw D.t0;case 43:if(!(h&&!p)){D.next=53;break}if(!(c.nonce<P.shareMetadata.nonce)){D.next=48;break}throw Oe.fromCode(1104);case 48:if(!(c.nonce>P.shareMetadata.nonce)){D.next=50;break}throw Oe.fromCode(1105);case 50:I=c,D.next=54;break;case 53:I=P?P.shareMetadata.clone():void 0;case 54:return h?(C=u,this._localMetadataTransitions=l):C=P.shareMetadata,this.lastFetchedCloudMetadata=I,this.metadata=C,N=P?P.latestShare:m,this.inputShareStore(N),D.next=61,this.initializeModules();case 61:return D.abrupt("return",this.getKeyDetails());case 62:case"end":return D.stop()}},n,this,[[32,38]])}));function r(n){return t.apply(this,arguments)}return r}()},{key:"catchupToLatestShare",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=a.shareStore,s=a.polyID,o=a.includeLocalMetadataTransitions,l.prev=1,l.next=4,this.getAuthMetadata({privKey:i.share.share,includeLocalMetadataTransitions:o});case 4:f=l.sent,l.next=12;break;case 7:if(l.prev=7,l.t0=l.catch(1),!(l.t0&&l.t0.code===1308)){l.next=11;break}throw l.t0;case 11:throw Oe.authMetadataGetUnavailable(", ".concat(Rc(l.t0)));case 12:if(l.prev=12,!s){l.next=16;break}if(i.polynomialID!==s){l.next=16;break}return l.abrupt("return",{latestShare:i,shareMetadata:f});case 16:return l.next=18,f.getEncryptedShare(i);case 18:return u=l.sent,l.next=21,this.catchupToLatestShare({shareStore:u,polyID:s,includeLocalMetadataTransitions:o});case 21:return l.abrupt("return",l.sent);case 24:if(l.prev=24,l.t1=l.catch(12),!(l.t1&&l.t1.code===1308)){l.next=28;break}throw l.t1;case 28:return l.abrupt("return",{latestShare:i,shareMetadata:f});case 29:case"end":return l.stop()}},n,this,[[1,7],[12,24]])}));function r(n){return t.apply(this,arguments)}return r}()},{key:"reconstructKey",value:function(){var t=Ke(de.mark(function n(){var a=this,i,s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N,S,D,w=arguments;return de.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(i=w.length>0&&w[0]!==void 0?w[0]:!0,this.metadata){x.next=3;break}throw Oe.metadataUndefined();case 3:for(s=this.metadata.getLatestPublicPolynomial(),o=s.getThreshold(),f=s.getPolynomialID(),u=o,c=this.metadata.getShareIndexesForPolynomial(f),l={},d=0;d<c.length;d+=1)l[c[d]]=!0;h=[],p=this.metadata.polyIDList.length-1;case 12:if(!(p>=0&&u>0)){x.next=40;break}if(m=this.shares[this.metadata.polyIDList[p][0]],!m){x.next=37;break}v=Object.keys(m),b=0;case 17:if(!(b<v.length&&u>0)){x.next=37;break}if(!(v[b]in l)){x.next=34;break}if(g=m[v[b]],g.polynomialID!==f){x.next=24;break}h.push(g),x.next=32;break;case 24:return x.next=26,this.catchupToLatestShare({shareStore:g,polyID:f,includeLocalMetadataTransitions:!0});case 26:if(y=x.sent,y.latestShare.polynomialID!==f){x.next=31;break}h.push(y.latestShare),x.next=32;break;case 31:throw new Oe(1304,"Share found in unexpected polynomial");case 32:delete l[v[b]],u-=1;case 34:b+=1,x.next=17;break;case 37:p-=1,x.next=12;break;case 40:if(h.forEach(function(_){a.inputShareStore(_)}),!(u>0)){x.next=43;break}throw Oe.unableToReconstruct(" require ".concat(o," but have ").concat(o-u));case 43:for(C=Object.keys(this.shares[f]),I=[],P=[],O=0;O<o;O+=1)I.push(this.shares[f][C[O]].share.share),P.push(this.shares[f][C[O]].share.shareIndex);if(N=vO(I,P),S=Va(N),this.metadata.pubKey.x.cmp(S.x)===0){x.next=51;break}throw Oe.incorrectReconstruction();case 51:if(this._setKey(N),D={privKey:N,allKeys:[N]},!(i&&Object.keys(this._reconstructKeyMiddleware).length>0)){x.next=56;break}return x.next=56,Promise.all(Object.keys(this._reconstructKeyMiddleware).map(function(){var _=Ke(de.mark(function M(L){var F,G;return de.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!Object.prototype.hasOwnProperty.call(a._reconstructKeyMiddleware,L)){q.next=6;break}return q.next=3,a._reconstructKeyMiddleware[L]();case 3:G=q.sent,D[L]=G,(F=D.allKeys).push.apply(F,zt(G));case 6:case"end":return q.stop()}},M)}));return function(M){return _.apply(this,arguments)}}()));case 56:return x.abrupt("return",D);case 57:case"end":return x.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"reconstructLatestPoly",value:function(){if(!this.metadata)throw Oe.metadataUndefined();var r=this.metadata.getLatestPublicPolynomial(),n=r.getPolynomialID(),a=r.getThreshold(),i=[],s=Object.keys(this.shares[n]);if(s.length<a)throw Oe.unableToReconstruct("not enough shares to reconstruct poly");if(new Set(s).size!==s.length)throw Oe.default("share indexes should be unique");for(var o=0;o<a;o+=1)i.push(new oa(new we(s[o],"hex"),this.shares[n][s[o]].share.share));return nd(i)}},{key:"deleteShare",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u,c,l,d;return de.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.metadata){p.next=2;break}throw Oe.metadataUndefined();case 2:if(this.privKey){p.next=4;break}throw Oe.privateKeyUnavailable();case 4:if(i=new we(a,"hex"),s=this.outputShareStore(i),i.cmp(new we("1","hex"))!==0){p.next=8;break}throw new Oe(1001,"Unable to delete service provider share");case 8:if(o=this.metadata.getLatestPublicPolynomial(),f=o.getPolynomialID(),u=this.metadata.getShareIndexesForPolynomial(f),c=[],u.forEach(function(m){var v=new we(m,"hex");v.cmp(i)!==0&&c.push(v.toString("hex"))}),u.length!==c.length){p.next=17;break}throw Oe.default("Share index does not exist in latest polynomial");case 17:if(!(c.length<o.getThreshold())){p.next=19;break}throw Oe.default("Minimum ".concat(o.getThreshold()," shares are required for tkey. Unable to delete share"));case 19:return p.next=21,this._refreshShares(o.getThreshold(),[].concat(c),f);case 21:return l=p.sent,d=l.shareStores,p.next=25,this.addLocalMetadataTransitions({input:[{message:ng,dateAdded:Date.now()}],privKey:[s.share.share]});case 25:return p.abrupt("return",{newShareStores:d});case 26:case"end":return p.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"generateNewShare",value:function(){var t=Ke(de.mark(function n(){var a,i,s,o,f,u,c;return de.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.metadata){d.next=2;break}throw Oe.metadataUndefined();case 2:if(this.privKey){d.next=4;break}throw Oe.privateKeyUnavailable();case 4:return a=this.metadata.getLatestPublicPolynomial(),i=a.getPolynomialID(),s=this.metadata.getShareIndexesForPolynomial(i),o=s.map(function(h){return new we(h,"hex")}),f=new we(zs(o)),d.next=11,this._refreshShares(a.getThreshold(),[].concat(zt(s),[f.toString("hex")]),i);case 11:return u=d.sent,c=u.shareStores,d.abrupt("return",{newShareStores:c,newShareIndex:f});case 14:case"end":return d.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"_refreshShares",value:function(){var t=Ke(de.mark(function n(a,i,s){var o=this,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N,S,D,w,T,x,_,M;return de.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(this.metadata){F.next=2;break}throw Oe.metadataUndefined();case 2:if(this.privKey){F.next=4;break}throw Oe.privateKeyUnavailable();case 4:if(!(a>i.length)){F.next=6;break}throw Oe.default("threshold should not be greater than share indexes. ".concat(a," > ").concat(i.length));case 6:if(this.metadata.nonce+=1,f=z0(a-1,this.privKey),u=f.generateShares(i),c=this.metadata.getShareIndexesForPolynomial(s),l=[],d=Object.keys(this.shares[s]),!(d.length<a)){F.next=14;break}throw Oe.unableToReconstruct("not enough shares for polynomial reconstruction");case 14:for(h=0;h<a;h+=1)l.push(new oa(new we(d[h],"hex"),this.shares[s][d[h]].share.share));for(p=nd(l),m=[],v=0;v<c.length;v+=1)b=c[v],i.includes(b)&&m.push(b);return this.metadata.addFromPolynomialAndShares(f,u),g={},y={},C=f.getPolynomialID(),i.forEach(function(G){y[G]=new Pr(u[G],C)}),I=this.metadata.clone(),P={},F.next=27,Promise.all(m.map(function(){var G=Ke(de.mark(function U(q){var V,W;return de.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return V=p.polyEval(new we(q,"hex")),te.next=3,Ap(Cp(V),ae.from(JSON.stringify(y[q])));case 3:return W=te.sent,P[Va(V).x.toString("hex")]=W,g[q]=new Pr(new Tu(q,V),s),te.abrupt("return",V);case 7:case"end":return te.stop()}},U)}));return function(U){return G.apply(this,arguments)}}()));case 27:O=F.sent,I.setScopedStore("encryptedShares",P),N=Array(O.length).fill(I);for(S in this._refreshMiddleware)Object.prototype.hasOwnProperty.call(this._refreshMiddleware,S)&&(D=this._refreshMiddleware[S](this.metadata.getGeneralStoreDomain(S),g,y),D?this.metadata.setGeneralStoreDomain(S,D):this.metadata.deleteGeneralStoreDomain(S));return w=[],T=i.map(function(G){var U=o.metadata.clone();return w.push(U),y[G].share.share}),x=this.generateAuthMetadata({input:[].concat(zt(N),w)}),F.next=36,this.addLocalMetadataTransitions({input:[].concat(zt(x),[y[1]]),privKey:[].concat(zt(O),zt(T),[void 0])});case 36:for(_=0;_<i.length;_+=1)M=i[_],this.inputShareStore(y[M]);return F.abrupt("return",{shareStores:y});case 38:case"end":return F.stop()}},n,this)}));function r(n,a,i){return t.apply(this,arguments)}return r}()},{key:"_initializeNewKey",value:function(){var t=Ke(de.mark(function n(){var a=this,i,s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N,S=arguments;return de.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(i=S.length>0&&S[0]!==void 0?S[0]:{},s=i.determinedShare,o=i.initializeModules,f=i.importedKey,u=i.delete1OutOf1,f?this._setKey(new we(f)):(c=mO(),this._setKey(new we(c))),l=zs([new we(1),new we(0)]),d=[new we(1),l],s?(p=zs([new we(1),new we(0)]),h=z0(1,this.privKey,[new Tu(p,s)]),d.push(p)):h=z0(1,this.privKey),m=h.generateShares(d),v=new Vo(Va(this.privKey)),v.addFromPolynomialAndShares(h,m),b=m[d[0].toString("hex")],g=new Pr(b,h.getPolynomialID()),this.metadata=v,!o){w.next=14;break}return w.next=14,this.initializeModules();case 14:return y=[],C=d.map(function(T){return y.push(a.metadata),m[T.toString("hex")].share}),I=this.generateAuthMetadata({input:y}),w.next=19,this.addLocalMetadataTransitions({input:[].concat(zt(I),[g]),privKey:[].concat(zt(C),[void 0])});case 19:if(!u){w.next=22;break}return w.next=22,this.addLocalMetadataTransitions({input:[{message:p1}],privKey:[this.serviceProvider.postboxKey]});case 22:for(P=0;P<d.length;P+=1)O=d[P],this.inputShareStore(new Pr(m[O.toString("hex")],h.getPolynomialID()));if(!this.storeDeviceShare){w.next=26;break}return w.next=26,this.storeDeviceShare(new Pr(m[d[1].toString("hex")],h.getPolynomialID()));case 26:return N={privKey:this.privKey,deviceShare:new Pr(m[d[1].toString("hex")],h.getPolynomialID()),userShare:void 0},s&&(N.userShare=new Pr(m[d[2].toString("hex")],h.getPolynomialID())),w.abrupt("return",N);case 29:case"end":return w.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"addLocalMetadataTransitions",value:function(){var t=Ke(de.mark(function n(a){var i,s;return de.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(i=a.privKey,s=a.input,this._localMetadataTransitions[0]=[].concat(zt(this._localMetadataTransitions[0]),zt(i)),this._localMetadataTransitions[1]=[].concat(zt(this._localMetadataTransitions[1]),zt(s)),this.manualSync){f.next=6;break}return f.next=6,this.syncLocalMetadataTransitions();case 6:case"end":return f.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"syncLocalMetadataTransitions",value:function(){var t=Ke(de.mark(function n(){var a;return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.metadata){s.next=2;break}throw Oe.metadataUndefined();case 2:if(Array.isArray(this._localMetadataTransitions[0])&&this._localMetadataTransitions[0].length>0){s.next=4;break}return s.abrupt("return");case 4:if(a=!1,!this.lastFetchedCloudMetadata){s.next=9;break}return s.next=8,this.acquireWriteMetadataLock();case 8:a=!0;case 9:return s.prev=9,s.next=12,this.storageLayer.setMetadataStream({input:this._localMetadataTransitions[1],privKey:this._localMetadataTransitions[0],serviceProvider:this.serviceProvider});case 12:s.next=17;break;case 14:throw s.prev=14,s.t0=s.catch(9),Oe.metadataPostFailed(Rc(s.t0));case 17:if(this._localMetadataTransitions=[[],[]],this.lastFetchedCloudMetadata=this.metadata.clone(),!a){s.next=22;break}return s.next=22,this.releaseWriteMetadataLock();case 22:case"end":return s.stop()}},n,this,[[9,14]])}));function r(){return t.apply(this,arguments)}return r}()},{key:"updateSDK",value:function(){var t=Ke(de.mark(function n(a){var i=this,s,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=new e({enableLogging:this.enableLogging,modules:this.modules,serviceProvider:this.serviceProvider,storageLayer:this.storageLayer,manualSync:this.manualSync}),l.prev=1,l.next=4,s.initialize({neverInitializeNewKey:!0,withShare:a&&a.withShare});case 4:l.next=9;break;case 6:throw l.prev=6,l.t0=l.catch(1),Oe.fromCode(1103,"".concat(l.t0.message));case 9:return o=s.metadata.polyIDList,Object.keys(this.shares).forEach(function(d){o.find(function(h){return h[0]===d})?f=d:delete i.shares[d]}),u=Object.keys(this.shares[f]).map(function(d){return s.inputShareStoreSafe(i.outputShareStore(d,f))}),l.next=14,Promise.all(u);case 14:return l.abrupt("return",s);case 15:case"end":return l.stop()}},n,this,[[1,6]])}));function r(n){return t.apply(this,arguments)}return r}()},{key:"inputShareStore",value:function(r){var n;if(r instanceof Pr)n=r;else if(Hi(r)==="object")n=Pr.fromJSON(r);else throw Oe.default("can only add type ShareStore into shares");n.polynomialID in this.shares||(this.shares[n.polynomialID]={}),this.shares[n.polynomialID][n.share.shareIndex.toString("hex")]=n}},{key:"inputShareStoreSafe",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f=arguments;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=f.length>1&&f[1]!==void 0?f[1]:!1,this.metadata){c.next=3;break}throw Oe.metadataUndefined();case 3:if(!(a instanceof Pr)){c.next=7;break}s=a,c.next=12;break;case 7:if(Hi(a)!=="object"){c.next=11;break}s=Pr.fromJSON(a),c.next=12;break;case 11:throw Oe.default("can only add type ShareStore into shares");case 12:return c.next=14,this.catchupToLatestShare({shareStore:s,includeLocalMetadataTransitions:!0});case 14:if(o=c.sent,this.metadata.polyIDList.find(function(l){return l[0]===o.latestShare.polynomialID})){c.next=21;break}if(i){c.next=20;break}throw Oe.default("TKey SDK metadata seems to be outdated because shareIndex: "+"".concat(o.latestShare.share.shareIndex.toString("hex")," has a more recent metadata. Please call updateSDK first"));case 20:this.metadata=o.shareMetadata;case 21:o.latestShare.polynomialID in this.shares||(this.shares[o.latestShare.polynomialID]={}),this.shares[o.latestShare.polynomialID][o.latestShare.share.shareIndex.toString("hex")]=o.latestShare;case 23:case"end":return c.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"outputShareStore",value:function(r,n){if(!this.metadata)throw Oe.metadataUndefined();var a;typeof r=="number"?a=new we(r):we.isBN(r)?a=r:typeof r=="string"&&(a=new we(r,"hex"));var i;if(n?i=n:i=this.metadata.getLatestPublicPolynomial().getPolynomialID(),!this.metadata.getShareIndexesForPolynomial(i).includes(a.toString("hex")))throw new Oe(1002,"no such share index created");var s=this.shares[i][a.toString("hex")];if(s)return s;var o=this.reconstructLatestPoly(),f=o.generateShares([a]);return new Pr(f[a.toString("hex")],i)}},{key:"_setKey",value:function(r){this.privKey=r}},{key:"getCurrentShareIndexes",value:function(){if(!this.metadata)throw Oe.metadataUndefined();var r=this.metadata.getLatestPublicPolynomial(),n=r.getPolynomialID(),a=Object.keys(this.shares[n]);return a}},{key:"getKeyDetails",value:function(){if(!this.metadata)throw Oe.metadataUndefined();var r=this.metadata.getLatestPublicPolynomial(),n=r.getPolynomialID(),a=r.getThreshold()-Object.keys(this.shares[n]).length,i=this.metadata.getShareDescription();if(i){var s=this.metadata.getShareIndexesForPolynomial(n);i=Object.keys(i).reduce(function(o,f){return s.indexOf(f)>=0&&(o[f]=i[f]),o},{})}return{pubKey:this.metadata.pubKey,requiredShares:a,threshold:r.getThreshold(),totalShares:this.metadata.getShareIndexesForPolynomial(n).length,shareDescriptions:i}}},{key:"generateAuthMetadata",value:function(r){for(var n=r.input,a=[],i=0;i<n.length;i+=1)a.push(new Go(n[i],this.privKey));return a}},{key:"setAuthMetadata",value:function(r){var n=r.input,a=r.serviceProvider,i=r.privKey,s=new Go(n,this.privKey);return this.storageLayer.setMetadata({input:s,serviceProvider:a,privKey:i})}},{key:"setAuthMetadataBulk",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.privKey){l.next=2;break}throw Oe.privateKeyUnavailable();case 2:for(i=a.input,s=a.serviceProvider,o=a.privKey,f=[],u=0;u<i.length;u+=1)f.push(new Go(i[u],this.privKey));return l.next=7,this.addLocalMetadataTransitions({input:f,serviceProvider:s,privKey:o});case 7:case"end":return l.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"getAuthMetadata",value:function(){var t=Ke(de.mark(function n(a){var i,s;return de.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.getGenericMetadataWithTransitionStates(Ww(Ww({},a),{},{fromJSONConstructor:Go}));case 2:return i=f.sent,s=i,f.abrupt("return",s.metadata);case 5:case"end":return f.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"getGenericMetadataWithTransitionStates",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a.serviceProvider&&a.serviceProvider.postboxKey.toString("hex")!=="0"||a.privKey){l.next=2;break}throw Oe.default("require either serviceProvider or priv key in getGenericMetadataWithTransitionStates");case 2:if(!a.includeLocalMetadataTransitions){l.next=8;break}for(i=a._localMetadataTransitions?a._localMetadataTransitions:this._localMetadataTransitions,s=null,o=i[0].length-1;o>=0;o-=1)f=i[0][o],(a.privKey&&f&&f.cmp(a.privKey)===0||a.serviceProvider&&!f)&&(s=o);if(s===null){l.next=8;break}return l.abrupt("return",i[1][s]);case 8:return l.prev=8,l.next=11,this.storageLayer.getMetadata(a);case 11:u=l.sent,l.next=17;break;case 14:throw l.prev=14,l.t0=l.catch(8),Oe.metadataGetFailed("".concat(Rc(l.t0)));case 17:if(u.message!==ng){l.next=19;break}throw Oe.fromCode(1308);case 19:return l.abrupt("return",a.fromJSONConstructor.fromJSON(u));case 20:case"end":return l.stop()}},n,this,[[8,14]])}));function r(n){return t.apply(this,arguments)}return r}()},{key:"acquireWriteMetadataLock",value:function(){var t=Ke(de.mark(function n(){var a,i,s,o,f,u,c;return de.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this.haveWriteMetadataLock){d.next=2;break}return d.abrupt("return",this.metadata.nonce);case 2:if(this.privKey){d.next=4;break}throw Oe.privateKeyUnavailable();case 4:return i=this.lastFetchedCloudMetadata.getLatestPublicPolynomial().getPolynomialID(),s=Object.keys(this.shares[i]),o=s[Math.floor(Math.random()*(s.length-1))],s.length>=1?a=this.shares[i][o]:a=this.outputShareStore(o,i),d.next=10,this.catchupToLatestShare({shareStore:a});case 10:if(f=d.sent,u=f.shareMetadata,!(u.nonce>this.lastFetchedCloudMetadata.nonce)){d.next=16;break}throw Oe.acquireLockFailed(`unable to acquire write access for metadata due to 
      lastFetchedCloudMetadata (`.concat(this.lastFetchedCloudMetadata.nonce,`)
           being lower than last written metadata nonce (`).concat(u.nonce,"). perhaps update metadata SDK (create new tKey and init)"));case 16:if(!(u.nonce<this.lastFetchedCloudMetadata.nonce)){d.next=18;break}throw Oe.acquireLockFailed(`unable to acquire write access for metadata due to 
      lastFetchedCloudMetadata (`.concat(this.lastFetchedCloudMetadata.nonce,`)
      being higher than last written metadata nonce (`).concat(u.nonce,`). this should never happen as it 
      should only ever be updated by getting metadata)`));case 18:return d.next=20,this.storageLayer.acquireWriteLock({privKey:this.privKey});case 20:if(c=d.sent,c.status===1){d.next=23;break}throw Oe.acquireLockFailed("lock cannot be acquired from storage layer status code: ".concat(c.status));case 23:return this.haveWriteMetadataLock=c.id,d.abrupt("return",this.metadata.nonce);case 25:case"end":return d.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"releaseWriteMetadataLock",value:function(){var t=Ke(de.mark(function n(){var a;return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.haveWriteMetadataLock){s.next=2;break}throw Oe.releaseLockFailed("releaseWriteMetadataLock - don't have metadata lock to release");case 2:return s.next=4,this.storageLayer.releaseWriteLock({privKey:this.privKey,id:this.haveWriteMetadataLock});case 4:if(a=s.sent,a.status===1){s.next=7;break}throw Oe.releaseLockFailed("lock cannot be released from storage layer status code: ".concat(a.status));case 7:this.haveWriteMetadataLock="";case 8:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"_syncShareMetadata",value:function(){var t=Ke(de.mark(function n(a){var i;return de.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.metadata){o.next=2;break}throw Oe.metadataUndefined();case 2:return i=this.getAllShareStoresForLatestPolynomial().map(function(f){return f.share.share}),o.next=5,this.syncMultipleShareMetadata(i,a);case 5:case"end":return o.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"syncMultipleShareMetadata",value:function(){var t=Ke(de.mark(function n(a,i){var s=this,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.metadata){c.next=2;break}throw Oe.metadataUndefined();case 2:return this.metadata.nonce+=1,o=a.map(function(){var l=Ke(de.mark(function d(h){var p,m,v;return de.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return p=s.metadata.clone(),g.prev=1,g.next=4,s.getAuthMetadata({privKey:h,includeLocalMetadataTransitions:!0});case 4:m=g.sent,g.next=10;break;case 7:throw g.prev=7,g.t0=g.catch(1),Oe.authMetadataGetUnavailable("".concat(Rc(g.t0)));case 10:return i?v=i(m.scopedStore):v=m.scopedStore,p.scopedStore=v,g.abrupt("return",p);case 13:case"end":return g.stop()}},d,null,[[1,7]])}));return function(d){return l.apply(this,arguments)}}()),c.next=6,Promise.all(o);case 6:return f=c.sent,c.abrupt("return",this.setAuthMetadataBulk({input:f,privKey:a}));case 8:case"end":return c.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"_addRefreshMiddleware",value:function(r,n){this._refreshMiddleware[r]=n}},{key:"_addReconstructKeyMiddleware",value:function(r,n){this._reconstructKeyMiddleware[r]=n}},{key:"_addShareSerializationMiddleware",value:function(r,n){this._shareSerializationMiddleware={serialize:r,deserialize:n}}},{key:"_setDeviceStorage",value:function(r){if(this.storeDeviceShare)throw Oe.default("storeDeviceShare already set");this.storeDeviceShare=r}},{key:"addShareDescription",value:function(){var t=Ke(de.mark(function n(a,i,s){return de.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.metadata){f.next=2;break}throw Oe.metadataUndefined();case 2:if(this.metadata.addShareDescription(a,i),!s){f.next=6;break}return f.next=6,this._syncShareMetadata();case 6:case"end":return f.stop()}},n,this)}));function r(n,a,i){return t.apply(this,arguments)}return r}()},{key:"deleteShareDescription",value:function(){var t=Ke(de.mark(function n(a,i,s){return de.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.metadata){f.next=2;break}throw Oe.metadataUndefined();case 2:if(this.metadata.deleteShareDescription(a,i),!s){f.next=6;break}return f.next=6,this._syncShareMetadata();case 6:case"end":return f.stop()}},n,this)}));function r(n,a,i){return t.apply(this,arguments)}return r}()},{key:"updateShareDescription",value:function(){var t=Ke(de.mark(function n(a,i,s,o){return de.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.metadata){u.next=2;break}throw Oe.metadataUndefined();case 2:if(this.metadata.updateShareDescription(a,i,s),!o){u.next=6;break}return u.next=6,this._syncShareMetadata();case 6:case"end":return u.stop()}},n,this)}));function r(n,a,i,s){return t.apply(this,arguments)}return r}()},{key:"encrypt",value:function(){var t=Ke(de.mark(function n(a){return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.privKey){s.next=2;break}throw Oe.privateKeyUnavailable();case 2:return s.abrupt("return",Ap(Cp(this.privKey),a));case 3:case"end":return s.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"decrypt",value:function(){var t=Ke(de.mark(function n(a){return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.privKey){s.next=2;break}throw Oe.privateKeyUnavailable();case 2:return s.abrupt("return",Um(Jf(this.privKey),a));case 3:case"end":return s.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"_setTKeyStoreItem",value:function(){var t=Ke(de.mark(function n(a,i){var s=this,o,f,u,c;return de.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.metadata){d.next=2;break}throw Oe.metadataUndefined();case 2:return o=this.metadata.getTkeyStoreDomain(a)||[],d.next=5,Promise.all(o.map(function(){var h=Ke(de.mark(function p(m){var v;return de.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,s.decrypt(m);case 2:return v=g.sent,g.abrupt("return",JSON.parse(v.toString()));case 4:case"end":return g.stop()}},p)}));return function(p){return h.apply(this,arguments)}}()));case 5:return f=d.sent,d.next=8,this.encrypt(ae.from(On(i)));case 8:return u=d.sent,c=f.findIndex(function(h){return h.id===i.id}),c>-1?o[c]=u:o.push(u),this.metadata.setTkeyStoreDomain(a,o),d.next=14,this._syncShareMetadata();case 14:case"end":return d.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"_deleteTKeyStoreItem",value:function(){var t=Ke(de.mark(function n(a,i){var s=this,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.metadata){l.next=2;break}throw Oe.metadataUndefined();case 2:return o=this.metadata.getTkeyStoreDomain(a)||[],l.next=5,Promise.all(o.map(function(){var d=Ke(de.mark(function h(p){var m;return de.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,s.decrypt(p);case 2:return m=b.sent,b.abrupt("return",JSON.parse(m.toString()));case 4:case"end":return b.stop()}},h)}));return function(h){return d.apply(this,arguments)}}()));case 5:return f=l.sent,u=f.filter(function(d){return d.id!==i}),this.metadata.setTkeyStoreDomain(a,u),l.next=10,this._syncShareMetadata();case 10:case"end":return l.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"getTKeyStore",value:function(){var t=Ke(de.mark(function n(a){var i=this,s,o;return de.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.metadata){u.next=2;break}throw Oe.metadataUndefined();case 2:return s=this.metadata.getTkeyStoreDomain(a)||[],u.next=5,Promise.all(s.map(function(){var c=Ke(de.mark(function l(d){var h;return de.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,i.decrypt(d);case 2:return h=m.sent,m.abrupt("return",JSON.parse(h.toString()));case 4:case"end":return m.stop()}},l)}));return function(l){return c.apply(this,arguments)}}()));case 5:return o=u.sent,u.abrupt("return",o);case 7:case"end":return u.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"getTKeyStoreItem",value:function(){var t=Ke(de.mark(function n(a,i){var s=this,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.metadata){l.next=2;break}throw Oe.metadataUndefined();case 2:return o=this.metadata.getTkeyStoreDomain(a)||[],l.next=5,Promise.all(o.map(function(){var d=Ke(de.mark(function h(p){var m;return de.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,s.decrypt(p);case 2:return m=b.sent,b.abrupt("return",JSON.parse(m.toString()));case 4:case"end":return b.stop()}},h)}));return function(h){return d.apply(this,arguments)}}()));case 5:return f=l.sent,u=f.find(function(d){return d.id===i}),l.abrupt("return",u);case 8:case"end":return l.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"outputShare",value:function(){var t=Ke(de.mark(function n(a,i){var s;return de.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=this.outputShareStore(a).share.share,i){f.next=3;break}return f.abrupt("return",s);case 3:return f.abrupt("return",this._shareSerializationMiddleware.serialize(s,i));case 4:case"end":return f.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"inputShare",value:function(){var t=Ke(de.mark(function n(a,i){var s,o,f,u,c;return de.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.metadata){d.next=2;break}throw Oe.metadataUndefined();case 2:if(i){d.next=6;break}s=this.metadata.shareToShareStore(a),d.next=10;break;case 6:return d.next=8,this._shareSerializationMiddleware.deserialize(a,i);case 8:o=d.sent,s=this.metadata.shareToShareStore(o);case 10:if(f=this.metadata.getLatestPublicPolynomial(),u=f.getPolynomialID(),c=this.metadata.getShareIndexesForPolynomial(u),c.includes(s.share.shareIndex.toString("hex"))){d.next=15;break}throw Oe.default("Latest poly doesn't include this share");case 15:return d.next=17,this.inputShareStoreSafe(s);case 17:case"end":return d.stop()}},n,this)}));function r(n,a){return t.apply(this,arguments)}return r}()},{key:"toJSON",value:function(){return{shares:this.shares,enableLogging:this.enableLogging,privKey:this.privKey?this.privKey.toString("hex"):void 0,metadata:this.metadata,lastFetchedCloudMetadata:this.lastFetchedCloudMetadata,_localMetadataTransitions:this._localMetadataTransitions,manualSync:this.manualSync,serviceProvider:this.serviceProvider,storageLayer:this.storageLayer}}},{key:"getAllShareStoresForLatestPolynomial",value:function(){var r=this,n=this.metadata.getLatestPublicPolynomial(),a=n.getPolynomialID(),i=this.metadata.getShareIndexesForPolynomial(a),s=n.getThreshold(),o=[],f=Object.keys(this.shares[a]);if(f.length<s)throw Oe.unableToReconstruct("not enough shares for polynomial reconstruction");for(var u=0;u<s;u+=1)o.push(new oa(new we(f[u],"hex"),this.shares[a][f[u]].share.share));var c=nd(o),l=c.generateShares(i),d=i.map(function(h){return r.metadata.shareToShareStore(l[h].share)});return d}},{key:"CRITICAL_deleteTkey",value:function(){var t=Ke(de.mark(function n(){var a;return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.metadata){s.next=2;break}throw Oe.metadataUndefined();case 2:if(this.privKey){s.next=4;break}throw Oe.privateKeyUnavailable();case 4:if(!(this._localMetadataTransitions[0].length>0||this._localMetadataTransitions[1].length>0)){s.next=6;break}throw Oe.default("Please sync all local state before calling this function");case 6:return a=this.getAllShareStoresForLatestPolynomial(),s.next=9,this.addLocalMetadataTransitions({input:[].concat(zt(Array(a.length).fill({message:ng,dateAdded:Date.now()})),[{message:wp}]),privKey:[].concat(zt(a.map(function(o){return o.share.share})),[void 0])});case 9:return s.next=11,this.syncLocalMetadataTransitions();case 11:this.privKey=void 0,this.metadata=void 0,this.shares={},this.lastFetchedCloudMetadata=void 0;case 15:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"getApi",value:function(){return{getMetadata:this.getMetadata.bind(this),getStorageLayer:this.getStorageLayer.bind(this),initialize:this.initialize.bind(this),catchupToLatestShare:this.catchupToLatestShare.bind(this),_syncShareMetadata:this._syncShareMetadata.bind(this),_addRefreshMiddleware:this._addRefreshMiddleware.bind(this),_addReconstructKeyMiddleware:this._addReconstructKeyMiddleware.bind(this),_addShareSerializationMiddleware:this._addShareSerializationMiddleware.bind(this),addShareDescription:this.addShareDescription.bind(this),generateNewShare:this.generateNewShare.bind(this),inputShareStore:this.inputShareStore.bind(this),inputShareStoreSafe:this.inputShareStoreSafe.bind(this),outputShareStore:this.outputShareStore.bind(this),inputShare:this.inputShare.bind(this),outputShare:this.outputShare.bind(this),_setDeviceStorage:this._setDeviceStorage.bind(this),encrypt:this.encrypt.bind(this),decrypt:this.decrypt.bind(this),getTKeyStore:this.getTKeyStore.bind(this),getTKeyStoreItem:this.getTKeyStoreItem.bind(this),_setTKeyStoreItem:this._setTKeyStoreItem.bind(this),_deleteTKeyStoreItem:this._deleteTKeyStoreItem.bind(this),deleteShare:this.deleteShare.bind(this)}}},{key:"setModuleReferences",value:function(){var r=this;Object.keys(this.modules).map(function(n){return r.modules[n].setModuleReferences(r.getApi())})}},{key:"initializeModules",value:function(){var t=Ke(de.mark(function n(){var a=this;return de.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Promise.all(Object.keys(this.modules).map(function(o){return a.modules[o].initialize()})));case 1:case"end":return s.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}],[{key:"fromJSON",value:function(){var t=Ke(de.mark(function n(a,i){var s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N,S,D,w,T,x,_,M,L;return de.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:s=a.enableLogging,o=a.privKey,f=a.metadata,u=a.shares,c=a._localMetadataTransitions,l=a.manualSync,d=a.lastFetchedCloudMetadata,h=i.storageLayer,p=i.serviceProvider,m=i.modules,v=new e({enableLogging:s,storageLayer:h,serviceProvider:p,modules:m,manualSync:l}),o&&(v.privKey=new we(o,"hex"));for(b in u)if(Object.prototype.hasOwnProperty.call(u,b)){g=u[b];for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&(C=g[y],g[y]=Pr.fromJSON(C))}if(v.shares=u,I=Object.keys(JSON.parse(On(new Go(new Vo(new oa("0","0")),new we("0","hex"))))),P=Object.keys(JSON.parse(On(new Pr(new Tu("0","0"),"")))),O={message:"Sample message",dateAdded:Date.now()},N=Object.keys(O),S=[],D=[],c[0].forEach(function(U,q){U?S.push(new we(U,"hex")):S.push(void 0);var V=Object.keys(c[1][q]);if(V.length===I.length&&V.every(function(Q){return I.includes(Q)})){var W=Go.fromJSON(c[1][q]);W.privKey=o,D.push(W)}else if(V.length===P.length&&V.every(function(Q){return P.includes(Q)}))D.push(Pr.fromJSON(c[1][q]));else if(V.length===N.length&&V.every(function(Q){return N.includes(Q)}))D.push(c[1][q]);else throw Oe.default("fromJSON failed. Could not deserialise _localMetadataTransitions")}),!(f||d)){G.next=21;break}return v.serviceProvider.postboxKey.toString("hex")==="0"&&(_=Vo.fromJSON(d).getLatestPublicPolynomial().getPolynomialID(),M=Object.keys(u[_]),L=M[Math.floor(Math.random()*(M.length-1))],M.length>=1&&(x=u[_][L])),f&&(w=Vo.fromJSON(f)),d&&(T=Vo.fromJSON(d)),G.next=19,v.initialize({neverInitializeNewKey:!0,transitionMetadata:w,previouslyFetchedCloudMetadata:T,previousLocalMetadataTransitions:[S,D],withShare:x});case 19:G.next=23;break;case 21:return G.next=23,v.initialize({neverInitializeNewKey:!0});case 23:return G.abrupt("return",v);case 24:case"end":return G.stop()}},n)}));function r(n,a){return t.apply(this,arguments)}return r}()}]),e}();const Pre=Object.freeze(Object.defineProperty({__proto__:null,AuthMetadata:Go,CoreError:Oe,Metadata:Vo,default:Ire,generateRandomPolynomial:z0,lagrangeInterpolatePolynomial:nd,lagrangeInterpolation:vO,polyCommitmentEval:bO},Symbol.toStringTag,{value:"Module"})),gO=ei(Pre);var Nre=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ore=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xre=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rre=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ore(t,e,r);return xre(t,e),t},Yr=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},Xr=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jn=$&&$.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},vT=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.TKey=void 0;var St=Rre(gO),qw=vT(ac),Vt=hT,Dre=Es,jr=vT(Qe),Vw=vT(fO),Mre=function(e){Nre(t,e);function t(r){var n=e.call(this,{serviceProvider:r.serviceProvider,storageLayer:r.storageLayer,enableLogging:r.enableLogging,modules:r.modules,serverTimeOffset:r.serverTimeOffset,manualSync:!0})||this;return n.key=void 0,n.randomPassPhrase=r.randomPassPhrase,n}return t.fromJSON=function(r,n){return Yr(this,void 0,void 0,function(){var a,i,s,o,f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N,S,D,w,T,x,_,M;return Xr(this,function(L){switch(L.label){case 0:return a=r.enableLogging,i=r.privKey,s=r.metadata,o=r.shares,f=r._localMetadataTransitions,u=r.manualSync,c=r.lastFetchedCloudMetadata,l=r.serverTimeOffset,d=n.storageLayer,h=n.serviceProvider,p=n.modules,m=new St.default({enableLogging:a,storageLayer:d,serviceProvider:h,modules:p,manualSync:u,serverTimeOffset:l}),i?[4,m._setKey(new jr.default(i,"hex"))]:[3,2];case 1:L.sent(),L.label=2;case 2:for(v in o)if(Object.prototype.hasOwnProperty.call(o,v)){b=o[v];for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(y=b[g],b[g]=Vt.ShareStore.fromJSON(y))}return m.shares=o,C=Object.keys(JSON.parse((0,Vw.default)(new St.AuthMetadata(new St.Metadata(new Vt.Point("0","0")),new jr.default("0","hex"))))),I=Object.keys(JSON.parse((0,Vw.default)(new Vt.ShareStore(new Vt.Share("0","0"),"")))),P={message:"Sample message",dateAdded:Date.now()},O=Object.keys(P),N=[],S=[],f[0].forEach(function(F,G){F?N.push(new jr.default(F,"hex")):N.push(void 0);var U=Object.keys(f[1][G]);if(U.length===C.length&&U.every(function(V){return C.includes(V)})){var q=St.AuthMetadata.fromJSON(f[1][G]);q.privKey=i,S.push(q)}else if(U.length===I.length&&U.every(function(V){return I.includes(V)}))S.push(Vt.ShareStore.fromJSON(f[1][G]));else if(U.length===O.length&&U.every(function(V){return O.includes(V)}))S.push(f[1][G]);else throw St.CoreError.default("fromJSON failed. Could not deserialise _localMetadataTransitions")}),s||c?(D=void 0,w=void 0,T=void 0,m.serviceProvider.postboxKey.toString("hex")==="0"&&(x=St.Metadata.fromJSON(c).getLatestPublicPolynomial().getPolynomialID(),_=Object.keys(o[x]),M=_[Math.floor(Math.random()*(_.length-1))],_.length>=1&&(T=o[x][M])),s&&(D=St.Metadata.fromJSON(s)),c&&(w=St.Metadata.fromJSON(c)),[4,m.initialize({neverInitializeNewKey:!0,transitionMetadata:D,previouslyFetchedCloudMetadata:w,previousLocalMetadataTransitions:[N,S],withShare:T})]):[3,4];case 3:return L.sent(),[3,6];case 4:return[4,m.initialize({neverInitializeNewKey:!0})];case 5:L.sent(),L.label=6;case 6:return[2,m]}})})},t.prototype.reconstructKey=function(r){return r===void 0&&(r=!0),Yr(this,void 0,void 0,function(){var n,a,i,s,o,f,y,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O=this;return Xr(this,function(N){switch(N.label){case 0:if(!this.metadata)throw St.CoreError.metadataUndefined();for(n=this.metadata.getLatestPublicPolynomial(),a=n.getThreshold(),i=n.getPolynomialID(),s=a,o=this.metadata.getShareIndexesForPolynomial(i),f={},y=0;y<o.length;y+=1)f[o[y]]=!0;u=[],c=this.metadata.polyIDList.length-1,N.label=1;case 1:if(!(c>=0&&s>0))return[3,8];if(l=this.shares[this.metadata.polyIDList[c][0]],!l)return[3,7];d=Object.keys(l),h=0,N.label=2;case 2:return h<d.length&&s>0?d[h]in f?(p=l[d[h]],p.polynomialID!==i?[3,3]:(u.push(p),[3,5])):[3,6]:[3,7];case 3:return[4,this.catchupToLatestShare({shareStore:p,polyID:i,includeLocalMetadataTransitions:!0})];case 4:if(m=N.sent(),m.latestShare.polynomialID===i)u.push(m.latestShare);else throw new St.CoreError(1304,"Share found in unexpected polynomial");N.label=5;case 5:delete f[d[h]],s-=1,N.label=6;case 6:return h+=1,[3,2];case 7:return c-=1,[3,1];case 8:if(u.forEach(function(S){O.inputShareStore(S)}),s>0)throw St.CoreError.unableToReconstruct(" require ".concat(a," but have ").concat(a-s));for(v=Object.keys(this.shares[i]),b=[],g=[],y=0;y<a;y+=1)b.push(this.shares[i][v[y]].share.share),g.push(this.shares[i][v[y]].share.shareIndex);if(C=(0,St.lagrangeInterpolation)(b,g),I=(0,Vt.getPubKeyPoint)(C),this.metadata.pubKey.x.cmp(I.x)!==0)throw St.CoreError.incorrectReconstruction();return[4,this._setPrivateKey(C)];case 9:return N.sent(),P={privKey:C,allKeys:[C]},r&&Object.keys(this._reconstructKeyMiddleware).length>0?[4,Promise.all(Object.keys(this._reconstructKeyMiddleware).map(function(S){return Yr(O,void 0,void 0,function(){var D,w;return Xr(this,function(T){switch(T.label){case 0:return Object.prototype.hasOwnProperty.call(this._reconstructKeyMiddleware,S)?[4,this._reconstructKeyMiddleware[S]()]:[3,2];case 1:D=T.sent(),P[S]=D,(w=P.allKeys).push.apply(w,D),T.label=2;case 2:return[2]}})})}))]:[3,11];case 10:N.sent(),N.label=11;case 11:return[2,P]}})})},t.prototype.deleteShare=function(r){return Yr(this,void 0,void 0,function(){var n,a,i,s,o,f,u,c;return Xr(this,function(l){switch(l.label){case 0:if(!this.metadata)throw St.CoreError.metadataUndefined();return[4,this._getPrivateKey()];case 1:if(!l.sent())throw St.CoreError.privateKeyUnavailable();if(n=new jr.default(r,"hex"),a=this.outputShareStore(n),n.cmp(new jr.default("1","hex"))===0)throw new St.CoreError(1001,"Unable to delete service provider share");if(i=this.metadata.getLatestPublicPolynomial(),s=i.getPolynomialID(),o=this.metadata.getShareIndexesForPolynomial(s),f=[],o.forEach(function(d){var h=new jr.default(d,"hex");h.cmp(n)!==0&&f.push(h.toString("hex"))}),o.length===f.length)throw St.CoreError.default("Share index does not exist in latest polynomial");if(f.length<i.getThreshold())throw St.CoreError.default("Minimum ".concat(i.getThreshold()," shares are required for tkey. Unable to delete share"));return[4,this._refreshShares(i.getThreshold(),Jn([],f,!0),s)];case 2:return u=l.sent(),c=u.shareStores,[4,this.addLocalMetadataTransitions({input:[{message:Vt.SHARE_DELETED,dateAdded:Date.now()}],privKey:[a.share.share]})];case 3:return l.sent(),[2,{newShareStores:c}]}})})},t.prototype.generateNewShare=function(){return Yr(this,void 0,void 0,function(){var r,n,a,i,s,o,f;return Xr(this,function(u){switch(u.label){case 0:if(!this.metadata)throw St.CoreError.metadataUndefined();return[4,this._getPrivateKey()];case 1:if(!u.sent())throw St.CoreError.privateKeyUnavailable();return r=this.metadata.getLatestPublicPolynomial(),n=r.getPolynomialID(),a=this.metadata.getShareIndexesForPolynomial(n),i=a.map(function(c){return new jr.default(c,"hex")}),s=new jr.default((0,Vt.generatePrivateExcludingIndexes)(i)),[4,this._refreshShares(r.getThreshold(),Jn(Jn([],a,!0),[s.toString("hex")],!1),n)];case 2:return o=u.sent(),f=o.shareStores,[2,{newShareStores:f,newShareIndex:s}]}})})},t.prototype._refreshShares=function(r,n,a){return Yr(this,void 0,void 0,function(){var i,s,o,f,u,c,l,d,h,w,p,m,v,b,g,y,C,I,P,O,N,S,D,w,T,x=this;return Xr(this,function(_){switch(_.label){case 0:if(!this.metadata)throw St.CoreError.metadataUndefined();return[4,this._getPrivateKey()];case 1:if(i=_.sent(),!i)throw St.CoreError.privateKeyUnavailable();if(r>n.length)throw St.CoreError.default("threshold should not be greater than share indexes. ".concat(r," > ").concat(n.length));if(this.metadata.nonce+=1,s=(0,St.generateRandomPolynomial)(r-1,i),o=s.generateShares(n),f=this.metadata.getShareIndexesForPolynomial(a),u=[],c=Object.keys(this.shares[a]),c.length<r)throw St.CoreError.unableToReconstruct("not enough shares for polynomial reconstruction");for(l=0;l<r;l+=1)u.push(new Vt.Point(new jr.default(c[l],"hex"),this.shares[a][c[l]].share.share));for(d=(0,St.lagrangeInterpolatePolynomial)(u),h=[],w=0;w<f.length;w+=1)p=f[w],n.includes(p)&&h.push(p);return this.metadata.addFromPolynomialAndShares(s,o),m={},v={},b=s.getPolynomialID(),n.forEach(function(M){v[M]=new Vt.ShareStore(o[M],b)}),g=this.metadata.clone(),y={},[4,Promise.all(h.map(function(M){return Yr(x,void 0,void 0,function(){var L,F;return Xr(this,function(G){switch(G.label){case 0:return L=d.polyEval(new jr.default(M,"hex")),[4,(0,Vt.encrypt)((0,Vt.getPubKeyECC)(L),ae.from(JSON.stringify(v[M])))];case 1:return F=G.sent(),y[(0,Vt.getPubKeyPoint)(L).x.toString("hex")]=F,m[M]=new Vt.ShareStore(new Vt.Share(M,L),a),[2,L]}})})}))];case 2:C=_.sent(),g.setScopedStore("encryptedShares",y),I=Array(C.length).fill(g);for(P in this._refreshMiddleware)Object.prototype.hasOwnProperty.call(this._refreshMiddleware,P)&&(O=this._refreshMiddleware[P](this.metadata.getGeneralStoreDomain(P),m,v),O?this.metadata.setGeneralStoreDomain(P,O):this.metadata.deleteGeneralStoreDomain(P));return N=[],S=n.map(function(M){var L=x.metadata.clone();return N.push(L),v[M].share.share}),[4,this.generateAuthMetadata2({input:Jn(Jn([],I,!0),N,!0)})];case 3:return D=_.sent(),[4,this.addLocalMetadataTransitions({input:Jn(Jn([],D,!0),[v[1]],!1),privKey:Jn(Jn(Jn([],C,!0),S,!0),[void 0],!1)})];case 4:for(_.sent(),w=0;w<n.length;w+=1)T=n[w],this.inputShareStore(v[T]);return[2,{shareStores:v}]}})})},t.prototype._initializeNewKey=function(r){var n=r===void 0?{}:r,a=n.determinedShare,i=n.initializeModules,s=n.importedKey,o=n.delete1OutOf1;return Yr(this,void 0,void 0,function(){var f,u,c,l,d,h,p,m,v,b,g,y,C,I,P,O,N=this;return Xr(this,function(S){switch(S.label){case 0:return s?[3,2]:(f=(0,Dre.generatePrivate)(),[4,this._setPrivateKey(new jr.default(f))]);case 1:return S.sent(),[3,4];case 2:return[4,this._setPrivateKey(new jr.default(s))];case 3:S.sent(),S.label=4;case 4:return u=(0,Vt.generatePrivateExcludingIndexes)([new jr.default(1),new jr.default(0)]),c=[new jr.default(1),u],[4,this._getPrivateKey()];case 5:return d=S.sent(),a?(h=(0,Vt.generatePrivateExcludingIndexes)([new jr.default(1),new jr.default(0)]),l=(0,St.generateRandomPolynomial)(1,d,[new Vt.Share(h,a)]),c.push(h)):l=(0,St.generateRandomPolynomial)(1,d),p=l.generateShares(c),m=new St.Metadata((0,Vt.getPubKeyPoint)(d)),m.addFromPolynomialAndShares(l,p),v=p[c[0].toString("hex")],b=new Vt.ShareStore(v,l.getPolynomialID()),this.metadata=m,i?[4,this.initializeModules2()]:[3,7];case 6:S.sent(),S.label=7;case 7:return g=[],y=c.map(function(D){return g.push(N.metadata),p[D.toString("hex")].share}),[4,this.generateAuthMetadata2({input:g})];case 8:return C=S.sent(),[4,this.addLocalMetadataTransitions({input:Jn(Jn([],C,!0),[b],!1),privKey:Jn(Jn([],y,!0),[void 0],!1)})];case 9:return S.sent(),o?[4,this.addLocalMetadataTransitions({input:[{message:Vt.ONE_KEY_DELETE_NONCE}],privKey:[this.serviceProvider.postboxKey]})]:[3,11];case 10:S.sent(),S.label=11;case 11:for(I=0;I<c.length;I+=1)P=c[I],this.inputShareStore(new Vt.ShareStore(p[P.toString("hex")],l.getPolynomialID()));return this.storeDeviceShare?[4,this.storeDeviceShare(new Vt.ShareStore(p[c[1].toString("hex")],l.getPolynomialID()))]:[3,13];case 12:S.sent(),S.label=13;case 13:return O={privKey:d,deviceShare:new Vt.ShareStore(p[c[1].toString("hex")],l.getPolynomialID()),userShare:void 0},a&&(O.userShare=new Vt.ShareStore(p[c[2].toString("hex")],l.getPolynomialID())),[2,O]}})})},t.prototype.generateAuthMetadata2=function(r){return Yr(this,void 0,void 0,function(){var n,a,i,s;return Xr(this,function(o){switch(o.label){case 0:return n=r.input,a=[],[4,this._getPrivateKey()];case 1:for(i=o.sent(),s=0;s<n.length;s+=1)a.push(new St.AuthMetadata(n[s],i));return[2,a]}})})},t.prototype.setAuthMetadata=function(r){return Yr(this,void 0,void 0,function(){var n,a,i,s,o,f;return Xr(this,function(u){switch(u.label){case 0:return n=r.input,a=r.serviceProvider,i=r.privKey,o=St.AuthMetadata.bind,f=[void 0,n],[4,this._getPrivateKey()];case 1:return s=new(o.apply(St.AuthMetadata,f.concat([u.sent()]))),[2,this.storageLayer.setMetadata({input:s,serviceProvider:a,privKey:i})]}})})},t.prototype.setAuthMetadataBulk=function(r){return Yr(this,void 0,void 0,function(){var n,a,i,s,o,f;return Xr(this,function(u){switch(u.label){case 0:return[4,this._getPrivateKey()];case 1:if(n=u.sent(),!n)throw St.CoreError.privateKeyUnavailable();for(a=r.input,i=r.serviceProvider,s=r.privKey,o=[],f=0;f<a.length;f+=1)o.push(new St.AuthMetadata(a[f],n));return[4,this.addLocalMetadataTransitions({input:o,serviceProvider:i,privKey:s})];case 2:return u.sent(),[2]}})})},t.prototype.acquireWriteMetadataLock=function(){return Yr(this,void 0,void 0,function(){var r,n,a,i,s,o,f,u,c,l;return Xr(this,function(d){switch(d.label){case 0:return this.haveWriteMetadataLock?[2,this.metadata.nonce]:[4,this._getPrivateKey()];case 1:if(!d.sent())throw St.CoreError.privateKeyUnavailable();return n=this.lastFetchedCloudMetadata.getLatestPublicPolynomial().getPolynomialID(),a=Object.keys(this.shares[n]),i=a[Math.floor(Math.random()*(a.length-1))],a.length>=1?r=this.shares[n][i]:r=this.outputShareStore(i,n),[4,this.catchupToLatestShare({shareStore:r})];case 2:if(s=d.sent(),o=s.shareMetadata,o.nonce>this.lastFetchedCloudMetadata.nonce)throw St.CoreError.acquireLockFailed(`unable to acquire write access for metadata due to 
      lastFetchedCloudMetadata (`.concat(this.lastFetchedCloudMetadata.nonce,`)
           being lower than last written metadata nonce (`).concat(o.nonce,"). perhaps update metadata SDK (create new tKey and init)"));if(o.nonce<this.lastFetchedCloudMetadata.nonce)throw St.CoreError.acquireLockFailed(`unable to acquire write access for metadata due to 
      lastFetchedCloudMetadata (`.concat(this.lastFetchedCloudMetadata.nonce,`)
      being higher than last written metadata nonce (`).concat(o.nonce,`). this should never happen as it 
      should only ever be updated by getting metadata)`));return c=(u=this.storageLayer).acquireWriteLock,l={},[4,this._getPrivateKey()];case 3:return[4,c.apply(u,[(l.privKey=d.sent(),l)])];case 4:if(f=d.sent(),f.status!==1)throw St.CoreError.acquireLockFailed("lock cannot be acquired from storage layer status code: ".concat(f.status));return this.haveWriteMetadataLock=f.id,[2,this.metadata.nonce]}})})},t.prototype.releaseWriteMetadataLock=function(){return Yr(this,void 0,void 0,function(){var r,n,a,i;return Xr(this,function(s){switch(s.label){case 0:if(!this.haveWriteMetadataLock)throw St.CoreError.releaseLockFailed("releaseWriteMetadataLock - don't have metadata lock to release");return a=(n=this.storageLayer).releaseWriteLock,i={},[4,this._getPrivateKey()];case 1:return[4,a.apply(n,[(i.privKey=s.sent(),i.id=this.haveWriteMetadataLock,i)])];case 2:if(r=s.sent(),r.status!==1)throw St.CoreError.releaseLockFailed("lock cannot be released from storage layer status code: ".concat(r.status));return this.haveWriteMetadataLock="",[2]}})})},t.prototype.encrypt=function(r){return Yr(this,void 0,void 0,function(){var n;return Xr(this,function(a){switch(a.label){case 0:return[4,this._getPrivateKey()];case 1:if(n=a.sent(),!n)throw St.CoreError.privateKeyUnavailable();return[2,(0,Vt.encrypt)((0,Vt.getPubKeyECC)(n),r)]}})})},t.prototype.decrypt=function(r){return Yr(this,void 0,void 0,function(){var n;return Xr(this,function(a){switch(a.label){case 0:return[4,this._getPrivateKey()];case 1:if(n=a.sent(),!n)throw St.CoreError.privateKeyUnavailable();return[2,(0,Vt.decrypt)((0,Vt.toPrivKeyECC)(n),r)]}})})},t.prototype.toJSON=function(){return{shares:this.shares,enableLogging:this.enableLogging,privKey:this._getOriginKey(),metadata:this.metadata,lastFetchedCloudMetadata:this.lastFetchedCloudMetadata,_localMetadataTransitions:this._localMetadataTransitions,manualSync:this.manualSync,serviceProvider:this.serviceProvider,storageLayer:this.storageLayer}},t.prototype.initializeModules2=function(){return Yr(this,void 0,void 0,function(){var r=this;return Xr(this,function(n){return[2,Promise.all(Object.keys(this.modules).map(function(a){return r.modules[a].initialize()}))]})})},t.prototype._setPrivateKey=function(r){return Yr(this,void 0,void 0,function(){var n,a;return Xr(this,function(i){switch(i.label){case 0:return r?[4,this.randomPassPhrase.createPassphrase()]:[3,3];case 1:return n=i.sent(),a=this,[4,qw.default.encrypt(r.toString("hex"),void 0,n)];case 2:return a.key=i.sent(),[2];case 3:return this.key=void 0,[2]}})})},t.prototype._getPrivateKey=function(){return Yr(this,void 0,void 0,function(){var r,n;return Xr(this,function(a){switch(a.label){case 0:return[4,this.randomPassPhrase.getPassphrase()];case 1:return r=a.sent(),r&&this.key?[4,qw.default.decrypt(this.key,void 0,r)]:[3,3];case 2:return n=a.sent(),[2,new jr.default(n,"hex")];case 3:return this.key?[2,new jr.default(this.key,"hex")]:[2,void 0]}})})},t.prototype._getOriginKey=function(){return this.key},t}(St.default);Mh.TKey=Mre;var Tv={},Lre=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{dataMap:{},lockMap:{}},r=t.dataMap,n=t.lockMap;qr(this,e),ie(this,"dataMap",void 0),ie(this,"storageLayerName",void 0),ie(this,"lockMap",void 0),ie(this,"serviceProvider",void 0),this.dataMap=r||{},this.lockMap=n||{},this.storageLayerName="MockStorageLayer"}return Vr(e,[{key:"getMetadata",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a.serviceProvider,s=a.privKey,s?o=Va(s).x:o=i.retrievePubKeyPoint().getX(),f=this.dataMap[o.toString("hex")],f){c.next=5;break}return c.abrupt("return",Object.create({message:wp}));case 5:return c.abrupt("return",JSON.parse(this.dataMap[o.toString("hex")]));case 6:case"end":return c.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"setMetadata",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=a.serviceProvider,s=a.privKey,o=a.input,s?f=Va(s).x:f=i.retrievePubKeyPoint().getX(),this.dataMap[f.toString("hex")]=On(o),c.abrupt("return",{message:"success"});case 4:case"end":return c.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"setMetadataStream",value:function(){var t=Ke(de.mark(function n(a){var i=this,s,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s=a.serviceProvider,o=a.privKey,f=a.input,f.forEach(function(l,d){var h;!o||!o[d]?h=s.retrievePubKeyPoint().getX():h=Va(o[d]).x,i.dataMap[h.toString("hex")]=On(l)}),c.abrupt("return",{message:"success"});case 3:case"end":return c.stop()}},n)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"acquireWriteLock",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a.serviceProvider,s=a.privKey,s?o=Va(s).x:o=i.retrievePubKeyPoint().getX(),!this.lockMap[o.toString("hex")]){c.next=4;break}return c.abrupt("return",{status:0});case 4:return f=FK(),this.lockMap[o.toString("hex")]=f,c.abrupt("return",{status:1,id:f});case 7:case"end":return c.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"releaseWriteLock",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f;return de.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a.serviceProvider,s=a.privKey,o=a.id,s?f=Va(s).x:f=i.retrievePubKeyPoint().getX(),this.lockMap[f.toString("hex")]){c.next=4;break}return c.abrupt("return",{status:0});case 4:if(o===this.lockMap[f.toString("hex")]){c.next=6;break}return c.abrupt("return",{status:2});case 6:return this.lockMap[f.toString("hex")]=null,c.abrupt("return",{status:1});case 8:case"end":return c.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"toJSON",value:function(){return{dataMap:this.dataMap,serviceProvider:this.serviceProvider,storageLayerName:this.storageLayerName}}}],[{key:"fromJSON",value:function(r){var n=r.dataMap,a=r.lockMap,i=r.storageLayerName;if(i==="MockStorageLayer")return new e({dataMap:n,lockMap:a})}}]),e}();function zw(e,t){var r=Xt.sign(Ad(ua.keccak256(On(e))),Jf(t),"utf-8");return r.toDER("hex")}var Yw=function(){function e(t){var r=t.enableLogging,n=r===void 0?!1:r,a=t.hostUrl,i=a===void 0?"http://localhost:5051":a,s=t.serverTimeOffset,o=s===void 0?0:s;qr(this,e),ie(this,"enableLogging",void 0),ie(this,"hostUrl",void 0),ie(this,"storageLayerName",void 0),ie(this,"serverTimeOffset",void 0),this.enableLogging=n,this.hostUrl=i,this.storageLayerName="TorusStorageLayer",this.serverTimeOffset=o}return Vr(e,[{key:"getMetadata",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u,c;return de.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=a.serviceProvider,s=a.privKey,o=this.generateMetadataParams({},i,s),d.next=4,Na("".concat(this.hostUrl,"/get"),o);case 4:if(f=d.sent,f.message!==""){d.next=7;break}return d.abrupt("return",Object.create({message:wp}));case 7:if(u=JSON.parse(atob(f.message)),!s){d.next=14;break}return d.next=11,Um(Jf(s),u);case 11:c=d.sent,d.next=17;break;case 14:return d.next=16,i.decrypt(u);case 16:c=d.sent;case 17:return d.abrupt("return",JSON.parse(c.toString()));case 18:case"end":return d.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"setMetadata",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,i=a.serviceProvider,s=a.privKey,o=a.input,l.t0=this,l.next=5,e.serializeMetadataParamsInput(o,i,s);case 5:return l.t1=l.sent,l.t2=i,l.t3=s,f=l.t0.generateMetadataParams.call(l.t0,l.t1,l.t2,l.t3),l.next=11,Na("".concat(this.hostUrl,"/set"),f);case 11:return l.abrupt("return",l.sent);case 14:return l.prev=14,l.t4=l.catch(0),l.prev=16,l.next=19,l.t4.json();case 19:u=l.sent,l.next=25;break;case 22:throw l.prev=22,l.t5=l.catch(16),l.t4;case 25:if(!u){l.next=27;break}throw new Error(Rc(u));case 27:case"end":return l.stop()}},n,this,[[0,14],[16,22]])}));function r(n){return t.apply(this,arguments)}return r}()},{key:"setMetadataStream",value:function(){var t=Ke(de.mark(function n(a){var i=this,s,o,f,u,c,l,d,h,p;return de.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,s=a.serviceProvider,o=a.privKey,f=a.input,u=f,v.next=5,Promise.all(u.map(function(){var b=Ke(de.mark(function g(y,C){return de.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.t0=i,P.next=3,e.serializeMetadataParamsInput(y,s,o[C]);case 3:return P.t1=P.sent,P.t2=s,P.t3=o[C],P.abrupt("return",P.t0.generateMetadataParams.call(P.t0,P.t1,P.t2,P.t3));case 7:case"end":return P.stop()}},g)}));return function(g,y){return b.apply(this,arguments)}}()));case 5:return c=v.sent,l=new FormData,c.forEach(function(b,g){l.append(g.toString(),JSON.stringify(b))}),d={mode:"cors",method:"POST",headers:{"Content-Type":void 0}},h={isUrlEncodedData:!0,timeout:6e5},v.next=12,Na("".concat(this.hostUrl,"/bulk_set_stream"),l,d,h);case 12:return v.abrupt("return",v.sent);case 15:return v.prev=15,v.t0=v.catch(0),v.prev=17,v.next=20,v.t0.json();case 20:p=v.sent,v.next=26;break;case 23:throw v.prev=23,v.t1=v.catch(17),v.t0;case 26:if(!p){v.next=28;break}throw new Error(Rc(p));case 28:case"end":return v.stop()}},n,this,[[0,15],[17,23]])}));function r(n){return t.apply(this,arguments)}return r}()},{key:"generateMetadataParams",value:function(r,n,a){var i,s,o,f="tkey",u={data:r,timestamp:new we(~~((this.serverTimeOffset+Date.now())/1e3)).toString(16)};r===p1&&(f=$K,u.data="<deleted>");var c=ua.keccak256(On(u)).slice(2);if(a){var l=Kc(a).sign(c);i=ae.from(l.r.toString(16,64)+l.s.toString(16,64)+new we(0).toString(16,2),"hex").toString("base64");var d=Va(a);s=d.x.toString("hex"),o=d.y.toString("hex")}else{var h=n.retrievePubKeyPoint();i=n.sign(c),s=h.getX().toString("hex"),o=h.getY().toString("hex")}return{pub_key_X:s,pub_key_Y:o,set_data:u,signature:i,namespace:f}}},{key:"acquireWriteLock",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u;return de.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=a.serviceProvider,s=a.privKey,o={timestamp:Math.floor((this.serverTimeOffset+Date.now())/1e3)},s?f=zw(o,s):f=i.sign(Ad(ua.keccak256(On(o)))),u={key:Kc(s).getPublic("hex"),data:o,signature:f},l.abrupt("return",Na("".concat(this.hostUrl,"/acquireLock"),u));case 5:case"end":return l.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"releaseWriteLock",value:function(){var t=Ke(de.mark(function n(a){var i,s,o,f,u,c;return de.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=a.serviceProvider,s=a.privKey,o=a.id,f={timestamp:Math.floor((this.serverTimeOffset+Date.now())/1e3)},s?u=zw(f,s):u=i.sign(Ad(ua.keccak256(On(f)))),c={key:Kc(s).getPublic("hex"),data:f,signature:u,id:o},d.abrupt("return",Na("".concat(this.hostUrl,"/releaseLock"),c));case 5:case"end":return d.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"toJSON",value:function(){return{enableLogging:this.enableLogging,hostUrl:this.hostUrl,storageLayerName:this.storageLayerName}}}],[{key:"serializeMetadataParamsInput",value:function(){var t=Ke(de.mark(function n(a,i,s){var o,f,u,c,l;return de.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(Hi(a)!=="object"){h.next=5;break}if(o=a,f=o.message===p1,!f){h.next=5;break}return h.abrupt("return",o.message);case 5:if(u=ae.from(On(a)),!s){h.next=12;break}return h.next=9,Ap(Cp(s),u);case 9:c=h.sent,h.next=15;break;case 12:return h.next=14,i.encrypt(u);case 14:c=h.sent;case 15:return l=btoa(On(c)),h.abrupt("return",l);case 17:case"end":return h.stop()}},n)}));function r(n,a,i){return t.apply(this,arguments)}return r}()},{key:"fromJSON",value:function(r){var n=r.enableLogging,a=r.hostUrl,i=r.storageLayerName,s=r.serverTimeOffset,o=s===void 0?0:s;if(i==="TorusStorageLayer")return new e({enableLogging:n,hostUrl:a,serverTimeOffset:o})}}]),e}();const kre=Object.freeze(Object.defineProperty({__proto__:null,MockStorageLayer:Lre,TorusStorageLayer:Yw,default:Yw},Symbol.toStringTag,{value:"Module"})),Bre=ei(kre);var Wp=$&&$.__assign||function(){return Wp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Wp.apply(this,arguments)},xl=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},Rl=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Fre=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.TorusStorageProvider=void 0;var Xw=Fre(Bre),Jw=gO,Hre=function(){function e(t){this.storageLayerName="TorusStorageLayer",this._torusMetadata=new Xw.default(t),t.backupUrl&&(this._backupMetadata=new Xw.default(Wp(Wp({},t),{hostUrl:t.backupUrl})))}return e.prototype.compareMetadata=function(t){return xl(this,void 0,void 0,function(){var r,n,a;return Rl(this,function(i){switch(i.label){case 0:if(!this._backupMetadata)return[2,"none"];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this._backupMetadata.getMetadata({privKey:t.share})];case 2:return r=i.sent(),n=Jw.AuthMetadata.fromJSON(r),[2,JSON.stringify(t.metadata)===JSON.stringify(n.metadata)?"match":"mismatch"];case 3:return i.sent(),a=new Jw.AuthMetadata(t.metadata,t.privKey),[4,this._backupMetadata.setMetadata({input:a,privKey:t.share})];case 4:return i.sent(),[2,"new"];case 5:return[2]}})})},e.prototype.getMetadata=function(t){return this._torusMetadata.getMetadata(t)},e.prototype.acquireWriteLock=function(t){return xl(this,void 0,void 0,function(){return Rl(this,function(r){switch(r.label){case 0:return[4,this._torusMetadata.acquireWriteLock(t)];case 1:return[2,r.sent()]}})})},e.prototype.releaseWriteLock=function(t){return xl(this,void 0,void 0,function(){return Rl(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._torusMetadata.releaseWriteLock(t)];case 1:return[2,r.sent()];case 2:return r.sent(),[2,{status:1}];case 3:return[2]}})})},e.prototype.setMetadata=function(t){var r;return xl(this,void 0,void 0,function(){return Rl(this,function(n){switch(n.label){case 0:if(this._backupMetadata)try{(r=this._backupMetadata)===null||r===void 0||r.setMetadata(t)}catch{}return[4,this._torusMetadata.setMetadata(t)];case 1:return[2,n.sent()]}})})},e.prototype.setMetadataStream=function(t){var r;return xl(this,void 0,void 0,function(){return Rl(this,function(n){switch(n.label){case 0:if(this._backupMetadata)try{(r=this._backupMetadata)===null||r===void 0||r.setMetadataStream(t)}catch{}return[4,this._torusMetadata.setMetadataStream(t)];case 1:return[2,n.sent()]}})})},e.prototype.toJSON=function(){return this._torusMetadata.toJSON()},e}();Tv.TorusStorageProvider=Hre;var $re=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ka=$&&$.__assign||function(){return Ka=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ka.apply(this,arguments)},Ure=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jre=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yO=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ure(t,e,r);return jre(t,e),t},dt=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},ht=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bT=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mT,"__esModule",{value:!0});var Dg=yO(X7),Gre=bT(Qe),Kre=yO(Wu()),Wre=jm,qre=bT(Om),Qw=bT(ac),Zw=Rh,Vre=Dh,nr=_v,zre=Mh,Yre=Tv,Ai=yv,Xre=function(e){$re(t,e);function t(r){var n=e.call(this)||this;return n.retryCount=0,n.tKeyParams=r,n}return t.prototype.setup=function(r){var n,a;return dt(this,void 0,void 0,function(){var i,s,o,f;return ht(this,function(u){return this.tKeyParams.network=r,this.retryCount=0,this.currentDeviceShare=void 0,i={baseUrl:"",enableLogging:this.tKeyParams.enableLogging,network:this.tKeyParams.network,networkUrl:"https://".concat(Wre.NETWORK_MAP[this.tKeyParams.network],".infura.io/v3/").concat(this.tKeyParams.infuraId)},s=new qre.default({enableLogging:this.tKeyParams.enableLogging,customAuthArgs:i}),o=new Yre.TorusStorageProvider({enableLogging:this.tKeyParams.enableLogging,hostUrl:this.tKeyParams.metadataUrl||"https://metadata.tor.us",backupUrl:this.tKeyParams.backupMetadataUrl}),(a=(n=this.tKeyParams.modules)===null||n===void 0?void 0:n.pinCodeModule)===null||a===void 0||a.setTKeyManager(this),this.tKeyParams.modules.passwordModule.setTKeyManager(this),f={securityQuestion:this.tKeyParams.modules.passwordModule},this.tKeyParams.modules.storageModule&&(f.deviceStorage=this.tKeyParams.modules.storageModule),this.tKeyParams.modules.pinCodeModule&&(f.pinCode=this.tKeyParams.modules.pinCodeModule),this.tKey=new zre.TKey({serviceProvider:s,storageLayer:o,enableLogging:!!this.tKeyParams.enableLogging,modules:f,randomPassPhrase:this.tKeyParams.randomPassPhraseMethod}),[2]})})},t.prototype.parseResult=function(r,n){return dt(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:if(!this.tKeyParams.accountProvider)throw Error("Please provide Account Provider for tkey manager to use this function!");return[4,this.tKeyParams.accountProvider.parseResult(r)];case 1:return a=i.sent(),a.error?[2,{error:nr.TKeyResultCode.GET_ID_TOKEN_FAILED,message:"GET_ID_TOKEN_FAILED ".concat(a.error)}]:n&&a.addr?[2,{error:nr.TKeyResultCode.ACCOUNT_LINKED_WITH_OTHER_WALLET}]:[2,a]}})})},t.prototype.getTKey=function(){if(!this.tKey)throw"Please call setup() method first";return this.tKey},t.prototype.getProvider=function(){if(!this.tKey)throw"Please call setup() method first";return this.tKey.serviceProvider},t.prototype.getPinCodeModule=function(){var r,n,a;if(!this.tKey)throw"Please call setup() method first";if(!((n=(r=this.tKey)===null||r===void 0?void 0:r.modules)===null||n===void 0)&&n.pinCode)return(a=this.tKey.modules)===null||a===void 0?void 0:a.pinCode},t.prototype.getPasswordModule=function(){var r;if(!this.tKey)throw"Please call setup() method first";return(r=this.tKey)===null||r===void 0?void 0:r.modules.securityQuestion},t.prototype.getDeviceStorageModule=function(){var r,n;if(!this.tKey)throw"Please call setup() method first";if(!((r=this.tKey)===null||r===void 0)&&r.modules.deviceStorage)return(n=this.tKey)===null||n===void 0?void 0:n.modules.deviceStorage},t.prototype.isTKeyReady=function(){try{return this.getTKey().getMetadata(),!0}catch{return!1}},t.prototype.isProviderReady=function(){return this.getProvider().hasPrivateKey()},t.prototype.getPrivateKey=function(){return this.getTKey()._getPrivateKey()},t.prototype.setPrivateKey=function(r){return dt(this,void 0,void 0,function(){return ht(this,function(n){switch(n.label){case 0:return[4,this.getTKey()._setPrivateKey(r)];case 1:return n.sent(),[2]}})})},t.prototype.loginAccount=function(r,n,a,i,s){return dt(this,void 0,void 0,function(){return ht(this,function(o){switch(o.label){case 0:if(!this.tKeyParams.accountProvider)throw Error("Please provide Account Provider for tkey manager to use this function!");return n&&this.tKeyParams.network&&this.isTKeyReady()?[4,this.resetTKey()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2,this.tKeyParams.accountProvider.login(r,a,i,s)]}})})},t.prototype.getSsoUrl=function(r,n,a,i,s,o,f){if(!this.tKeyParams.accountProvider)throw Error("Please provide Account Provider for tkey manager to use this function!");return this.tKeyParams.accountProvider.getSsoUrl(r,n,a,i,s,o,f)},t.prototype.getTorusShare=function(r,n,a,i){return dt(this,void 0,void 0,function(){var s,o,f;return ht(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.getProvider().getTorusKey(r,this.tKeyParams.verifier,n,i)];case 1:return u.sent(),[3,3];case 2:return s=u.sent(),[2,{code:nr.TKeyResultCode.INITIAL_TKEY_ERROR,message:s}];case 3:return u.trys.push([3,5,,6]),[4,this.getTKey().initialize({neverInitializeNewKey:!0})];case 4:return o=u.sent(),a&&o.totalShares>=2?[2,{code:nr.TKeyResultCode.ACCOUNT_EXISTED}]:!a&&o.totalShares<2?[2,{code:nr.TKeyResultCode.ACCOUNT_NOT_EXISTED}]:[2,{code:nr.TKeyResultCode.INITIAL_TKEY_SUCCESS}];case 5:return f=u.sent(),f.code===1e3&&f.message.includes("key has not been generated yet")?[2,{code:nr.TKeyResultCode.ACCOUNT_NOT_EXISTED,message:f}]:[2,{code:nr.TKeyResultCode.INITIAL_TKEY_ERROR,message:f}];case 6:return[2]}})})},t.prototype.getDeviceShare=function(r){var n;return dt(this,void 0,void 0,function(){return ht(this,function(a){return[2,(n=this.getDeviceStorageModule())===null||n===void 0?void 0:n.getDeviceShare(this.getTKey().serviceProvider,r)]})})},t.prototype.getDeviceShareByPinCode=function(r){return dt(this,void 0,void 0,function(){return ht(this,function(n){return[2,this.getDeviceShare((0,Ai.pinCode2Key)(r))]})})},t.prototype.inputDeviceShare=function(r){var n;return dt(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:if(!this.isTKeyReady())return[3,1];if(a=this.getTKey().getMetadata().getShareDescription()[r.share.shareIndex.toString("hex")],a&&a.length>0)(n=this.getDeviceStorageModule())===null||n===void 0||n.inputDeviceShare(r);else throw Error("Incorrect device share");return[3,3];case 1:return[4,this.getTKey().initialize({withShare:r,neverInitializeNewKey:!0})];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.deleteDeviceShare=function(r,n){return dt(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return[4,this.deleteDeviceShareByIndex(r.share.shareIndex.toString("hex"),n)];case 1:return a.sent(),[2]}})})},t.prototype.deletePinCodeShare=function(r){return dt(this,void 0,void 0,function(){var n;return ht(this,function(a){return n=this.getTKey().getMetadata(),n.deleteGeneralStoreDomain(r.data.module),r.shareIndex&&n.deleteShareDescription(r.shareIndex,JSON.stringify(r)),[2]})})},t.prototype.deleteShareFromCache=function(r,n){var a;return dt(this,void 0,void 0,function(){return ht(this,function(i){switch(i.label){case 0:return[4,(a=this.getDeviceStorageModule())===null||a===void 0?void 0:a.deleteDeviceShare(r,this.getTKey().serviceProvider,(0,Ai.pinCode2Key)(n))];case 1:return i.sent(),[2]}})})},t.prototype.deleteDeviceShareByIndex=function(r,n){return dt(this,void 0,void 0,function(){var a,i,s;return ht(this,function(o){switch(o.label){case 0:return[4,this.getTKey().deleteShare(r)];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,this.getPinCodeShareDescription(void 0,Zw.PinCodeModule.createModuleName(r))];case 3:return a=o.sent(),a&&a[0]?[4,this.deletePinCodeShare(a[0])]:[3,5];case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:return o.sent(),[3,7];case 7:return o.trys.push([7,12,,13]),i=this.getTKey().getMetadata().getShareDescription()[r],i&&i.length>0?[4,this.getTKey().getMetadata().deleteShareDescription(r,i[0])]:[3,11];case 8:return o.sent(),[4,this.getTKey()._syncShareMetadata()];case 9:return o.sent(),[4,this.getTKey().syncLocalMetadataTransitions()];case 10:o.sent(),o.label=11;case 11:return[3,13];case 12:return o.sent(),[3,13];case 13:return o.trys.push([13,18,,19]),[4,this.getDeviceShare()];case 14:return s=o.sent(),s&&s.share.shareIndex.toString("hex")===r&&n?[4,this.deleteShareFromCache(s,n)]:[3,17];case 15:return o.sent(),[4,this.getTKey().syncLocalMetadataTransitions()];case 16:o.sent(),o.label=17;case 17:return[3,19];case 18:return o.sent(),[3,19];case 19:return[2]}})})},t.prototype.inputPasswordShare=function(r,n){return dt(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return[4,this.getPasswordModule().inputPassword(r,n)];case 1:return a.sent(),[2]}})})},t.prototype.inputPasswordShareFromCache=function(r){return dt(this,void 0,void 0,function(){return ht(this,function(n){switch(n.label){case 0:return[4,this.getPasswordModule().inputPasswordFromCache(r)];case 1:return n.sent(),[2]}})})},t.prototype.createPasswordShare=function(r,n,a){return dt(this,void 0,void 0,function(){return ht(this,function(i){switch(i.label){case 0:return[4,this.getPasswordModule().createPassword(r,n,a)];case 1:return i.sent(),[2]}})})},t.prototype.changePasswordShare=function(r,n,a,i){return dt(this,void 0,void 0,function(){return ht(this,function(s){switch(s.label){case 0:return[4,this.getPasswordModule().changePassword(r,n,a,i)];case 1:return s.sent(),[2]}})})},t.prototype.savePasswordShare=function(r,n,a){return dt(this,void 0,void 0,function(){return ht(this,function(i){switch(i.label){case 0:return[4,this.getPasswordModule().savePassword(r,n,a)];case 1:return i.sent(),[2]}})})},t.prototype.isPasswordCacheAvailable=function(){return dt(this,void 0,void 0,function(){return ht(this,function(r){switch(r.label){case 0:return[4,this.getPasswordModule().isPasswordCacheAvailable()];case 1:return[2,r.sent()]}})})},t.prototype.getPasswordFromCache=function(r){return dt(this,void 0,void 0,function(){return ht(this,function(n){switch(n.label){case 0:return[4,this.getPasswordModule().getPasswordFromCache(r)];case 1:return[2,n.sent()]}})})},t.prototype.inputPinCodeShare=function(r){var n;return dt(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return[4,(n=this.getPinCodeModule())===null||n===void 0?void 0:n.inputShareFromPinCode(r)];case 1:return a.sent(),[2]}})})},t.prototype.createPinCodeShare=function(r){var n;return dt(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return[4,(n=this.getPinCodeModule())===null||n===void 0?void 0:n.generateNewShareWithPinCode(r)];case 1:return a.sent(),[2]}})})},t.prototype.changePinCode=function(r,n){return dt(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return[4,this.getPasswordModule().changePinCode(r,n)];case 1:return a.sent(),[4,this.changePinCodeShare(r,n)];case 2:return a.sent(),[2]}})})},t.prototype.changePinCodeShare=function(r,n){var a,i,s;return dt(this,void 0,void 0,function(){var o;return ht(this,function(f){switch(f.label){case 0:return[4,(a=this.getPinCodeModule())===null||a===void 0?void 0:a.changePinCode(r)];case 1:return f.sent(),n?[4,this.getDeviceShareByPinCode(n)]:[2];case 2:return o=f.sent(),o?n===r?[3,4]:[4,(i=this.getDeviceStorageModule())===null||i===void 0?void 0:i.deleteShareInCache(this.getTKey().serviceProvider,(0,Ai.pinCode2Key)(n))]:[3,6];case 3:f.sent(),f.label=4;case 4:return[4,(s=this.getDeviceStorageModule())===null||s===void 0?void 0:s.saveDeviceShare(o,this.getTKey().serviceProvider,(0,Ai.pinCode2Key)(r))];case 5:f.sent(),f.label=6;case 6:return[2]}})})},t.prototype.createDeviceShare=function(r){var n;return dt(this,void 0,void 0,function(){var a,i;return ht(this,function(s){switch(s.label){case 0:return[4,this.getTKey().generateNewShare()];case 1:return a=s.sent(),i=a.newShareStores[a.newShareIndex.toString("hex")],[4,(n=this.getDeviceStorageModule())===null||n===void 0?void 0:n.saveDeviceShare(i,this.getTKey().serviceProvider,(0,Ai.pinCode2Key)(r))];case 2:return s.sent(),[2,i]}})})},t.prototype.updateDeviceShareKey=function(r){var n;return dt(this,void 0,void 0,function(){var a;return ht(this,function(i){switch(i.label){case 0:return[4,this.getDeviceShare()];case 1:return a=i.sent(),a?[4,(n=this.getDeviceStorageModule())===null||n===void 0?void 0:n.saveDeviceShare(a,this.getTKey().serviceProvider,(0,Ai.pinCode2Key)(r))]:[3,3];case 2:return i.sent(),[3,4];case 3:throw Error("Share not found");case 4:return[2]}})})},t.prototype._reconstructKey=function(){return dt(this,void 0,void 0,function(){var r,n,a;return ht(this,function(i){switch(i.label){case 0:return[4,this.getTKey().reconstructKey()];case 1:return r=i.sent(),n=r.privKey.toString("hex"),this.isUseSeedPhrase()?[2,Dg.entropyToMnemonic(n)]:(a=(0,Ai.walletFromPrivateKey)(n),[2,a.getPrivateKeyString()])}})})},t.prototype.reconstructKey=function(r){return dt(this,void 0,void 0,function(){var n,a,i,s,o,f,u;return ht(this,function(c){switch(c.label){case 0:return[4,this.getDeviceShareByPinCode(r)];case 1:if(n=c.sent(),a=void 0,!n)return[3,16];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.getTKey().initialize({withShare:n,neverInitializeNewKey:!0})];case 3:return a=c.sent(),[3,5];case 4:throw i=c.sent(),{code:nr.TKeyResultCode.INVALID_DEVICE_SHARE,message:i};case 5:if(!a)throw{code:nr.TKeyResultCode.RECONSTRUCT_KEY_ERROR};if(s=a.shareDescriptions[n.share.shareIndex.toString("hex")],!s)throw{code:nr.TKeyResultCode.INVALID_DEVICE_SHARE};this.currentDeviceShare=n,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this.inputPasswordShareFromCache(r)];case 7:return c.sent(),[3,9];case 8:throw o=c.sent(),{code:nr.TKeyResultCode.PASSWORD_CACHE_NOT_EXISTED,message:o};case 9:return c.trys.push([9,11,,12]),[4,this.inputPinCodeShare(r)];case 10:return c.sent(),[3,12];case 11:throw f=c.sent(),{code:nr.TKeyResultCode.WRONG_PIN_CODE,message:f};case 12:return c.trys.push([12,14,,15]),[4,this._reconstructKey()];case 13:return[2,c.sent()];case 14:throw u=c.sent(),{code:nr.TKeyResultCode.INVALID_DEVICE_SHARE,message:u};case 15:return[3,17];case 16:throw{code:nr.TKeyResultCode.DEVICE_SHARE_NOT_EXISTED};case 17:return[2]}})})},t.prototype.retryKey=function(r,n){var a,i,s,o,f;return dt(this,void 0,void 0,function(){var u,c,l,d,h,p,m,v,b,g,y,C,I;return ht(this,function(P){switch(P.label){case 0:return[4,this.deleteSharesRelateToPinCode(!0)];case 1:P.sent(),u=!1,P.label=2;case 2:return P.trys.push([2,5,,6]),n&&n.length>0&&r&&r.length>0?[4,this.inputPasswordShare(r,n)]:[3,4];case 3:P.sent(),u=!0,P.label=4;case 4:return[3,6];case 5:throw c=P.sent(),{code:nr.TKeyResultCode.PASSWORD_SHARE_NOT_EXISTED,message:c};case 6:l=void 0,P.label=7;case 7:return P.trys.push([7,12,,13]),[4,this.getDeviceShare()];case 8:return l=P.sent(),d=l?this.getTKey().getMetadata().getShareDescription()[l.share.shareIndex.toString("hex")]:void 0,d&&d.length>0&&l?[4,this.inputDeviceShare(l)]:[3,10];case 9:return P.sent(),[3,11];case 10:l=void 0,P.label=11;case 11:return[3,13];case 12:if(h=P.sent(),l=void 0,!u)throw{code:nr.TKeyResultCode.DEVICE_SHARE_NOT_EXISTED,message:h};return[3,13];case 13:return P.trys.push([13,15,,16]),[4,this._reconstructKey()];case 14:return p=P.sent(),[3,16];case 15:throw m=P.sent(),{code:nr.TKeyResultCode.RECONSTRUCT_KEY_ERROR,message:m};case 16:return v=this.getTorusShareDescription(),b=!1,v&&v.shareIndex&&(!((a=this.getProvider().extraData)===null||a===void 0)&&a.email)&&((s=(i=v.data)===null||i===void 0?void 0:i.extra)===null||s===void 0?void 0:s.email)!==this.getProvider().extraData.email?(g=JSON.stringify(v.data),y=Ka(Ka({},v.data),{extra:Ka(Ka({},(o=v.data)===null||o===void 0?void 0:o.extra),{email:this.getProvider().extraData.email})}),[4,this.getTKey().updateShareDescription(v.shareIndex,g,JSON.stringify(y),!0)]):[3,18];case 17:P.sent(),b=!0,P.label=18;case 18:return P.trys.push([18,24,,25]),l?[3,21]:[4,this.getAndUpdateDeviceNonce()];case 19:return C=P.sent(),[4,(f=this.getDeviceStorageModule())===null||f===void 0?void 0:f.generateNewDeviceShare(this.getTKey().serviceProvider,void 0,{nonce:C})];case 20:l=P.sent(),b=!0,P.label=21;case 21:return b?[4,this.getTKey().syncLocalMetadataTransitions()]:[3,23];case 22:P.sent(),P.label=23;case 23:return[3,25];case 24:throw I=P.sent(),{code:nr.TKeyResultCode.CREATE_DEVICE_SHARE_FAILED,message:I};case 25:return this.currentDeviceShare=l,[2,p]}})})},t.prototype.createKey=function(r,n,a){return dt(this,void 0,void 0,function(){var i,s,o;return ht(this,function(f){switch(f.label){case 0:i=void 0;do i=Dg.generateMnemonic(this.tKeyParams.seedPhraseConfig.strength,Kre.randomBytes),s=new Set(i.split(" "));while(s.size<this.tKeyParams.seedPhraseConfig.size);return this.isUseSeedPhrase()?(i=Dg.mnemonicToEntropy(i),[3,3]):[3,1];case 1:return[4,(0,Ai.createHDKey)(i,0,this.tKeyParams.crypto)];case 2:o=f.sent(),i=o.startsWith("0x")?o.slice(2):o,f.label=3;case 3:return[4,this._createKey(i,r,n,a)];case 4:return[2,f.sent()]}})})},t.prototype._createKey=function(r,n,a,i){var s,o,f;return dt(this,void 0,void 0,function(){var u,c,l,d,h,p,m;return ht(this,function(v){switch(v.label){case 0:return[4,this.deleteSharesRelateToPinCode(!0)];case 1:return v.sent(),[4,this.getTKey()._initializeNewKey({initializeModules:!0,importedKey:r!=null?new Gre.default(r,"hex"):void 0})];case 2:u=v.sent(),v.label=3;case 3:return v.trys.push([3,5,,6]),[4,this.createPasswordShare(n,a,i)];case 4:return v.sent(),[3,6];case 5:throw c=v.sent(),{code:nr.TKeyResultCode.PASSWORD_SHARE_ERROR,message:c};case 6:if(!(this.tKeyParams.storeDeviceShare&&i))return[3,13];v.label=7;case 7:return v.trys.push([7,12,,13]),[4,this.getAndUpdateDeviceNonce()];case 8:return l=v.sent(),d=this,[4,(s=this.getDeviceStorageModule())===null||s===void 0?void 0:s.generateNewDeviceShare(this.getTKey().serviceProvider,(0,Ai.pinCode2Key)(i),{withShare:u.deviceShare,nonce:l})];case 9:return d.currentDeviceShare=v.sent(),[4,this.savePasswordShare(n,a,i)];case 10:return v.sent(),[4,this.createPinCodeShare(i)];case 11:return v.sent(),[3,13];case 12:throw h=v.sent(),{code:nr.TKeyResultCode.DEVICE_SHARE_ERROR,message:h};case 13:return this.getProvider().verifierId?(p={module:this.getProvider().serviceProviderName,verifierId:this.getProvider().verifierId,dateAdded:Date.now(),extra:this.getProvider().extraData,deviceNonce:1},[4,this.getTKey().addShareDescription(this.getProvider().verifierId,JSON.stringify(p),!0)]):[3,15];case 14:v.sent(),v.label=15;case 15:return v.trys.push([15,21,,25]),[4,this.getTKey().syncLocalMetadataTransitions()];case 16:return v.sent(),this.tKeyParams.storeDeviceShare?[4,this._reconstructKey()]:[3,18];case 17:return[2,v.sent()];case 18:return[4,this.getTKey()._getPrivateKey()];case 19:return[2,(f=(o=v.sent())===null||o===void 0?void 0:o.toString("hex"))!==null&&f!==void 0?f:""];case 20:return[3,25];case 21:return m=v.sent(),this.retryCount<3?(this.retryCount++,[4,this.createKey(n,a,i)]):[3,23];case 22:return[2,v.sent()];case 23:throw this.retryCount=0,{code:nr.TKeyResultCode.PRIVATE_KEY_ERROR,message:m};case 24:return[3,25];case 25:return[2]}})})},t.prototype.savePassword=function(r,n,a){return dt(this,void 0,void 0,function(){var i;return ht(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.updateDeviceShareKey(r)];case 1:return s.sent(),[3,3];case 2:return s.sent(),[3,3];case 3:return s.trys.push([3,8,,9]),n&&a?[4,this.savePasswordShare(n,a,r)]:[3,5];case 4:return s.sent(),[3,7];case 5:return[4,this.changePinCode(r)];case 6:s.sent(),s.label=7;case 7:return[3,9];case 8:throw i=s.sent(),{code:nr.TKeyResultCode.SAVE_PASSWORD_ERROR,message:i};case 9:return[2]}})})},t.prototype.getDeviceShareDescription=function(){return dt(this,void 0,void 0,function(){var r,n=this;return ht(this,function(a){return r=this.getTKey().getMetadata().getShareDescription(),[2,Object.keys(this.getTKey().getMetadata().getShareDescription()).filter(function(i){var s,o=r[i];if(!o[0])return!1;var f=JSON.parse(o[0]);return f.module===((s=n.getDeviceStorageModule())===null||s===void 0?void 0:s.moduleName)}).map(function(i){var s,o,f,u=r[i],c=JSON.parse(u[0]),l={shareIndex:i,data:c,isCurrentDevice:i===((f=(o=(s=n.currentDeviceShare)===null||s===void 0?void 0:s.share)===null||o===void 0?void 0:o.shareIndex)===null||f===void 0?void 0:f.toString("hex"))};return l})]})})},t.prototype.getPasswordShareDescription=function(r){return dt(this,void 0,void 0,function(){var n,a,i=this;return ht(this,function(s){switch(s.label){case 0:return n=this.getTKey().getMetadata().getShareDescription(),[4,Promise.all(Object.keys(this.getTKey().getMetadata().getShareDescription()).filter(function(o){var f=n[o];if(!f[0])return!1;var u=JSON.parse(f[0]);return u.module===i.getPasswordModule().moduleName}).map(function(o){return dt(i,void 0,void 0,function(){var f,u,c,l,d,h,p;return ht(this,function(m){switch(m.label){case 0:return f=n[o],u=JSON.parse(f[0]),r?(d=(l=Qw.default).decrypt,h=[u.questions,this.getTKey().serviceProvider],[4,this.getPrivateKey()]):[3,3];case 1:return[4,d.apply(l,h.concat([m.sent()]))];case 2:c=m.sent(),c&&(u.questions=c),m.label=3;case 3:return p={shareIndex:o,data:u},[2,p]}})})}))];case 1:return a=s.sent(),a&&a.length>0?[2,a[0]]:[2,void 0]}})})},t.prototype.getPinCodeShareDescription=function(r,n){return dt(this,void 0,void 0,function(){var a,i=this;return ht(this,function(s){switch(s.label){case 0:return a=this.getTKey().getMetadata().getShareDescription(),[4,Promise.all(Object.keys(this.getTKey().getMetadata().getShareDescription()).filter(function(o){var f=a[o];if(!f[0])return!1;var u=JSON.parse(f[0]);return n===u.module||!n&&u.module.startsWith(Zw.PinCodeModule.moduleBaseName)}).map(function(o){return dt(i,void 0,void 0,function(){var f,u,c,l;return ht(this,function(d){switch(d.label){case 0:return f=a[o],u=JSON.parse(f[0]),r?[4,Qw.default.decrypt(u.questions,void 0,(0,Ai.pinCode2Key)(r))]:[3,2];case 1:c=d.sent(),c&&(u.questions=c),d.label=2;case 2:return l={shareIndex:o,data:u},[2,l]}})})}))];case 1:return[2,s.sent()]}})})},t.prototype.getTorusShareDescription=function(){var r=this,n=this.getTKey().getMetadata().getShareDescription(),a=Object.keys(this.getTKey().getMetadata().getShareDescription()).filter(function(i){var s=n[i];if(!s[0])return!1;var o=JSON.parse(s[0]);return o.module===r.getProvider().serviceProviderName}).map(function(i){var s=n[i],o=JSON.parse(s[0]),f={shareIndex:i,data:o};return f});if(a&&a.length>0)return a[0]},t.prototype.getAndUpdateDeviceNonce=function(){var r;return dt(this,void 0,void 0,function(){var n,a,i,s,o;return ht(this,function(f){switch(f.label){case 0:return n=this.getTorusShareDescription(),n&&n.shareIndex?(a=JSON.stringify(n.data),i=((r=n.data.deviceNonce)!==null&&r!==void 0?r:0)+1,s=Ka(Ka({},n.data),{deviceNonce:i}),o=JSON.stringify(s),[4,this.getTKey().updateShareDescription(n.shareIndex,a,o)]):[3,2];case 1:return f.sent(),[2,i];case 2:return[2,0]}})})},t.prototype.deleteSharesRelateToPinCode=function(r){var n,a;return dt(this,void 0,void 0,function(){return ht(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(n=this.getPinCodeModule())===null||n===void 0?void 0:n.deleteAll()];case 1:return i.sent(),[3,3];case 2:return i.sent(),[3,3];case 3:return i.trys.push([3,8,,9]),r?[4,this.getPasswordModule().deleteAll()]:[3,5];case 4:return i.sent(),[3,7];case 5:return[4,this.getPasswordModule().deleteAllUsageShare()];case 6:i.sent(),i.label=7;case 7:return[3,9];case 8:return i.sent(),[3,9];case 9:return i.trys.push([9,11,,12]),[4,(a=this.getDeviceStorageModule())===null||a===void 0?void 0:a.deleteAllUsageShare()];case 10:return i.sent(),[3,12];case 11:return i.sent(),[3,12];case 12:return[2]}})})},t.prototype.deleteAllCache=function(){var r,n;return dt(this,void 0,void 0,function(){return ht(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(r=this.getPinCodeModule())===null||r===void 0?void 0:r.deleteAll()];case 1:return a.sent(),[3,3];case 2:return a.sent(),[3,3];case 3:return a.trys.push([3,5,,6]),[4,this.getPasswordModule().deleteAll()];case 4:return a.sent(),[3,6];case 5:return a.sent(),[3,6];case 6:return a.trys.push([6,8,,9]),[4,(n=this.getDeviceStorageModule())===null||n===void 0?void 0:n.deleteAll()];case 7:return a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2]}})})},t.prototype.clearPrivateKey=function(){return dt(this,void 0,void 0,function(){var r,n,a;return ht(this,function(i){switch(i.label){case 0:return[4,this.setPrivateKey(void 0)];case 1:return i.sent(),r=this.getPinCodeModule(),r?[4,this.getPinCodeShareDescription(void 0,r.moduleName)]:[3,6];case 2:if(n=i.sent(),!(n&&n[0]))return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.getTKey().outputShare(n[0].shareIndex)];case 4:return i.sent(),[3,6];case 5:return i.sent(),[3,6];case 6:return[4,this.getPasswordShareDescription()];case 7:if(a=i.sent(),!a)return[3,11];i.label=8;case 8:return i.trys.push([8,10,,11]),[4,this.getTKey().outputShare(a.shareIndex)];case 9:return i.sent(),[3,11];case 10:return i.sent(),[3,11];case 11:return[2]}})})},t.prototype.resetTKey=function(r){return dt(this,void 0,void 0,function(){var n;return ht(this,function(a){switch(a.label){case 0:if(n=r||this.tKeyParams.network,!n)throw Error("Network required");return[4,this.deleteSharesRelateToPinCode(!0)];case 1:return a.sent(),[4,this.setup(n)];case 2:return a.sent(),[2]}})})},t.prototype.isUseSeedPhrase=function(){var r;return(r=this.tKeyParams.isUseSeedPhrase)!==null&&r!==void 0?r:!1},t.prototype.checkMetadata=function(){return dt(this,void 0,void 0,function(){var r,n,a,i;return ht(this,function(s){switch(s.label){case 0:return[4,this.getPrivateKey()];case 1:return r=s.sent(),n=Object.values(Object.values(this.getTKey().shares)[0])[0],!r||!n?[2,void 0]:(a=this.getTKey().storageLayer,[4,a.compareMetadata({metadata:this.getTKey().getMetadata(),share:n.share.share,privKey:r})]);case 2:return i=s.sent(),(i==="new"||i==="mismatch")&&this.getTKey()._syncShareMetadata(),[2,i==="match"]}})})},t.prototype.updateVerifyInfo=function(r){return this.getPasswordModule().updateVerifyInfo(r)},t.prototype.getAccountStatus=function(){var r=this.getTorusShareDescription(),n=r==null?void 0:r.data.extra.status;return n===nr.AccountStatus.DELETING?nr.AccountStatus.DELETING:nr.AccountStatus.ACTIVE},t.prototype.setAccountStatus=function(r){var n;return dt(this,void 0,void 0,function(){var a,i,s;return ht(this,function(o){switch(o.label){case 0:if(a=this.getTorusShareDescription(),!a)throw Error("Account not existed");return i=JSON.stringify(a.data),s=Ka(Ka({},a.data),{extra:Ka(Ka({},(n=a.data)===null||n===void 0?void 0:n.extra),{status:r,statusUpdatedAt:Date.now()})}),[4,this.getTKey().updateShareDescription(a.shareIndex,i,JSON.stringify(s),!0)];case 1:return o.sent(),[2]}})})},t.prototype.syncMetadata=function(){return dt(this,void 0,void 0,function(){return ht(this,function(r){switch(r.label){case 0:return[4,this.getTKey().syncLocalMetadataTransitions()];case 1:return r.sent(),[2]}})})},t}(Vre.ITKeyManager),Jre=mT.default=Xre;(function(e){var t=$&&$.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=$&&$.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(rv,e),r(dO,e),r(Rh,e),r(mT,e),r(Mh,e),r(Dh,e)})(BN);(function(e){var t=$&&$.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=$&&$.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(hI,e),r(BN,e),r(jm,e),r(_v,e)})(Pi);var K1={},_O={},Ev={},e6=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},t6=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},TO=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.WebRandomPassphrase=void 0;var Qre=TO(Wu()),r6=TO(Qe),Zre=gh,ene=function(){function e(){this.passphrase=""}return e.prototype.createPassphrase=function(){return e6(this,void 0,void 0,function(){var t,r;return t6(this,function(n){return t=Qre.default.randomBytes(128),r=(0,Zre.keccak256)(t.toString("hex")).slice(2),this.passphrase=r,[2,new r6.default(r,"hex")]})})},e.prototype.getPassphrase=function(){return e6(this,void 0,void 0,function(){return t6(this,function(t){return this.passphrase?[2,new r6.default(this.passphrase,"hex")]:[2,void 0]})})},e}();Ev.WebRandomPassphrase=ene;var Sv={},Av={},tne=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qp=$&&$.__assign||function(){return qp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},qp.apply(this,arguments)},$n=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},Un=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},EO=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Av,"__esModule",{value:!0});Av.PasswordModule=void 0;var rne=EO(pO),Tc=gh,Dl=EO(ac),nne=_v,n6=yv,ane=function(e){tne(t,e);function t(r,n){var a=e.call(this,r)||this;return a.tKeyManager=n,a}return t.prototype.setTKeyManager=function(r){this.tKeyManager=r},t.prototype.extraKeyByProvider=function(){var r,n;if(!((r=this.tKeyManager)===null||r===void 0)&&r.isProviderReady())return(0,Tc.keccak256)((n=this.tKeyManager)===null||n===void 0?void 0:n.getProvider().postboxKey.toString("hex"))},t.prototype.getReferenceId=function(){var r,n,a,i;return(0,Tc.keccak256)((i=(a=(n=(r=this.tKeyManager)===null||r===void 0?void 0:r.currentDeviceShare)===null||n===void 0?void 0:n.share)===null||a===void 0?void 0:a.share.toString("hex"))!==null&&i!==void 0?i:"reference_id")},t.createAnswer=function(r,n){var a={question:n,answer:r};return JSON.stringify(a)},t.prototype.createQuestion=function(r){var n;return $n(this,void 0,void 0,function(){var a,i,s,o;return Un(this,function(f){switch(f.label){case 0:return a={question:r},s=(i=Dl.default).encrypt,o=[a,void 0],[4,(n=this.tKeyManager)===null||n===void 0?void 0:n.getPrivateKey()];case 1:return[4,s.apply(i,o.concat([f.sent()]))];case 2:return[2,f.sent()]}})})},t.prototype.inputPasswordFromCache=function(r){return $n(this,void 0,void 0,function(){var n;return Un(this,function(a){switch(a.label){case 0:return[4,this.load(r)];case 1:return n=a.sent(),n?[4,e.prototype.inputShareFromSecurityQuestions.call(this,(0,Tc.keccak256)(JSON.stringify(n)))]:[3,3];case 2:return a.sent(),[3,4];case 3:throw{code:nne.TKeyResultCode.PASSWORD_CACHE_NOT_EXISTED};case 4:return[2]}})})},t.prototype.inputPassword=function(r,n){return $n(this,void 0,void 0,function(){var a;return Un(this,function(i){switch(i.label){case 0:return a=t.createAnswer(r,n),[4,e.prototype.inputShareFromSecurityQuestions.call(this,(0,Tc.keccak256)(a))];case 1:return i.sent(),[2]}})})},t.prototype.savePassword=function(r,n,a){return $n(this,void 0,void 0,function(){var i;return Un(this,function(s){switch(s.label){case 0:return i=t.createAnswer(r,n),[4,this.save(a,i)];case 1:return s.sent(),[2]}})})},t.prototype.changePinCode=function(r,n){return $n(this,void 0,void 0,function(){var a;return Un(this,function(i){switch(i.label){case 0:return[4,this.load(n)];case 1:return a=i.sent(),a?[4,this.save(r,JSON.stringify(a))]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.deletePassword=function(r){return $n(this,void 0,void 0,function(){return Un(this,function(n){switch(n.label){case 0:return[4,this.save(r,void 0)];case 1:return n.sent(),[2]}})})},t.prototype.getPasswordFromCache=function(r){return $n(this,void 0,void 0,function(){var n;return Un(this,function(a){switch(a.label){case 0:return[4,this.load(r)];case 1:return n=a.sent(),n?[2,n.answer]:[2,void 0]}})})},t.prototype.createPassword=function(r,n,a){var i;return $n(this,void 0,void 0,function(){var s,o,f,u,c;return Un(this,function(l){switch(l.label){case 0:return s=t.createAnswer(r,n),u=(f=e.prototype.generateNewShareWithSecurityQuestions).call,c=[this,(0,Tc.keccak256)(s)],[4,this.createQuestion(n)];case 1:return[4,u.apply(f,c.concat([l.sent()]))];case 2:return o=l.sent(),!((i=this.tKeyManager)===null||i===void 0)&&i.currentDeviceShare&&a?[4,this.save(a,s)]:[3,4];case 3:l.sent(),l.label=4;case 4:return[2,o]}})})},t.prototype.updateDescription=function(r,n){var a,i,s,o;return $n(this,void 0,void 0,function(){var f,u,c=this;return Un(this,function(l){switch(l.label){case 0:return n.dateUpdated=Date.now(),n.updatedCount?n.updatedCount+=1:n.updatedCount=1,f=(i=(a=this.tKeyManager)===null||a===void 0?void 0:a.getTKey())===null||i===void 0?void 0:i.getMetadata().getShareDescription(),f?(u=Object.keys(f).filter(function(d){var h=f[d][0];if(!h)return!1;var p=JSON.parse(h);return p.module===c.moduleName}),u&&u.length>0?[4,(s=this.tKeyManager)===null||s===void 0?void 0:s.getTKey().updateShareDescription(u[0],JSON.stringify(r),JSON.stringify(n),!0)]:[3,3]):[3,3];case 1:return l.sent(),[4,(o=this.tKeyManager)===null||o===void 0?void 0:o.getTKey().syncLocalMetadataTransitions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},t.prototype.changePassword=function(r,n,a,i){var s,o,f,u;return $n(this,void 0,void 0,function(){var c,l,d,h;return Un(this,function(p){switch(p.label){case 0:return c=t.createAnswer(r,n),[4,this.createQuestion(n)];case 1:return l=p.sent(),[4,e.prototype.changeSecurityQuestionAndAnswer.call(this,(0,Tc.keccak256)(c),l)];case 2:return p.sent(),!((s=this.tKeyManager)===null||s===void 0)&&s.currentDeviceShare?[4,this.save(a,c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return i?[4,(o=this.tKeyManager)===null||o===void 0?void 0:o.getTKey().syncLocalMetadataTransitions()]:[3,6];case 5:return p.sent(),[2];case 6:return[4,(f=this.tKeyManager)===null||f===void 0?void 0:f.getPasswordShareDescription(!1)];case 7:return d=p.sent(),d?(h=qp({},d.data),[4,this.updateDescription(d.data,h)]):[3,9];case 8:return p.sent(),[3,11];case 9:return[4,(u=this.tKeyManager)===null||u===void 0?void 0:u.getTKey().syncLocalMetadataTransitions()];case 10:p.sent(),p.label=11;case 11:return[2]}})})},t.prototype.updateVerifyInfo=function(r){var n;return $n(this,void 0,void 0,function(){var a,i;return Un(this,function(s){switch(s.label){case 0:return[4,(n=this.tKeyManager)===null||n===void 0?void 0:n.getPasswordShareDescription(!1)];case 1:return a=s.sent(),a?(i=qp({},a.data),i.verifyInfo=r,[4,this.updateDescription(a.data,i)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.isPasswordCacheAvailable=function(){return $n(this,void 0,void 0,function(){return Un(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.load()];case 1:return[2,r.sent()!=null];case 2:return r.sent(),[3,3];case 3:return[2,!1]}})})},t.prototype.save=function(r,n){var a;return $n(this,void 0,void 0,function(){var i,s,o,f,u,c,l,d,h,p;return Un(this,function(m){switch(m.label){case 0:return i={},[4,this.loadAll()];case 1:return s=m.sent(),s&&(i=s),o=this.getReferenceId(),f=this.extraKeyByProvider(),n?(u=i,c=o,h={type:"usage"},[4,Dl.default.encrypt(n,void 0,(0,n6.pinCode2Key)(r))]):[3,5];case 2:return u[c]=(h.data=m.sent(),h),f?(l=i,d=f,p={type:"login"},[4,Dl.default.encrypt(n,(a=this.tKeyManager)===null||a===void 0?void 0:a.getTKey().serviceProvider,void 0)]):[3,4];case 3:l[d]=(p.data=m.sent(),p),m.label=4;case 4:return[3,6];case 5:i[o]=void 0,f&&(i[f]=void 0),m.label=6;case 6:return[4,this.saveAll(i)];case 7:return m.sent(),[2]}})})},t.prototype.load=function(r){var n;return $n(this,void 0,void 0,function(){var a,i,o,s,o;return Un(this,function(f){switch(f.label){case 0:return[4,this.loadAll()];case 1:if(a=f.sent(),i=this.getReferenceId(),!(r&&i&&a&&a[i]))return[3,5];if(o=a[i],!o)return[2,void 0];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,Dl.default.decrypt(o.data,void 0,(0,n6.pinCode2Key)(r))];case 3:return[2,f.sent()];case 4:return f.sent(),[3,5];case 5:if(s=this.extraKeyByProvider(),!(s&&a&&a[s]))return[3,9];if(o=a[s],!o)return[2,void 0];f.label=6;case 6:return f.trys.push([6,8,,9]),[4,Dl.default.decrypt(o.data,(n=this.tKeyManager)===null||n===void 0?void 0:n.getTKey().serviceProvider,void 0)];case 7:return[2,f.sent()];case 8:return f.sent(),[3,9];case 9:return[2,void 0]}})})},t.prototype.deleteAllUsageShare=function(){return $n(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:return[4,this.loadAll()];case 1:return r=n.sent(),r?(Object.keys(r).filter(function(a){var i;return((i=r[a])===null||i===void 0?void 0:i.type)==="usage"}).map(function(a){r[a]=void 0}),[4,this.saveAll(r)]):[2];case 2:return n.sent(),[2]}})})},t}(rne.default);Av.PasswordModule=ane;var Lh={},Vp={},Mg={exports:{}},a6;function ine(){return a6||(a6=1,function(e,t){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:$,function(r){if(typeof browser>"u"||Object.getPrototypeOf(browser)!==Object.prototype){const n="The message port closed before a response was received.",a="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",i=s=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(o).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class f extends WeakMap{constructor(N,S=void 0){super(S),this.createItem=N}get(N){return this.has(N)||this.set(N,this.createItem(N)),super.get(N)}}const u=O=>O&&typeof O=="object"&&typeof O.then=="function",c=(O,N)=>(...S)=>{s.runtime.lastError?O.reject(s.runtime.lastError):N.singleCallbackArg||S.length<=1&&N.singleCallbackArg!==!1?O.resolve(S[0]):O.resolve(S)},l=O=>O==1?"argument":"arguments",d=(O,N)=>function(D,...w){if(w.length<N.minArgs)throw new Error(`Expected at least ${N.minArgs} ${l(N.minArgs)} for ${O}(), got ${w.length}`);if(w.length>N.maxArgs)throw new Error(`Expected at most ${N.maxArgs} ${l(N.maxArgs)} for ${O}(), got ${w.length}`);return new Promise((T,x)=>{if(N.fallbackToNoCallback)try{D[O](...w,c({resolve:T,reject:x},N))}catch(_){console.warn(`${O} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,_),D[O](...w),N.fallbackToNoCallback=!1,N.noCallback=!0,T()}else N.noCallback?(D[O](...w),T()):D[O](...w,c({resolve:T,reject:x},N))})},h=(O,N,S)=>new Proxy(N,{apply(D,w,T){return S.call(w,O,...T)}});let p=Function.call.bind(Object.prototype.hasOwnProperty);const m=(O,N={},S={})=>{let D=Object.create(null),w={has(x,_){return _ in O||_ in D},get(x,_,M){if(_ in D)return D[_];if(!(_ in O))return;let L=O[_];if(typeof L=="function")if(typeof N[_]=="function")L=h(O,O[_],N[_]);else if(p(S,_)){let F=d(_,S[_]);L=h(O,O[_],F)}else L=L.bind(O);else if(typeof L=="object"&&L!==null&&(p(N,_)||p(S,_)))L=m(L,N[_],S[_]);else if(p(S,"*"))L=m(L,N[_],S["*"]);else return Object.defineProperty(D,_,{configurable:!0,enumerable:!0,get(){return O[_]},set(F){O[_]=F}}),L;return D[_]=L,L},set(x,_,M,L){return _ in D?D[_]=M:O[_]=M,!0},defineProperty(x,_,M){return Reflect.defineProperty(D,_,M)},deleteProperty(x,_){return Reflect.deleteProperty(D,_)}},T=Object.create(O);return new Proxy(T,w)},v=O=>({addListener(N,S,...D){N.addListener(O.get(S),...D)},hasListener(N,S){return N.hasListener(O.get(S))},removeListener(N,S){N.removeListener(O.get(S))}});let b=!1;const g=new f(O=>typeof O!="function"?O:function(S,D,w){let T=!1,x,_=new Promise(G=>{x=function(U){b||(console.warn(a,new Error().stack),b=!0),T=!0,G(U)}}),M;try{M=O(S,D,x)}catch(G){M=Promise.reject(G)}const L=M!==!0&&u(M);if(M!==!0&&!L&&!T)return!1;const F=G=>{G.then(U=>{w(U)},U=>{let q;U&&(U instanceof Error||typeof U.message=="string")?q=U.message:q="An unexpected error occurred",w({__mozWebExtensionPolyfillReject__:!0,message:q})}).catch(U=>{console.error("Failed to send onMessage rejected reply",U)})};return F(L?M:_),!0}),y=({reject:O,resolve:N},S)=>{s.runtime.lastError?s.runtime.lastError.message===n?N():O(s.runtime.lastError):S&&S.__mozWebExtensionPolyfillReject__?O(new Error(S.message)):N(S)},C=(O,N,S,...D)=>{if(D.length<N.minArgs)throw new Error(`Expected at least ${N.minArgs} ${l(N.minArgs)} for ${O}(), got ${D.length}`);if(D.length>N.maxArgs)throw new Error(`Expected at most ${N.maxArgs} ${l(N.maxArgs)} for ${O}(), got ${D.length}`);return new Promise((w,T)=>{const x=y.bind(null,{resolve:w,reject:T});D.push(x),S.sendMessage(...D)})},I={runtime:{onMessage:v(g),onMessageExternal:v(g),sendMessage:C.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:C.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},P={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":P},services:{"*":P},websites:{"*":P}},m(s,I,o)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");r.exports=i(chrome)}else r.exports=browser})}(Mg)),Mg.exports}Object.defineProperty(Vp,"__esModule",{value:!0});typeof window>"u"?Vp.browser={}:Vp.browser=ine();var Lg=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},kg=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.WebStorageUtils=void 0;var sne=Vp,one=function(){function e(){}return e.deleteAll=function(t){return Lg(this,void 0,void 0,function(){return kg(this,function(r){switch(r.label){case 0:return[4,this._persistStorage.remove(t)];case 1:return r.sent(),[2]}})})},e.loadAll=function(t){return Lg(this,void 0,void 0,function(){var r;return kg(this,function(n){switch(n.label){case 0:return[4,this._persistStorage.get(t)];case 1:return r=n.sent(),!r||!r[t]?[2,void 0]:[2,JSON.parse(r[t])]}})})},e.saveAll=function(t,r){return Lg(this,void 0,void 0,function(){var n,a;return kg(this,function(i){switch(i.label){case 0:return n=JSON.stringify(t),[4,this._persistStorage.set((a={},a[r]=n,a))];case 1:return i.sent(),[2]}})})},e._persistStorage=sne.browser.storage.local,e}();Lh.WebStorageUtils=one;var une=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bg=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},Fg=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.WebPasswordModule=void 0;var cne=Av,Hg=Lh,$g="web_password_storage",fne=function(e){une(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.deleteAll=function(){return Bg(this,void 0,void 0,function(){return Fg(this,function(r){return[2,Hg.WebStorageUtils.deleteAll($g)]})})},t.prototype.loadAll=function(){return Bg(this,void 0,void 0,function(){return Fg(this,function(r){return[2,Hg.WebStorageUtils.loadAll($g)]})})},t.prototype.saveAll=function(r){return Bg(this,void 0,void 0,function(){return Fg(this,function(n){return[2,Hg.WebStorageUtils.saveAll(r,$g)]})})},t}(cne.PasswordModule);Sv.WebPasswordModule=fne;var wv={},SO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=n,a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:o})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,s){if(1&s&&(i=a(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var f in i)a.d(o,f,(function(u){return i[u]}).bind(null,f));return o},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=90)}({17:function(r,n,a){n.__esModule=!0,n.default=void 0;var i=a(18),s=function(){function o(){}return o.getFirstMatch=function(f,u){var c=u.match(f);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(f,u){var c=u.match(f);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(f,u,c){if(f.test(u))return c},o.getWindowsVersionName=function(f){switch(f){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(f){var u=f.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(u.push(0),u[0]===10)switch(u[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(f){var u=f.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(u.push(0),!(u[0]===1&&u[1]<5))return u[0]===1&&u[1]<6?"Cupcake":u[0]===1&&u[1]>=6?"Donut":u[0]===2&&u[1]<2?"Eclair":u[0]===2&&u[1]===2?"Froyo":u[0]===2&&u[1]>2?"Gingerbread":u[0]===3?"Honeycomb":u[0]===4&&u[1]<1?"Ice Cream Sandwich":u[0]===4&&u[1]<4?"Jelly Bean":u[0]===4&&u[1]>=4?"KitKat":u[0]===5?"Lollipop":u[0]===6?"Marshmallow":u[0]===7?"Nougat":u[0]===8?"Oreo":u[0]===9?"Pie":void 0},o.getVersionPrecision=function(f){return f.split(".").length},o.compareVersions=function(f,u,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(f),d=o.getVersionPrecision(u),h=Math.max(l,d),p=0,m=o.map([f,u],function(v){var b=h-o.getVersionPrecision(v),g=v+new Array(b+1).join(".0");return o.map(g.split("."),function(y){return new Array(20-y.length).join("0")+y}).reverse()});for(c&&(p=h-Math.min(l,d)),h-=1;h>=p;){if(m[0][h]>m[1][h])return 1;if(m[0][h]===m[1][h]){if(h===p)return 0;h-=1}else if(m[0][h]<m[1][h])return-1}},o.map=function(f,u){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(f,u);for(c=0;c<f.length;c+=1)l.push(u(f[c]));return l},o.find=function(f,u){var c,l;if(Array.prototype.find)return Array.prototype.find.call(f,u);for(c=0,l=f.length;c<l;c+=1){var d=f[c];if(u(d,c))return d}},o.assign=function(f){for(var u,c,l=f,d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[f].concat(h));var m=function(){var v=h[u];typeof v=="object"&&v!==null&&Object.keys(v).forEach(function(b){l[b]=v[b]})};for(u=0,c=h.length;u<c;u+=1)m();return f},o.getBrowserAlias=function(f){return i.BROWSER_ALIASES_MAP[f]},o.getBrowserTypeByAlias=function(f){return i.BROWSER_MAP[f]||""},o}();n.default=s,r.exports=n.default},18:function(r,n,a){n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(r,n,a){n.__esModule=!0,n.default=void 0;var i,s=(i=a(91))&&i.__esModule?i:{default:i},o=a(18);function f(c,l){for(var d=0;d<l.length;d++){var h=l[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var u=function(){function c(){}var l,d,h;return c.getParser=function(p,m){if(m===void 0&&(m=!1),typeof p!="string")throw new Error("UserAgent should be a string");return new s.default(p,m)},c.parse=function(p){return new s.default(p).getResult()},l=c,h=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(d=null)&&f(l.prototype,d),h&&f(l,h),c}();n.default=u,r.exports=n.default},91:function(r,n,a){n.__esModule=!0,n.default=void 0;var i=c(a(92)),s=c(a(93)),o=c(a(94)),f=c(a(95)),u=c(a(17));function c(d){return d&&d.__esModule?d:{default:d}}var l=function(){function d(p,m){if(m===void 0&&(m=!1),p==null||p==="")throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},m!==!0&&this.parse()}var h=d.prototype;return h.getUA=function(){return this._ua},h.test=function(p){return p.test(this._ua)},h.parseBrowser=function(){var p=this;this.parsedResult.browser={};var m=u.default.find(i.default,function(v){if(typeof v.test=="function")return v.test(p);if(v.test instanceof Array)return v.test.some(function(b){return p.test(b)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var p=this;this.parsedResult.os={};var m=u.default.find(s.default,function(v){if(typeof v.test=="function")return v.test(p);if(v.test instanceof Array)return v.test.some(function(b){return p.test(b)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(p){var m=this.getOS().name;return p?String(m).toLowerCase()||"":m||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(p){p===void 0&&(p=!1);var m=this.getPlatform().type;return p?String(m).toLowerCase()||"":m||""},h.parsePlatform=function(){var p=this;this.parsedResult.platform={};var m=u.default.find(o.default,function(v){if(typeof v.test=="function")return v.test(p);if(v.test instanceof Array)return v.test.some(function(b){return p.test(b)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var p=this;this.parsedResult.engine={};var m=u.default.find(f.default,function(v){if(typeof v.test=="function")return v.test(p);if(v.test instanceof Array)return v.test.some(function(b){return p.test(b)});throw new Error("Browser's test function is not valid")});return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return u.default.assign({},this.parsedResult)},h.satisfies=function(p){var m=this,v={},b=0,g={},y=0;if(Object.keys(p).forEach(function(w){var T=p[w];typeof T=="string"?(g[w]=T,y+=1):typeof T=="object"&&(v[w]=T,b+=1)}),b>0){var C=Object.keys(v),I=u.default.find(C,function(w){return m.isOS(w)});if(I){var P=this.satisfies(v[I]);if(P!==void 0)return P}var O=u.default.find(C,function(w){return m.isPlatform(w)});if(O){var N=this.satisfies(v[O]);if(N!==void 0)return N}}if(y>0){var S=Object.keys(g),D=u.default.find(S,function(w){return m.isBrowser(w,!0)});if(D!==void 0)return this.compareVersion(g[D])}},h.isBrowser=function(p,m){m===void 0&&(m=!1);var v=this.getBrowserName().toLowerCase(),b=p.toLowerCase(),g=u.default.getBrowserTypeByAlias(b);return m&&g&&(b=g.toLowerCase()),b===v},h.compareVersion=function(p){var m=[0],v=p,b=!1,g=this.getBrowserVersion();if(typeof g=="string")return p[0]===">"||p[0]==="<"?(v=p.substr(1),p[1]==="="?(b=!0,v=p.substr(2)):m=[],p[0]===">"?m.push(1):m.push(-1)):p[0]==="="?v=p.substr(1):p[0]==="~"&&(b=!0,v=p.substr(1)),m.indexOf(u.default.compareVersions(g,v,b))>-1},h.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},h.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},h.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},h.is=function(p,m){return m===void 0&&(m=!1),this.isBrowser(p,m)||this.isOS(p)||this.isPlatform(p)},h.some=function(p){var m=this;return p===void 0&&(p=[]),p.some(function(v){return m.is(v)})},d}();n.default=l,r.exports=n.default},92:function(r,n,a){n.__esModule=!0,n.default=void 0;var i,s=(i=a(17))&&i.__esModule?i:{default:i},o=/version\/(\d+(\.?_?\d+)+)/i,f=[{test:[/googlebot/i],describe:function(u){var c={name:"Googlebot"},l=s.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(u){var c={name:"Opera"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(u){var c={name:"Opera"},l=s.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(u){var c={name:"Samsung Internet for Android"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(u){var c={name:"NAVER Whale Browser"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(u){var c={name:"MZ Browser"},l=s.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(u){var c={name:"Focus"},l=s.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(u){var c={name:"Swing"},l=s.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(u){var c={name:"Opera Coast"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(u){var c={name:"Opera Touch"},l=s.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(u){var c={name:"Yandex Browser"},l=s.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(u){var c={name:"UC Browser"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(u){var c={name:"Maxthon"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(u){var c={name:"Epiphany"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(u){var c={name:"Puffin"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(u){var c={name:"Sleipnir"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(u){var c={name:"K-Meleon"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(u){var c={name:"WeChat"},l=s.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(u){var c={name:/qqbrowserlite/i.test(u)?"QQ Browser Lite":"QQ Browser"},l=s.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(u){var c={name:"Internet Explorer"},l=s.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(u){var c={name:"Microsoft Edge"},l=s.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(u){var c={name:"Microsoft Edge"},l=s.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(u){var c={name:"Vivaldi"},l=s.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(u){var c={name:"SeaMonkey"},l=s.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(u){var c={name:"Sailfish"},l=s.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,u);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(u){var c={name:"Amazon Silk"},l=s.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(u){var c={name:"PhantomJS"},l=s.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(u){var c={name:"SlimerJS"},l=s.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(u){var c={name:"BlackBerry"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(u){var c={name:"WebOS Browser"},l=s.default.getFirstMatch(o,u)||s.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(u){var c={name:"Bada"},l=s.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(u){var c={name:"Tizen"},l=s.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(u){var c={name:"QupZilla"},l=s.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(u){var c={name:"Firefox"},l=s.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(u){var c={name:"Electron"},l=s.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(u){var c={name:"Miui"},l=s.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(u){var c={name:"Chromium"},l=s.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,u)||s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(u){var c={name:"Chrome"},l=s.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(u){var c={name:"Google Search"},l=s.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:function(u){var c=!u.test(/like android/i),l=u.test(/android/i);return c&&l},describe:function(u){var c={name:"Android Browser"},l=s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(u){var c={name:"PlayStation 4"},l=s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(u){var c={name:"Safari"},l=s.default.getFirstMatch(o,u);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(u){var c=u.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:s.default.getFirstMatch(c,u),version:s.default.getSecondMatch(c,u)}}}];n.default=f,r.exports=n.default},93:function(r,n,a){n.__esModule=!0,n.default=void 0;var i,s=(i=a(17))&&i.__esModule?i:{default:i},o=a(18),f=[{test:[/Roku\/DVP/],describe:function(u){var c=s.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,u);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(u){var c=s.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,u);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(u){var c=s.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,u),l=s.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(u){var c={name:o.OS_MAP.iOS},l=s.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,u);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(u){var c=s.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,u).replace(/[_\s]/g,"."),l=s.default.getMacOSVersionName(c),d={name:o.OS_MAP.MacOS,version:c};return l&&(d.versionName=l),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(u){var c=s.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,u).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(u){var c=!u.test(/like android/i),l=u.test(/android/i);return c&&l},describe:function(u){var c=s.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,u),l=s.default.getAndroidVersionName(c),d={name:o.OS_MAP.Android,version:c};return l&&(d.versionName=l),d}},{test:[/(web|hpw)[o0]s/i],describe:function(u){var c=s.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,u),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(u){var c=s.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,u)||s.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,u)||s.default.getFirstMatch(/\bbb(\d+)/i,u);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(u){var c=s.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,u);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(u){var c=s.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,u);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(u){var c=s.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,u);return{name:o.OS_MAP.PlayStation4,version:c}}}];n.default=f,r.exports=n.default},94:function(r,n,a){n.__esModule=!0,n.default=void 0;var i,s=(i=a(17))&&i.__esModule?i:{default:i},o=a(18),f=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(u){var c=s.default.getFirstMatch(/(can-l01)/i,u)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(u){var c=u.test(/ipod|iphone/i),l=u.test(/like (ipod|iphone)/i);return c&&!l},describe:function(u){var c=s.default.getFirstMatch(/(ipod|iphone)/i,u);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(u){return u.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(u){return u.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(u){return u.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(u){var c=Number(String(u.getOSVersion()).split(".")[0]);return u.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(u){return u.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(u){return u.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(u){return u.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(u){return u.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(u){return u.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(u){return u.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];n.default=f,r.exports=n.default},95:function(r,n,a){n.__esModule=!0,n.default=void 0;var i,s=(i=a(17))&&i.__esModule?i:{default:i},o=a(18),f=[{test:function(u){return u.getBrowserName(!0)==="microsoft edge"},describe:function(u){if(/\sedg\//i.test(u))return{name:o.ENGINE_MAP.Blink};var c=s.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,u);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(u){var c={name:o.ENGINE_MAP.Trident},l=s.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:function(u){return u.test(/presto/i)},describe:function(u){var c={name:o.ENGINE_MAP.Presto},l=s.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:function(u){var c=u.test(/gecko/i),l=u.test(/like gecko/i);return c&&!l},describe:function(u){var c={name:o.ENGINE_MAP.Gecko},l=s.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(u){var c={name:o.ENGINE_MAP.WebKit},l=s.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,u);return l&&(c.version=l),c}}];n.default=f,r.exports=n.default}})})})(SO);var lne=SO.exports,dne=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hne=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pne=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mne=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hne(t,e,r);return pne(t,e),t},Ug=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},jg=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(wv,"__esModule",{value:!0});var AO=wv.WebDeviceStorageModule=void 0,Gg=Lh,vne=mne(lne),bne=Pi,Kg="web_device_storage",gne=function(e){dne(t,e);function t(r,n){var a=e.call(this,r)||this;return a._userAgent=n,a}return Object.defineProperty(t.prototype,"userAgent",{get:function(){return this._userAgent},set:function(r){this._userAgent=r},enumerable:!1,configurable:!0}),t.prototype.deleteAll=function(){return Ug(this,void 0,void 0,function(){return jg(this,function(r){return[2,Gg.WebStorageUtils.deleteAll(Kg)]})})},t.prototype.getDeviceInfo=function(){var r,n,a,i,s,o,f,u;if(!this.userAgent)return Promise.reject("User agent required!");var c=vne.getParser(this.userAgent);return Promise.resolve({brand:(n=(r=c.getBrowser())===null||r===void 0?void 0:r.name)!==null&&n!==void 0?n:"",model:(i=(a=c.getBrowser())===null||a===void 0?void 0:a.version)!==null&&i!==void 0?i:"",platform:(o=(s=c.getOS())===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:"",version:(u=(f=c.getOS())===null||f===void 0?void 0:f.version)!==null&&u!==void 0?u:""})},t.prototype.loadAll=function(){return Ug(this,void 0,void 0,function(){return jg(this,function(r){return[2,Gg.WebStorageUtils.loadAll(Kg)]})})},t.prototype.saveAll=function(r){return Ug(this,void 0,void 0,function(){return jg(this,function(n){return[2,Gg.WebStorageUtils.saveAll(r,Kg)]})})},t}(bne.DeviceStorageModule);AO=wv.WebDeviceStorageModule=gne;(function(e){var t=$&&$.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=$&&$.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ev,e),r(Sv,e),r(wv,e)})(_O);var Cv={};const yne=ei(Y7);Object.defineProperty(Cv,"__esModule",{value:!0});var wO=Cv.webCrypto=void 0,_ne=yne;wO=Cv.webCrypto={pbkdf2:function(e,t,r,n,a){return new Promise(function(i){return i(ae.from((0,_ne.pbkdf2)(e,t,r,n,a)))})}};(function(e){var t=$&&$.__createBinding||(Object.create?function(n,a,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,s,o)}:function(n,a,i,s){s===void 0&&(s=i),n[s]=a[i]}),r=$&&$.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(_O,e),r(Cv,e)})(K1);class Tne extends UZ{fetch(t,r){return fetch(t,r)}}class rhe{constructor(){Yn(this,"_tKeyManager");const t=new K1.WebPasswordModule,r={ignoreStateCheck:!0,redirectUri:Ln.identity.getRedirectURL(),ssoClientId:Li.ssoClientId,ssoVerifyUrl:`${Li.walletManagerV2Address}/account/info`,environment:"production",onOpenLink:async n=>{try{const a=n.includes("facebook")?600:450,i=600,s=window.screenLeft!==void 0?window.screenLeft:window.screenX,o=window.screenTop!==void 0?window.screenTop:window.screenY,f=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,u=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=f/window.screen.availWidth,l=(f-a)/2/c+s,d=(u-i)/2/c+o;window.open(n,"_blank",`width=${a},height=${i},left=${l},top=${d}`)}catch{}}};this._tKeyManager=new Jre({randomPassPhraseMethod:new K1.WebRandomPassphrase,infuraId:Li.infuraId,verifier:Li.web3AuthVerifier,backupMetadataUrl:Li.metadataBackupUrl,enableLogging:!1,seedPhraseConfig:{size:12,strength:128},isUseSeedPhrase:!1,crypto:wO,accountProvider:new Tne(r),modules:{passwordModule:t,storageModule:new AO({},window.navigator.userAgent)},storeDeviceShare:!0}),t.setTKeyManager(this._tKeyManager),this._tKeyManager.setup(Pi.TORUS_NETWORK.MAINNET)}get tKeyManager(){return this._tKeyManager}async unlock(t){try{const r=await this.tKeyManager.reconstructKey(t);if(this.tKeyManager.getAccountStatus()===Pi.AccountStatus.DELETING)throw Pi.TKeyResultCode.INVALID_DEVICE_SHARE;if(!r)return!1}catch(r){if(r.code===Pi.TKeyResultCode.DEVICE_SHARE_NOT_EXISTED)return!1;throw r.code===Pi.TKeyResultCode.INVALID_DEVICE_SHARE||r.code===Pi.TKeyResultCode.PASSWORD_CACHE_NOT_EXISTED||r===Pi.TKeyResultCode.INVALID_DEVICE_SHARE?Pi.TKeyResultCode.INVALID_DEVICE_SHARE:Error(Ou.common.errors.invalidPasscode)}return!0}async reset(){await this.tKeyManager.deleteSharesRelateToPinCode(!0)}async getTKeyAccount(){try{const t=await this.tKeyManager.getDeviceShareDescription(),r=await this.tKeyManager.getTorusShareDescription(),n=await this.tKeyManager.getPasswordShareDescription(),a=this.tKeyManager.getTKey().getKeyDetails();return{threshold:a.threshold,totalShares:a.totalShares,devicesInfo:t,userInfo:r,passwordInfo:n,accountStatus:this.tKeyManager.getAccountStatus()}}catch{return}}}const Ene="_fullWidth_v4rup_1",Sne={fullWidth:Ene};var Ane=(e=>(e.Heading1="heading_1",e.Heading2="heading_2",e.Heading3="heading_3",e.Heading4="heading_4",e.Heading5="heading_5",e.Heading6="heading_6",e.Text1="text_1",e.Text2="text_2",e.Text3="text_3",e.Text4="text_4",e.LabelMd="label_md",e.LabelSm="label_sm",e))(Ane||{});const Wg={heading_1:60,heading_2:52,heading_3:36,heading_4:30,heading_5:28,heading_6:28,text_1:26,text_2:22,text_3:20,text_4:16,label_md:16,label_sm:14},wne=({level:e="text_3",width:t,fullWidth:r,...n})=>Z.jsx(sm.Skeleton,{width:r?void 0:t||100,height:(Wg==null?void 0:Wg[e])-3,className:r&&Sne.fullWidth,...n}),gT=()=>{const{data:e,isLoading:t,refetch:r}=bi({queryKey:[ia.ALL_CHAINS],queryFn:async()=>{const m=await Tn.get(),v=m.chains,b=r7(v),g=Ge.isEmpty(m==null?void 0:m.activeChainIds)?[In.RONIN]:m.activeChainIds,y=g.map(C=>n7(C));return{...m,chains:v,activeChains:y,activeChainIds:g,enabledChains:b}}});return R.useEffect(()=>{const m=()=>r();return Tn.subscribe(m),()=>{Tn.unSubscribe(m)}},[r]),{data:e,isLoading:t,setActiveChainIds:async m=>{if(!(m!=null&&m.length))return;!m.includes(In.RONIN)&&!(e!=null&&e.isSingleChain)&&m.push(In.RONIN);const v=e.enabledChains.filter(b=>m.includes(b.chainId)).map(b=>b.chainId);return await Tn.setActiveChainIds(v)},toggleShowBalance:async m=>await Tn.toggleShowBalance(m),setCustomToken:async(m,v)=>await Tn.setCustomToken(m,v),updateCustomToken:async(m,v)=>await Tn.updateCustomToken(m,v),addCurrentReceiver:async m=>await Tn.setCurrentReceivers([m]),setCurrency:m=>Tn.setCurrency(m),setHiddenTokens:async(m,v)=>await Tn.setHiddenToken(m,v),toggleSingleChain:async m=>await Tn.toggleSingleChain(m),toggleHideLowValue:async m=>await Tn.toggleHideLowValue(m),setEnableTracking:async m=>{await Tn.setEnableTracking(m),await to.setEnableTrack(m)},setTrackingConsent:m=>Tn.setTrackingConsent(m),setIsOverwriteEthereum:m=>Tn.setIsOverwriteEthereum(m)}},nhe=()=>{const{refetch:e,...t}=bi({queryKey:[ia.TEMP_STORE],queryFn:async()=>await Ns.get()});return R.useEffect(()=>{const s=()=>e();return Ns.subscribe(s),()=>{Ns.unSubscribe(s)}},[e]),{data:t,setActivityChanged:s=>Ns.setActivityChanged(s),setPendingTx:s=>Ns.setPendingTx(s),setShownExpiredSession:s=>Ns.setShownExpiredSession(s),setLedgerConnected:s=>Ns.setLedgerConnected(s)}},Cne="_layoutWithBorder_k6e0y_1",Ine="_layoutWithoutBorder_k6e0y_1",Pne="_xIcon_k6e0y_14",Nne="_closeText_k6e0y_20",One="_borderContent_k6e0y_27",xne="_content_k6e0y_32",Rne="_footer_k6e0y_35",Dne="_t2_k6e0y_39",Mne="_dialogWithOverlay_k6e0y_43",ts={layoutWithBorder:Cne,layoutWithoutBorder:Ine,xIcon:Pne,closeText:Nne,borderContent:One,content:xne,footer:Rne,t2:Dne,dialogWithOverlay:Mne};var Lne=(e=>(e[e.TextClose=0]="TextClose",e[e.IconClose=1]="IconClose",e[e.TextDone=2]="TextDone",e))(Lne||{});const kne=e=>{const{visible:t=!0,hasBorder:r=!1,showClose:n=!0,closeType:a=1,title:i,content:s,footer:o,onClose:f,className:u,footerClassName:c}=e,l=d=>{d.target===d.currentTarget&&n&&(f==null||f())};return t?Z.jsx("div",{className:ts.dialogWithOverlay,onClick:l,children:Z.jsxs("div",{className:Nt(r?ts.layoutWithBorder:ts.layoutWithoutBorder,u),children:[n&&Z.jsx(Z.Fragment,{children:a===1?Z.jsx(iI,{className:ts.xIcon,size:24,color:"#EFF1F5",onClick:f}):Z.jsx(ut.Text,{bold:!0,level:"2",className:ts.closeText,onClick:f,children:a===2?Ou.common.done:Ou.common.close})}),i&&(typeof i=="string"?Z.jsx(ut.Text,{className:ts.t2,level:"2",bold:!0,children:i}):i),Z.jsx("div",{className:r?ts.borderContent:ts.content,children:s}),Z.jsx("div",{className:Nt(ts.footer,c),children:o})]})}):null},wu=e=>{const{when:t,children:r}=e;return t?Z.jsx(Z.Fragment,{children:r}):null};function y0(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(u){try{f(n.next(u))}catch(c){i(c)}}function o(u){try{f(n.throw(u))}catch(c){i(c)}}function f(u){var c;u.done?a(u.value):(c=u.value,c instanceof r?c:new r(function(l){l(c)})).then(s,o)}f((n=n.apply(e,t||[])).next())})}var mi;(function(e){e.PublicResolverLogic="PublicResolverLogic",e.Multicall="Multicall",e.RNSUnified="RNSUnified"})(mi||(mi={}));const qg={[mi.RNSUnified]:[{inputs:[],stateMutability:"payable",type:"constructor"},{inputs:[],name:"CannotSetImmutableField",type:"error"},{inputs:[],name:"ExceedParentExpiry",type:"error"},{inputs:[],name:"Expired",type:"error"},{inputs:[],name:"ExpiryTimeMustBeLargerThanTheOldOne",type:"error"},{inputs:[],name:"MissingControllerRole",type:"error"},{inputs:[],name:"MissingProtectedSettlerRole",type:"error"},{inputs:[],name:"NameMustBeRegisteredOrInGracePeriod",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"Unavailable",type:"error"},{inputs:[],name:"Unexists",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"BaseURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"uint64",name:"newGracePeriod",type:"uint64"}],name:"GracePeriodUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"_nonce",type:"uint256"}],name:"NonceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"node",type:"uint256"},{indexed:!1,internalType:"ModifyingIndicator",name:"indicator",type:"uint256"},{components:[{components:[{internalType:"uint8",name:"depth",type:"uint8"},{internalType:"uint256",name:"parentId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],internalType:"struct INSUnified.ImmutableRecord",name:"immut",type:"tuple"},{components:[{internalType:"address",name:"resolver",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint64",name:"expiry",type:"uint64"},{internalType:"bool",name:"protected",type:"bool"}],internalType:"struct INSUnified.MutableRecord",name:"mut",type:"tuple"}],indexed:!1,internalType:"struct INSUnified.Record",name:"record",type:"tuple"}],name:"RecordUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"CONTROLLER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_EXPIRY",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PROTECTED_SETTLER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RESERVATION_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"available",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"bool",name:"protected",type:"bool"}],name:"bulkSetProtected",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"ModifyingIndicator",name:"indicator",type:"uint256"}],name:"canSetRecord",outputs:[{internalType:"bool",name:"allowed",type:"bool"},{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getDomain",outputs:[{internalType:"string",name:"domain",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGracePeriod",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getRecord",outputs:[{components:[{components:[{internalType:"uint8",name:"depth",type:"uint8"},{internalType:"uint256",name:"parentId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],internalType:"struct INSUnified.ImmutableRecord",name:"immut",type:"tuple"},{components:[{internalType:"address",name:"resolver",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint64",name:"expiry",type:"uint64"},{internalType:"bool",name:"protected",type:"bool"}],internalType:"struct INSUnified.MutableRecord",name:"mut",type:"tuple"}],internalType:"struct INSUnified.Record",name:"record",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"admin",type:"address"},{internalType:"address",name:"pauser",type:"address"},{internalType:"address",name:"controller",type:"address"},{internalType:"address",name:"protectedSettler",type:"address"},{internalType:"uint64",name:"gracePeriod",type:"uint64"},{internalType:"string",name:"baseTokenURI",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"parentId",type:"uint256"},{internalType:"string",name:"label",type:"string"},{internalType:"address",name:"resolver",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint64",name:"duration",type:"uint64"}],name:"mint",outputs:[{internalType:"uint64",name:"expiryTime",type:"uint64"},{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"namehash",outputs:[{internalType:"bytes32",name:"hashed",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"reclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint64",name:"duration",type:"uint64"}],name:"renew",outputs:[{internalType:"uint64",name:"expiry",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseTokenURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint64",name:"expiry",type:"uint64"}],name:"setExpiry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"gracePeriod",type:"uint64"}],name:"setGracePeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"ModifyingIndicator",name:"indicator",type:"uint256"},{components:[{internalType:"address",name:"resolver",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint64",name:"expiry",type:"uint64"},{internalType:"bool",name:"protected",type:"bool"}],internalType:"struct INSUnified.MutableRecord",name:"mutRecord",type:"tuple"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stateOf",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}],[mi.Multicall]:[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3[]",name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3Value[]",name:"calls",type:"tuple[]"}],name:"aggregate3Value",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBasefee",outputs:[{internalType:"uint256",name:"basefee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"chainid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}],[mi.PublicResolverLogic]:[{inputs:[],stateMutability:"payable",type:"constructor"},{inputs:[],name:"InvalidContentType",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"addr",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!0,internalType:"bool",name:"approved",type:"bool"}],name:"Approved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContentHashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"},{indexed:!1,internalType:"string",name:"value",type:"string"}],name:"TextChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"newVersion",type:"uint64"}],name:"VersionChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"clearRecords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contentHash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNameWrapper",outputs:[{internalType:"contract INameWrapper",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRegistry",outputs:[{internalType:"contract INSRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTrustedRONController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTrustedReverseRegistrar",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract INSRegistry",name:"registry",type:"address"},{internalType:"contract INameWrapper",name:"nameWrapper",type:"address"},{internalType:"address",name:"trustedRONController",type:"address"},{internalType:"address",name:"trustedReverseRegistrar",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"delegate",type:"address"}],name:"isApprovedFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"isAuthorized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicallWithNodeCheck",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordVersions",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentType",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setABI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"addr_",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"hash",type:"bytes"}],name:"setContentHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setDNSRecords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"},{internalType:"address",name:"implementer",type:"address"}],name:"setInterface",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"newName",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"},{internalType:"string",name:"value",type:"string"}],name:"setText",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"hash",type:"bytes"}],name:"setZonehash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"tryMulticall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}]},Bne={[mi.PublicResolverLogic]:{addresses:{[In.SAIGON]:"0x803c459dcb8771e5354d1fc567ecc6885a9fd5e6",[In.RONIN]:"0xadb077d236d9e81fb24b96ae9cb8089ab9942d48"},abi:qg.PublicResolverLogic},[mi.Multicall]:{addresses:{[In.SAIGON]:"0x31c9ef8a631e2489e69833df3b2cb4bf0dc413bc",[In.RONIN]:"0xc76d0d0d3aa608190f78db02bf2f5aef374fc0b9"},abi:qg.Multicall},[mi.RNSUnified]:{addresses:{[In.SAIGON]:"0xf0c99c9677eda0d13291c093b27e6512e4acdf83",[In.RONIN]:"0x67c409dab0ee741a1b1be874bd1333234cfdbf44"},abi:qg.RNSUnified}},i6="0x0000000000000000000000000000000000000000",s6=e=>`${(e.startsWith("0x")?e.substring(2):e).toLowerCase()}.addr.reverse`;let CO=class{constructor(){Object.defineProperty(this,"providers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.providers={[In.RONIN]:new eE("https://api.roninchain.com/rpc",In.RONIN,{staticNetwork:tE.from(In.RONIN),batchMaxCount:5}),[In.SAIGON]:new eE("https://saigon-testnet.roninchain.com/rpc",In.SAIGON,{staticNetwork:tE.from(In.SAIGON),batchMaxCount:5})}}getContract(t,r,n){const a=n??this.providers[r],{addresses:i,abi:s}=Bne[t],o=i[r];return o?new m4(o,s,a):null}getPublicResolver(t,r){return this.getContract(mi.PublicResolverLogic,t,r)}getRNSUnified(t,r){return this.getContract(mi.RNSUnified,t,r)}getMulticall(t,r){return this.getContract(mi.Multicall,t,r)}getName(t,r){return y0(this,void 0,void 0,function*(){try{const n=fb(t),a=this.getPublicResolver(r);if(!a)throw new Error("Public resolver not found");const i=yield a.name(Yh(s6(n)));return i===""?null:i}catch{return null}})}getAddress(t,r){return y0(this,void 0,void 0,function*(){const n=this.getRNSUnified(r);if(!n)throw new Error("Public resolver not found");const a=yield n.ownerOf(Yh(t));return a===i6?null:a})}multicallGetAddresses(t,r){return y0(this,void 0,void 0,function*(){const n=this.getMulticall(r);if(!n)throw new Error("Multicall not found");const a=this.getRNSUnified(r);if(!a)throw new Error("Public resolver not found");const i=rE.defaultAbiCoder(),s=yield a.getAddress(),o=t.map(c=>[s,a.interface.encodeFunctionData("ownerOf",[Yh(c)])]),f=yield n.tryAggregate.staticCall(!1,o),u={};return f.toArray().forEach((c,l)=>{const[d,h]=c.toArray();if(d){const p=i.decode(["address"],h)[0];u[t[l]]=p===i6?null:fb(p)}else u[t[l]]=null}),u})}multicallGetNames(t,r){return y0(this,void 0,void 0,function*(){const n=this.getMulticall(r);if(!n)throw new Error("Multicall not found");const a=this.getPublicResolver(r);if(!a)throw new Error("Public resolver not found");const i=rE.defaultAbiCoder(),s=yield a.getAddress(),o=t.map(c=>[s,a.interface.encodeFunctionData("name",[Yh(s6(c))])]),f=yield n.tryAggregate.staticCall(!1,o),u={};return f.toArray().map((c,l)=>{const[d,h]=c.toArray(),p=fb(t[l]);if(d){const m=i.decode(["string"],h)[0];if(m===""||G7(m)!==m)return void(u[p]=null);u[p]=m}else u[p]=null}),u})}};const Fne=e=>{var s;const t=new CO,{data:r}=gT(),n=(s=r==null?void 0:r.activeChainIds)==null?void 0:s[0],{isLoading:a,...i}=bi({queryKey:[ia.RNS_RESOLVE_ADDRESS,e,n],queryFn:async()=>t.getName(e,n),enabled:!Ge.isNil(n)});return{rnsInfo:i,isLoading:a}},ihe=()=>{const{openToast:e,contextHolder:t}=tI({closable:!0,maxCount:2});return{showToast:n=>{e({icon:n.icon??Ko,title:n.title,duration:n.duration??5,intent:n.intent??qt.Default,content:Z.jsx(ut.Text,{color:"gray",level:"3",children:n.content}),rightElement:n.rightElement})},contextHolder:t}},she=1/0,ohe=3,IO=R.createContext({openToast:()=>{}}),uhe=({children:e})=>{const{openToast:t,contextHolder:r}=tI({closable:!0,maxCount:5}),n=R.useMemo(()=>({openToast:t}),[t]);return Z.jsxs(IO.Provider,{value:n,children:[e,r]})},_0={duration:5,placement:"topRight"},PO=()=>{const{openToast:e}=R.useContext(IO);return{toast:i=>{e({..._0,...i})},toastInfo:({title:i,content:s})=>{e({..._0,title:i,content:s,intent:qt.Info,icon:Ko})},toastSuccess:({title:i,content:s})=>{e({..._0,title:i,content:s,intent:qt.Success,icon:wc})},toastError:({title:i,content:s})=>{e({..._0,title:i,content:s,intent:qt.Danger,icon:dU})}}},Hne=e=>{var s;const t=new CO,{data:r}=gT(),n=(s=r==null?void 0:r.activeChainIds)==null?void 0:s[0],{isLoading:a,...i}=bi({queryKey:[ia.RNS_RESOLVE_NAME,e,n],queryFn:async()=>t.getAddress(e,n),enabled:!Ge.isNil(n)});return{rnsInfo:i,isLoading:a}},$ne="_container_ib4jb_1",Une="_rnsContainer_ib4jb_9",jne="_rnsName_ib4jb_14",Gne="_primaryName_ib4jb_19",Kne="_normalName_ib4jb_22",Is={container:$ne,rnsContainer:Une,rnsName:jne,primaryName:Gne,normalName:Kne},Wne=e=>{const{address:t,inputValue:r,handleOnClick:n}=e,{rnsInfo:{data:a},isLoading:i}=Fne(t);return R.useEffect(()=>{const s=o=>{o.key==="Enter"&&n(t)};return document.addEventListener("keypress",s),()=>{document.removeEventListener("keypress",s)}},[t]),i?Z.jsx(sm.Skeleton,{width:40}):Z.jsx("div",{className:Is.container,role:"button",tabIndex:0,onClick:()=>{n(t)},children:a?Z.jsxs("div",{className:Is.rnsContainer,children:[Z.jsxs("div",{className:Is.rnsName,children:[Z.jsx(ut.Text,{level:"3",bold:!0,className:Is.primaryName,children:a}),r!==a&&Z.jsx(ut.Text,{level:"3",bold:!0,className:Is.normalName,children:`(${r})`})]}),Z.jsx(ut.Text,{level:"3",bold:!0,className:Is.normalName,children:t})]}):Z.jsxs("div",{className:Is.rnsName,children:[Z.jsx(ut.Text,{level:"3",bold:!0,children:r}),Z.jsx(ut.Text,{level:"3",className:Is.normalName,children:t})]})})},qne="_container_uw6b1_1",Vne="_textWarning_uw6b1_9",Vg={container:qne,textWarning:Vne},che=e=>{const{name:t,handleOnClick:r}=e,{rnsInfo:{data:n},isLoading:a}=Hne(t);return a?Z.jsxs("div",{className:Vg.container,children:[Z.jsx(sm.Circle,{size:dd.Small,intent:qt.Secondary}),Z.jsx(ut.Label,{intent:qt.Secondary,level:ap.Medium,children:"Loading"})]}):n?Z.jsx(Wne,{address:n,inputValue:t,handleOnClick:r}):Z.jsxs("div",{className:Vg.container,children:[Z.jsx(hU,{size:16}),Z.jsx(ut.Label,{level:ap.Medium,intent:qt.Secondary,className:Vg.textWarning,children:"Cannot find any address"})]})},fhe="/assets/png/Wallet.chunk.png",lhe="/assets/png/Import.chunk.png",zne="_wrapper_1m9b3_1",Yne="_container_1m9b3_10",Xne="_reveal_1m9b3_19",zg={wrapper:zne,container:Yne,reveal:Xne},Jne=e=>{const{onShow:t,onHide:r,isShow:n,children:a}=e,i=R.useRef(!1);R.useEffect(()=>(i.current=!1,()=>{i.current=!0}),[]);const s=()=>{t&&t(),setTimeout(()=>{i.current||r&&r()},15e3)};return Z.jsxs("div",{className:zg.wrapper,children:[Z.jsx("div",{className:zg.container,style:{filter:n?void 0:"blur(6px)"},children:a}),!n&&Z.jsx("div",{className:zg.reveal,children:Z.jsx(Pu,{text:Ou.reveal.recoveryPhrase.revealRecoveryPhrase,variant:nh.Plain,onClick:s,icon:aU})})]})},Qne="_key_4ts84_1",Zne="_word_4ts84_6",eae="_index_4ts84_11",Yg={key:Qne,word:Zne,index:eae},dhe=e=>{const{seedPhrase:t="",onRevealSeed:r}=e,n=R.useRef(!1),[a,i]=R.useState(!1);R.useEffect(()=>(n.current=!1,()=>{n.current=!0}),[]);const s=()=>{i(!0),r&&r()},o=()=>{i(!1)},f=t.split(" ");return Z.jsx(Jne,{onShow:s,onHide:o,isShow:a,children:f.map((u,c)=>Z.jsxs("div",{className:Yg.key,children:[Z.jsx(ut.Text,{level:"2",intent:qt.Secondary,className:Yg.index,children:c+1}),Z.jsx(ut.Text,{level:"2",className:Yg.word,translate:"no",children:u})]},c))})},tae=e=>{const t=new DataView(e);let r="";for(let n=0;n<t.byteLength;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");return r},rae=e=>async(t,{outputFormat:r="hex"}={})=>{typeof t=="string"&&(t=new globalThis.TextEncoder().encode(t));const n=await globalThis.crypto.subtle.digest(e,t);return r==="hex"?tae(n):n},nae=rae("SHA-256"),T0=["openid","offline","mpc:wallet"];class aae{constructor(t){Yn(this,"loginParams");Yn(this,"state");Yn(this,"codeVerifier");Yn(this,"formatQueryFrom",t=>{const r=Object.entries(t).reduce((n,[a,i])=>(n=n.concat(`${a}=${i}&`),n),"");return r.slice(0,r.length-1)});this.loginParams=t}async getUrl(t,r,n,a,i,s){this.state=i||new Date().getTime().toString(),this.codeVerifier=this.generateRandomString(128);const o=await this.generateCodeChallenge(this.codeVerifier),f={client_id:this.loginParams.ssoClientId,redirect_uri:this.loginParams.redirectUri,scope:T0.join("+"),state:this.state,request_type:t||"login",response_type:r,ux_mode:"redirect",nonce:String(new Date().getTime()),remember:!1,prompt:"login",audience:this.loginParams.ssoClientId,code_challenge:o,code_challenge_method:"S256",...s??{}};n&&(f.select_provider=n),a&&(f.providers=a.join(","));const u=this.formatQueryFrom(f);return`${this.loginParams.baseSsoUrl}/oauth2/auth?${u}`}async parseResult(t,r){var o,f,u,c;if(r!==this.state)throw Error("Invalid response");const{status:n,data:a}=await this.loginParams.baseApi("/wallet-manager/v2/public/account/info",{method:"POST",data:JSON.stringify({code:t,redirect_uri:this.loginParams.redirectUri,client_id:this.loginParams.ssoClientId,scope:T0.join("+"),code_verifier:this.codeVerifier}),headers:{"Content-type":"application/json; charset=UTF-8"}}),i=a;if(n!=200||lb(i))throw i;const s=g7(i.access_token);return{address:i.addr,accessToken:i.access_token,email:i.email,idToken:i.id_token,name:i.name,sub:i.sub,refreshToken:i.refresh_token,walletType:(o=s==null?void 0:s.ext)==null?void 0:o.wallet_type,createdAt:(f=s==null?void 0:s.ext)==null?void 0:f.created_at,linkedAt:(u=s==null?void 0:s.ext)==null?void 0:u.linked_at,status:(c=s==null?void 0:s.ext)==null?void 0:c.status}}async linkAccount(t,r,n,a,i){const{status:s,data:o}=await this.loginParams.baseApi.post("/wallet-manager/v2/public/account/link",{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:n,message:t,signature:r,address:a,scope:T0.join("+"),is_migration:i||!1})});if(s!==200||lb(o))throw o}async refreshToken(t){const{status:r,data:n}=await this.loginParams.baseApi("/wallet-manager/v2/public/account/refresh-token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({refresh_token:t,scope:T0.join("+")})});if(r===401)throw"EXPIRED_TOKEN";if(!(r!==200||lb(n)))return{accessToken:n==null?void 0:n.access_token,refreshToken:n==null?void 0:n.refresh_token}}generateRandomString(t){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=new Uint8Array(t);window.crypto.getRandomValues(n);let a="";for(let i=0;i<t;i++)a+=r==null?void 0:r.charAt(n[i]%r.length);return a}base64UrlEncode(t){let r=t.toString("base64");return r=r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),r}async generateCodeChallenge(t){const r=ae.from(t,"ascii"),n=await nae(r);return this.base64UrlEncode(ae.from(n,"hex"))}}const hhe=new aae({ssoClientId:Li.ssoClientId,redirectUri:Ln.identity.getRedirectURL(),baseSsoUrl:Li.ssoUrl,baseApi:n4.walletManagerApi}),iae="_wrap_d8dcy_1",sae="_container_d8dcy_5",oae="_logo_d8dcy_13",uae="_h3_d8dcy_18",cae="_h4_d8dcy_21",fae="_containerBtn_d8dcy_24",lae="_button1_d8dcy_27",dae="_input_d8dcy_31",hae="_t2_d8dcy_35",pae="_t2note_d8dcy_39",mae="_h6_d8dcy_42",Jr={wrap:iae,container:sae,logo:oae,h3:uae,h4:cae,containerBtn:fae,button1:lae,input:dae,t2:hae,t2note:pae,h6:mae},vae="/assets/png/RecoveryPassword.chunk.png",bae="_backButton_1kmyd_1",gae={backButton:bae},yae=({onBack:e})=>Z.jsx(Pu,{className:gae.backButton,text:"Back",shape:ro.Rounded,icon:Z$,variant:nh.Plain,onClick:()=>e()}),_ae="_wrap_kr7nk_1",Tae="_container_kr7nk_6",Eae="_row_kr7nk_12",Sae="_row1_kr7nk_19",ma={wrap:_ae,container:Tae,row:Eae,row1:Sae},Aae=e=>{const t=((e==null?void 0:e.length)??0)<8,r=(e==null?void 0:e.toLowerCase())===e,n=(e==null?void 0:e.toUpperCase())===e,a=!/\d/.test(e??""),i=!/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e??"");return{isLessThan8:t,isNoLowercase:n,isNoUppercase:r,isNoNumber:a,isNoSymbol:i,isValid:!t&&!n&&!a&&!r&&!i}},wae=({password:e,onValidate:t})=>{const{isLessThan8:r,isNoLowercase:n,isNoUppercase:a,isNoNumber:i,isNoSymbol:s,isValid:o}=Aae(e??"");return R.useEffect(()=>{t(o)},[o,t]),Z.jsxs("div",{className:ma.wrap,children:[Z.jsxs("div",{className:ma.container,children:[r?Z.jsxs(ut.Text,{className:ma.row,level:"3",color:"gray",children:[Z.jsx("div",{children:Z.jsx(Ko,{})}),"At least 8 characters"]}):Z.jsxs(ut.Text,{className:ma.row1,level:"3",children:[Z.jsx("div",{children:Z.jsx(wc,{})}),"At least 8 characters"]}),a?Z.jsxs(ut.Text,{className:ma.row,level:"3",color:"gray",children:[Z.jsx("div",{children:Z.jsx(Ko,{})}),"1 uppercase letter"]}):Z.jsxs(ut.Text,{className:ma.row1,level:"3",children:[Z.jsx("div",{children:Z.jsx(wc,{})}),"1 uppercase letter"]}),n?Z.jsxs(ut.Text,{className:ma.row,level:"3",color:"gray",children:[Z.jsx("div",{children:Z.jsx(Ko,{})}),"1 lowercase letter"]}):Z.jsxs(ut.Text,{className:ma.row1,level:"3",children:[Z.jsx("div",{children:Z.jsx(wc,{})}),"1 lowercase letter"]})]}),Z.jsxs("div",{className:ma.container,children:[i?Z.jsxs(ut.Text,{className:ma.row,level:"3",color:"gray",children:[Z.jsx("div",{children:Z.jsx(Ko,{})}),"1 number"]}):Z.jsxs(ut.Text,{className:ma.row1,level:"3",children:[Z.jsx("div",{children:Z.jsx(wc,{})}),"1 number"]}),s?Z.jsxs(ut.Text,{className:ma.row,level:"3",color:"gray",children:[Z.jsx("div",{children:Z.jsx(Ko,{})}),"1 symbol character"]}):Z.jsxs(ut.Text,{className:ma.row1,level:"3",children:[Z.jsx("div",{children:Z.jsx(wc,{})}),"1 symbol character"]})]})]})},Cae="_content_15p1k_1",Iae={content:Cae},Pae=e=>{const{children:t}=e;return Z.jsx(sC.div,{className:Nt(Iae.content,e.className??""),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.75,ease:"easeOut",type:"tween",x:"100%"},children:t})},o6=(e,t)=>t===void 0?!1:t!==e,phe=e=>{const[t,r]=R.useState(1),[n,a]=R.useState(!1),[i,s]=R.useState(!1),[o,f]=R.useState(!1),[u,c]=R.useState(),[l,d]=R.useState(),[h,p]=R.useState(!1),[m,v]=R.useState(!1),b=R.useRef(!1),g=P=>{c(P.target.value),t!==1&&r(1)},y=P=>{d(P.target.value);const O=o6(u,P.target.value);p(O)},C=P=>{to.sendEvent(oo.Click,uo.Onboarding,co.CreatePassword+" - "+e1.Next),P.preventDefault(),b.current=!1;const O=o6(u,l);p(O),!O&&u&&e.onComplete(u)},I=h?qt.Danger:void 0;return Z.jsxs(Pae,{children:[Z.jsx(yae,{onBack:()=>{e.onBack(),to.sendEvent(oo.Click,uo.Onboarding,co.CreatePassword+" - "+e1.Cancel)}}),Z.jsx("form",{onSubmit:C,children:Z.jsxs("div",{className:Jr.wrap,children:[Z.jsxs("div",{className:Jr.container,children:[t===1?Z.jsx(ut.Heading,{className:Jr.h3,level:"3",children:"Create Recovery Password"}):Z.jsx(ut.Heading,{className:Jr.h3,level:"3",children:"Confirm Recovery Password"}),t===1?Z.jsx(ut.Heading,{className:Jr.h4,level:"4",color:"gray",children:"Use this to restore your wallet on different device"}):Z.jsx(ut.Heading,{className:Jr.h4,level:"4",color:"gray",children:"Please confirm your password"}),Z.jsx(yp,{autoFocus:!0,label:"Recovery Password",type:o?"text":"password",onChange:g,className:Jr.input,shape:ro.Rounded,suffixIcon:Z.jsx(TA,{isShow:o,onToggleShow:f}),withBackground:!0,placeholder:"Enter your password"}),t===1&&Z.jsxs("div",{className:Jr.containerBtn,children:[Z.jsx(wae,{password:u,onValidate:P=>a(P)}),Z.jsx(Pu,{disabled:!n,className:Jr.button1,intent:qt.Primary,text:"Continue",onClick:()=>{r(2)}})]}),t===2&&Z.jsxs("div",{className:Jr.containerBtn,children:[Z.jsx(yp,{label:"Confirm Recovery Password",type:i?"text":"password",onChange:y,intent:I,caption:I?"Mismatched password":void 0,className:Jr.input,shape:ro.Rounded,suffixIcon:Z.jsx(TA,{isShow:i,onToggleShow:s}),withBackground:!0,placeholder:"Re-enter your password"}),Z.jsx(L$,{className:Jr.checkbox,label:"I understand that SkyMavis cannot recover this Secret Recovery Password",checked:m,onClick:()=>v(!m)}),Z.jsx(Pu,{className:Jr.button1,disabled:!!(h||!m),intent:qt.Primary,text:"Confirm",onClick:()=>{b.current=!0}})]})]}),Z.jsxs("div",{className:Jr.container,children:[Z.jsx("img",{src:vae,className:Jr.logo,alt:"password"}),Z.jsx(ut.Heading,{className:Jr.h6,level:"6",children:"What is a Recovery Password?"}),Z.jsxs(ut.Text,{className:Jr.t2,level:"2",children:["The combination of this standalone password and your Sky Mavis account allows you to control your wallet in a user-friendly, non-custodial way. ",Z.jsx("br",{})," ",Z.jsx("br",{}),"Please keep this secure, as no one besides you should have access to this password."]}),Z.jsx(ut.Text,{className:Jr.t2note,level:"2",children:"Note: If you are using email. This password is separate and different from your Sky Mavis account password."})]})]})})]})};var NO=(e=>(e.DATE_TIME="YYYY-MM-DD HH:mm:ss",e.DATE="YYYY-MM-DD",e.TIME="HH:mm:ss",e.TIME_WITHOUT_SECOND="HH:mm",e.LOCAL_TIME="LT",e.STANDARD="MMM DD, YYYY [at] HH:mm",e.SHORT_DATE="MMM DD, YYYY",e.DAY_ONLY="DD",e.TIME_LEFT="DD HH:mm:ss",e))(NO||{}),OO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($,function(){var r,n,a=1e3,i=6e4,s=36e5,o=864e5,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,c=2628e6,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:c,days:o,hours:s,minutes:i,seconds:a,milliseconds:1,weeks:6048e5},h=function(P){return P instanceof C},p=function(P,O,N){return new C(P,N,O.$l)},m=function(P){return n.p(P)+"s"},v=function(P){return P<0},b=function(P){return v(P)?Math.ceil(P):Math.floor(P)},g=function(P){return Math.abs(P)},y=function(P,O){return P?v(P)?{negative:!0,format:""+g(P)+O}:{negative:!1,format:""+P+O}:{negative:!1,format:""}},C=function(){function P(N,S,D){var w=this;if(this.$d={},this.$l=D,N===void 0&&(this.$ms=0,this.parseFromMilliseconds()),S)return p(N*d[m(S)],this);if(typeof N=="number")return this.$ms=N,this.parseFromMilliseconds(),this;if(typeof N=="object")return Object.keys(N).forEach(function(_){w.$d[m(_)]=N[_]}),this.calMilliseconds(),this;if(typeof N=="string"){var T=N.match(l);if(T){var x=T.slice(2).map(function(_){return _!=null?Number(_):0});return this.$d.years=x[0],this.$d.months=x[1],this.$d.weeks=x[2],this.$d.days=x[3],this.$d.hours=x[4],this.$d.minutes=x[5],this.$d.seconds=x[6],this.calMilliseconds(),this}}return this}var O=P.prototype;return O.calMilliseconds=function(){var N=this;this.$ms=Object.keys(this.$d).reduce(function(S,D){return S+(N.$d[D]||0)*d[D]},0)},O.parseFromMilliseconds=function(){var N=this.$ms;this.$d.years=b(N/u),N%=u,this.$d.months=b(N/c),N%=c,this.$d.days=b(N/o),N%=o,this.$d.hours=b(N/s),N%=s,this.$d.minutes=b(N/i),N%=i,this.$d.seconds=b(N/a),N%=a,this.$d.milliseconds=N},O.toISOString=function(){var N=y(this.$d.years,"Y"),S=y(this.$d.months,"M"),D=+this.$d.days||0;this.$d.weeks&&(D+=7*this.$d.weeks);var w=y(D,"D"),T=y(this.$d.hours,"H"),x=y(this.$d.minutes,"M"),_=this.$d.seconds||0;this.$d.milliseconds&&(_+=this.$d.milliseconds/1e3,_=Math.round(1e3*_)/1e3);var M=y(_,"S"),L=N.negative||S.negative||w.negative||T.negative||x.negative||M.negative,F=T.format||x.format||M.format?"T":"",G=(L?"-":"")+"P"+N.format+S.format+w.format+F+T.format+x.format+M.format;return G==="P"||G==="-P"?"P0D":G},O.toJSON=function(){return this.toISOString()},O.format=function(N){var S=N||"YYYY-MM-DDTHH:mm:ss",D={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return S.replace(f,function(w,T){return T||String(D[w])})},O.as=function(N){return this.$ms/d[m(N)]},O.get=function(N){var S=this.$ms,D=m(N);return D==="milliseconds"?S%=1e3:S=D==="weeks"?b(S/d[D]):this.$d[D],S||0},O.add=function(N,S,D){var w;return w=S?N*d[m(S)]:h(N)?N.$ms:p(N,this).$ms,p(this.$ms+w*(D?-1:1),this)},O.subtract=function(N,S){return this.add(N,S,!0)},O.locale=function(N){var S=this.clone();return S.$l=N,S},O.clone=function(){return p(this.$ms,this)},O.humanize=function(N){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!N)},O.valueOf=function(){return this.asMilliseconds()},O.milliseconds=function(){return this.get("milliseconds")},O.asMilliseconds=function(){return this.as("milliseconds")},O.seconds=function(){return this.get("seconds")},O.asSeconds=function(){return this.as("seconds")},O.minutes=function(){return this.get("minutes")},O.asMinutes=function(){return this.as("minutes")},O.hours=function(){return this.get("hours")},O.asHours=function(){return this.as("hours")},O.days=function(){return this.get("days")},O.asDays=function(){return this.as("days")},O.weeks=function(){return this.get("weeks")},O.asWeeks=function(){return this.as("weeks")},O.months=function(){return this.get("months")},O.asMonths=function(){return this.as("months")},O.years=function(){return this.get("years")},O.asYears=function(){return this.as("years")},P}(),I=function(P,O,N){return P.add(O.years()*N,"y").add(O.months()*N,"M").add(O.days()*N,"d").add(O.hours()*N,"h").add(O.minutes()*N,"m").add(O.seconds()*N,"s").add(O.milliseconds()*N,"ms")};return function(P,O,N){r=N,n=N().$utils(),N.duration=function(w,T){var x=N.locale();return p(w,{$l:x},T)},N.isDuration=h;var S=O.prototype.add,D=O.prototype.subtract;O.prototype.add=function(w,T){return h(w)?I(this,w,1):S.bind(this)(w,T)},O.prototype.subtract=function(w,T){return h(w)?I(this,w,-1):D.bind(this)(w,T)}}})})(OO);var Nae=OO.exports;const Oae=Ts(Nae);var xO={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var f=s.prototype;o.utc=function(m){var v={date:m,utc:!0,args:arguments};return new s(v)},f.utc=function(m){var v=o(this.toDate(),{locale:this.$L,utc:!0});return m?v.add(this.utcOffset(),r):v},f.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=f.parse;f.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=f.init;f.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var l=f.utcOffset;f.utcOffset=function(m,v){var b=this.$utils().u;if(b(m))return this.$u?0:b(this.$offset)?l.call(this):this.$offset;if(typeof m=="string"&&(m=function(I){I===void 0&&(I="");var P=I.match(n);if(!P)return null;var O=(""+P[0]).match(a)||["-",0,0],N=O[0],S=60*+O[1]+ +O[2];return S===0?0:N==="+"?S:-S}(m),m===null))return this;var g=Math.abs(m)<=16?60*m:m,y=this;if(v)return y.$offset=g,y.$u=m===0,y;if(m!==0){var C=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(y=this.local().add(g+C,r)).$offset=g,y.$x.$localOffset=C}else y=this.utc();return y};var d=f.format;f.format=function(m){var v=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,v)},f.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var h=f.toDate;f.toDate=function(m){return m==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=f.diff;f.diff=function(m,v,b){if(m&&this.$u===m.$u)return p.call(this,m,v,b);var g=this.local(),y=o(m).local();return p.call(g,y,v,b)}}})})(xO);var xae=xO.exports;const Rae=Ts(xae);p_.extend(Oae);p_.extend(Rae);const RO=p_,Dae=({prefix:e=null,suffix:t=null,value:r,format:n=NO.DATE_TIME,onFinished:a,...i})=>{const[s,o]=R.useState(r),f=R.useRef(),u=R.useRef(!1),c=R.useCallback(()=>{Ge.isNil(f.current)||clearInterval(f.current)},[]);return R.useEffect(()=>(f.current=setInterval(()=>{o(l=>l<=0?(c(),0):l<=999&&!u.current?(u.current=!0,c(),a==null||a(),0):l-oy)},oy),()=>c()),[c]),s<=0?null:Z.jsxs(ut.Text,{level:"3",color:i.color??"gray",children:[e,RO.duration(s).format(n).replace(/\b0+(?![s])[a-z]+\s*/gi,"").trim(),t]})};var Mae=(e=>(e.IN_GAME_ITEM="in_game_item",e.IN_GAME_TOKEN="in_game_token",e.ON_CHAIN_TOKEN="on_chain_token",e))(Mae||{}),W1=(e=>(e.REQUESTED="requested",e.NOT_ELIGIBLE="not_eligible",e.REJECTED="rejected",e.DISTRIBUTED="distributed",e.CLAIMABLE="claimable",e))(W1||{}),Lae=(e=>(e.INSTANT="instant",e.SCHEDULE="scheduled",e))(Lae||{});const kae=(e,...t)=>R.useMemo(()=>{try{return new e(...t)}catch(r){return Yt.error("[create_contract_error]",r),null}},[e,t]),Bae=dm(e=>({isCheckingIn:!1,setIsCheckingIn:t=>e({isCheckingIn:t})}));class Fae{constructor(t,r,n){Yn(this,"_contract");Yn(this,"_chainId");Yn(this,"_address");Yn(this,"_provider");const a=y7.getProvider(n);this._provider=a,this._contract=new m4(t,r,a),this._address=t,this._chainId=n}get provider(){return this._provider}get contract(){return this._contract}get address(){return this._address}get chainId(){return this._chainId}}const Hae=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyCheckedIn",type:"error"},{inputs:[],name:"DailyLimitExceeded",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"CheckedIn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limitDailyCheckIn",type:"uint256"}],name:"LimitDailyCheckInUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"MAX_QUERY_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERIOD_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"checkIn",stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"computePeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"period",type:"uint256"}],name:"getCheckInCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getCurrentStreak",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"offset",type:"uint256"}],name:"getHistory",outputs:[{internalType:"uint256",name:"numPeriod",type:"uint256"},{internalType:"uint256[]",name:"periods",type:"uint256[]"},{internalType:"uint256[]",name:"streakCounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getLastUpdatedPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLimitDailyCheckIn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPeriodStartTimeInUTC",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"period",type:"uint256"}],name:"getStreakAtPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"limitDailyCheckIn",type:"uint256"},{internalType:"uint256",name:"periodStartTimeInUTC",type:"uint256"}],name:"initialize",stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isCheckedInToday",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isMissedCheckIn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"limitDailyCheckIn",type:"uint256"}],name:"setLimitDailyCheckIn",stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",stateMutability:"nonpayable",type:"function"}],u6=Li.roninContracts.checkIn;class $ae extends Fae{constructor(){super(u6.address,Hae,u6.chainId)}getCurrentStreak(t){return this.contract.getCurrentStreak(t)}isCheckedInToday(t){return this.contract.isCheckedInToday(t)}periodEndAt(){return this.contract.getPeriodStartTimeInUTC()}getLastUpdatedPeriod(t){return this.contract.getLastUpdatedPeriod(t)}async checkIn(t){const r={name:_7.RONIN_DAILY_CHECK_IN,url:"https://wallet.roninchain.com"},n=await this.contract.checkIn.populateTransaction(t,{from:t}),a=await T7({method:E7.eth_sendTransaction,params:[{...n,chainId:this.chainId}]},r);if(Ge.get(a,"error"))throw new Error(Ge.get(a,"error.message",""));const i=Ge.get(a,"result","");return this.provider.waitForTransaction(i,1,2e4)}}const Uae=()=>{var v,b;const e=kae($ae),t=qf(),{toastError:r}=PO(),{data:n}=gT(),{accountInfo:a}=dI(),{isCheckingIn:i,setIsCheckingIn:s}=Bae(),o=(b=(v=a==null?void 0:a.data)==null?void 0:v.currentAccount)==null?void 0:b.address,f=Ge.get(n,"isSingleChain",!1),u=Li.roninContracts.checkIn,{data:c,isLoading:l}=bi({queryKey:[ia.RONIN_DAILY_STREAK,o],queryFn:async()=>e.getCurrentStreak(o).then(g=>Number(g)).catch(g=>(Yt.error("[fetch_data_streak]",g),0)),staleTime:0,enabled:!Ge.isNil(o)}),{data:d,isLoading:h}=bi({queryKey:[ia.TIME_TO_CHECK_IN,o],queryFn:async()=>{try{const[g,y]=await Promise.all([e.isCheckedInToday(o).then(I=>!!I),e.periodEndAt().then(I=>Number(I))]);return g?RO.utc().add(1,"day").startOf("day").toDate().getTime()+y*oy:0}catch(g){Yt.error("[fetch_data_period]",g)}},staleTime:0,enabled:!Ge.isNil(o)}),p=fm({mutationKey:[ah.CHECK_IN,o],mutationFn:()=>e.checkIn(o),onMutate:()=>s(!0),onSuccess:async()=>{to.sendEvent(oo.Click,uo.CheckIn,co.OnQuestListing,{action_properties:{check_in_status:!0}}),await Promise.all([t.refetchQueries({queryKey:[ia.TIME_TO_CHECK_IN,o]}),t.refetchQueries({queryKey:[ia.RONIN_DAILY_STREAK,o]})])},onError:g=>{to.sendEvent(oo.Click,uo.CheckIn,co.OnQuestListing,{action_properties:{check_in_status:!1}}),Yt.error("[wallet_daily_check_in]",g)},onSettled:()=>s(!1)});return{currentStreaks:c||0,nextTimeCheckIn:d,loading:i||h||l,handleRoninCheckIn:async()=>{var C;const g=u.chainId,y=(C=n.chains.find(I=>I.chainId===g))==null?void 0:C.displayName;if(f&&(n==null?void 0:n.activeChainIds[0])!==g){r({content:`Please switch to ${y} network to check-in.`});return}if(!f&&!(n!=null&&n.activeChainIds.includes(g))){r({content:`Please add ${y} network to check-in.`});return}p.mutate()}}},Iv=(e,t)=>{const r=Nm();return bi({queryKey:[ia.QUEST_DETAILS,e,r],queryFn:async()=>await S7({questId:e,address:r}),retry:1,staleTime:0,...t})};var Md=(e=>(e.X="twitter",e.DISCORD="discord",e))(Md||{});const mhe=(e,t,r,n,a,i)=>{const s=Date.now();return[cr.REWARD_REQUESTED,cr.REWARD_REJECTED].includes(i)?Co.COMPLETED:s<=a&&i===cr.COMPLETED?Co.REQUEST_REWARD:s<t?Co.UPCOMING:s>=t&&s<e&&!n?Co.ELIGIBLE_TO_JOIN:s>=t&&s<r&&i!==cr.COMPLETED?Co.IN_PROGRESS:s>=r?Co.EXPIRED:Co.UNABLE_TO_JOIN},jae=e=>{switch(e){case yu.X:return Md.X;case yu.Discord:return Md.DISCORD;default:return}},Gae=()=>v4.randomBytes(32).toString("hex"),Kae=e=>v4.createHash("sha256").update(e).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]+$/,""),vhe=e=>{const t=Ge.get(e,"logoUrl"),r=Ge.get(e,"title",""),n=Ge.get(e,"sponsorName",""),a=Ge.get(e,"rewards",[]),i=Ge.get(e,"endAt",0),s=Ge.get(e,"requestRewardDeadline",0),o=Ge.get(e,"progressStatus",cr.IN_PROGRESS);return{image:t,name:r,sponsor:n,rewards:a,progressStatus:o,endTime:i,rewardRequestDeadline:s}},Wae=e=>{const t=Date.now(),r=Ge.get(e,"endAt",0),n=Ge.get(e,"requestRewardDeadline",0),a=Ge.get(e,"progressStatus",cr.NOT_TAKEN),i=Ge.get(e,"eligibleJoinTime",0);if(Ge.get(e,"startAt",0)>t)return ba.Upcoming;if(a===cr.NOT_TAKEN&&i<t&&t<r)return ba.UnableToJoin;if(a===cr.NOT_TAKEN&&t<r)return ba.TakeQuest;if(a===cr.IN_PROGRESS&&t<r){if(!Ge.get(e,"conditionMet"))return ba.ConditionNotMet;if(Ge.get(e,"conditionMet")===!0)return ba.ActionNeeded}if((a===cr.IN_PROGRESS||a===cr.NOT_TAKEN)&&t>=r)return ba.Expired;if(a===cr.COMPLETED&&t>=n)return ba.RequestRewardExpired;if(a===cr.COMPLETED&&t<n)return ba.RequestRewards;if(a===cr.REWARD_REQUESTED){const f=Ge.get(e,"rewards",[]).map(u=>u.status);return f.includes(W1.DISTRIBUTED)||f.includes(W1.CLAIMABLE)?ba.RewardDistributed:ba.RewardRequested}return a===cr.REWARD_REJECTED?ba.RewardRejected:null},aa=Symbol.for("@ts-pattern/matcher"),DO=Symbol.for("@ts-pattern/isVariadic"),zp="@ts-pattern/anonymous-select-key",q1=e=>!!(e&&typeof e=="object"),Y0=e=>e&&!!e[aa],pn=(e,t,r)=>{if(Y0(e)){const n=e[aa](),{matched:a,selections:i}=n.match(t);return a&&i&&Object.keys(i).forEach(s=>r(s,i[s])),a}if(q1(e)){if(!q1(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],a=[],i=[];for(const s of e.keys()){const o=e[s];Y0(o)&&o[DO]?i.push(o):i.length?a.push(o):n.push(o)}if(i.length){if(i.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+a.length)return!1;const s=t.slice(0,n.length),o=a.length===0?[]:t.slice(-a.length),f=t.slice(n.length,a.length===0?1/0:-a.length);return n.every((u,c)=>pn(u,s[c],r))&&a.every((u,c)=>pn(u,o[c],r))&&(i.length===0||pn(i[0],f,r))}return e.length===t.length&&e.every((s,o)=>pn(s,t[o],r))}return Object.keys(e).every(n=>{const a=e[n];return(n in t||Y0(i=a)&&i[aa]().matcherType==="optional")&&pn(a,t[n],r);var i})}return Object.is(t,e)},Oa=e=>{var t,r,n;return q1(e)?Y0(e)?(t=(r=(n=e[aa]()).getSelectionKeys)==null?void 0:r.call(n))!=null?t:[]:Array.isArray(e)?Ld(e,Oa):Ld(Object.values(e),Oa):[]},Ld=(e,t)=>e.reduce((r,n)=>r.concat(t(n)),[]);function qae(...e){if(e.length===1){const[t]=e;return r=>pn(t,r,()=>{})}if(e.length===2){const[t,r]=e;return pn(t,r,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}function mn(e){return Object.assign(e,{optional:()=>yT(e),and:t=>fr(e,t),or:t=>MO(e,t),select:t=>t===void 0?kd(e):kd(t,e)})}function V1(e){return Object.assign((t=>Object.assign(t,{[Symbol.iterator](){let r=0;const n=[{value:Object.assign(t,{[DO]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var a;return(a=n[r++])!=null?a:n.at(-1)}}}}))(e),{optional:()=>V1(yT(e)),select:t=>V1(t===void 0?kd(e):kd(t,e))})}function yT(e){return mn({[aa]:()=>({match:t=>{let r={};const n=(a,i)=>{r[a]=i};return t===void 0?(Oa(e).forEach(a=>n(a,void 0)),{matched:!0,selections:r}):{matched:pn(e,t,n),selections:r}},getSelectionKeys:()=>Oa(e),matcherType:"optional"})})}const Vae=(e,t)=>{for(const r of e)if(!t(r))return!1;return!0},zae=(e,t)=>{for(const[r,n]of e.entries())if(!t(n,r))return!1;return!0};function fr(...e){return mn({[aa]:()=>({match:t=>{let r={};const n=(a,i)=>{r[a]=i};return{matched:e.every(a=>pn(a,t,n)),selections:r}},getSelectionKeys:()=>Ld(e,Oa),matcherType:"and"})})}function MO(...e){return mn({[aa]:()=>({match:t=>{let r={};const n=(a,i)=>{r[a]=i};return Ld(e,Oa).forEach(a=>n(a,void 0)),{matched:e.some(a=>pn(a,t,n)),selections:r}},getSelectionKeys:()=>Ld(e,Oa),matcherType:"or"})})}function Ut(e){return{[aa]:()=>({match:t=>({matched:!!e(t)})})}}function kd(...e){const t=typeof e[0]=="string"?e[0]:void 0,r=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return mn({[aa]:()=>({match:n=>{let a={[t??zp]:n};return{matched:r===void 0||pn(r,n,(i,s)=>{a[i]=s}),selections:a}},getSelectionKeys:()=>[t??zp].concat(r===void 0?[]:Oa(r))})})}function Ci(e){return typeof e=="number"}function Ds(e){return typeof e=="string"}function Ms(e){return typeof e=="bigint"}const LO=mn(Ut(function(e){return!0})),Yae=LO,Ls=e=>Object.assign(mn(e),{startsWith:t=>{return Ls(fr(e,(r=t,Ut(n=>Ds(n)&&n.startsWith(r)))));var r},endsWith:t=>{return Ls(fr(e,(r=t,Ut(n=>Ds(n)&&n.endsWith(r)))));var r},minLength:t=>Ls(fr(e,(r=>Ut(n=>Ds(n)&&n.length>=r))(t))),length:t=>Ls(fr(e,(r=>Ut(n=>Ds(n)&&n.length===r))(t))),maxLength:t=>Ls(fr(e,(r=>Ut(n=>Ds(n)&&n.length<=r))(t))),includes:t=>{return Ls(fr(e,(r=t,Ut(n=>Ds(n)&&n.includes(r)))));var r},regex:t=>{return Ls(fr(e,(r=t,Ut(n=>Ds(n)&&!!n.match(r)))));var r}}),Xae=Ls(Ut(Ds)),Ii=e=>Object.assign(mn(e),{between:(t,r)=>Ii(fr(e,((n,a)=>Ut(i=>Ci(i)&&n<=i&&a>=i))(t,r))),lt:t=>Ii(fr(e,(r=>Ut(n=>Ci(n)&&n<r))(t))),gt:t=>Ii(fr(e,(r=>Ut(n=>Ci(n)&&n>r))(t))),lte:t=>Ii(fr(e,(r=>Ut(n=>Ci(n)&&n<=r))(t))),gte:t=>Ii(fr(e,(r=>Ut(n=>Ci(n)&&n>=r))(t))),int:()=>Ii(fr(e,Ut(t=>Ci(t)&&Number.isInteger(t)))),finite:()=>Ii(fr(e,Ut(t=>Ci(t)&&Number.isFinite(t)))),positive:()=>Ii(fr(e,Ut(t=>Ci(t)&&t>0))),negative:()=>Ii(fr(e,Ut(t=>Ci(t)&&t<0)))}),Jae=Ii(Ut(Ci)),ks=e=>Object.assign(mn(e),{between:(t,r)=>ks(fr(e,((n,a)=>Ut(i=>Ms(i)&&n<=i&&a>=i))(t,r))),lt:t=>ks(fr(e,(r=>Ut(n=>Ms(n)&&n<r))(t))),gt:t=>ks(fr(e,(r=>Ut(n=>Ms(n)&&n>r))(t))),lte:t=>ks(fr(e,(r=>Ut(n=>Ms(n)&&n<=r))(t))),gte:t=>ks(fr(e,(r=>Ut(n=>Ms(n)&&n>=r))(t))),positive:()=>ks(fr(e,Ut(t=>Ms(t)&&t>0))),negative:()=>ks(fr(e,Ut(t=>Ms(t)&&t<0)))}),Qae=ks(Ut(Ms)),Zae=mn(Ut(function(e){return typeof e=="boolean"})),eie=mn(Ut(function(e){return typeof e=="symbol"})),tie=mn(Ut(function(e){return e==null})),rie=mn(Ut(function(e){return e!=null}));var z1={__proto__:null,matcher:aa,optional:yT,array:function(...e){return V1({[aa]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(e.length===0)return{matched:!0};const r=e[0];let n={};if(t.length===0)return Oa(r).forEach(i=>{n[i]=[]}),{matched:!0,selections:n};const a=(i,s)=>{n[i]=(n[i]||[]).concat([s])};return{matched:t.every(i=>pn(r,i,a)),selections:n}},getSelectionKeys:()=>e.length===0?[]:Oa(e[0])})})},set:function(...e){return mn({[aa]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let r={};if(t.size===0)return{matched:!0,selections:r};if(e.length===0)return{matched:!0};const n=(i,s)=>{r[i]=(r[i]||[]).concat([s])},a=e[0];return{matched:Vae(t,i=>pn(a,i,n)),selections:r}},getSelectionKeys:()=>e.length===0?[]:Oa(e[0])})})},map:function(...e){return mn({[aa]:()=>({match:t=>{if(!(t instanceof Map))return{matched:!1};let r={};if(t.size===0)return{matched:!0,selections:r};const n=(o,f)=>{r[o]=(r[o]||[]).concat([f])};if(e.length===0)return{matched:!0};var a;if(e.length===1)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${(a=e[0])==null?void 0:a.toString()}`);const[i,s]=e;return{matched:zae(t,(o,f)=>{const u=pn(i,f,n),c=pn(s,o,n);return u&&c}),selections:r}},getSelectionKeys:()=>e.length===0?[]:[...Oa(e[0]),...Oa(e[1])]})})},intersection:fr,union:MO,not:function(e){return mn({[aa]:()=>({match:t=>({matched:!pn(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:Ut,select:kd,any:LO,_:Yae,string:Xae,number:Jae,bigint:Qae,boolean:Zae,symbol:eie,nullish:tie,nonNullable:rie,instanceOf:function(e){return mn(Ut(function(t){return r=>r instanceof t}(e)))},shape:function(e){return mn(Ut(qae(e)))}};const Y1={matched:!1,value:void 0};function Bd(e){return new Yp(e,Y1)}class Yp{constructor(t,r){this.input=void 0,this.state=void 0,this.input=t,this.state=r}with(...t){if(this.state.matched)return this;const r=t[t.length-1],n=[t[0]];let a;t.length===3&&typeof t[1]=="function"?a=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let i=!1,s={};const o=(u,c)=>{i=!0,s[u]=c},f=!n.some(u=>pn(u,this.input,o))||a&&!a(this.input)?Y1:{matched:!0,value:r(i?zp in s?s[zp]:s:this.input,this.input)};return new Yp(this.input,f)}when(t,r){if(this.state.matched)return this;const n=!!t(this.input);return new Yp(this.input,n?{matched:!0,value:r(this.input,this.input)}:Y1)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let t;try{t=JSON.stringify(this.input)}catch{t=this.input}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}run(){return this.exhaustive()}returnType(){return this}}const _T=({questId:e,activityType:t})=>{const{data:r,isLoading:n}=Iv(e);return R.useMemo(()=>{if(t===ji.PRE_CONDITION)return{data:Iu(r,"preconditions",[]),isFetching:n};if(t===ji.ACTION)return{data:Iu(r,"actions",[]),isFetching:n}},[r])},nie=dm(e=>({visibleAddToCalender:!1,setVisibleAddToCalender:t=>e(r=>({...r,visibleAddToCalender:t})),checkinDialog:!1,setCheckinDialog:t=>e(r=>({...r,checkinDialog:t})),takeQuestDialog:!1,setTakeQuestDialog:t=>e(r=>({...r,takeQuestDialog:t}))})),bhe=({questId:e})=>{const t=Nm();return fm({mutationKey:[ah.PRE_CHECK_QUEST,e,t],mutationFn:()=>A7({questId:e,address:t}),gcTime:0,retry:0})},kO=(e,t)=>{var i;const r=NR({filters:{mutationKey:[ah.PRE_CHECK_QUEST,e]},select:s=>s.state.error}),n=Ge.get(r[0],"response.data.error_extra_info");if(Ge.isEmpty(t)||Ge.isEmpty(n))return{isQuestError:!Ge.isEmpty(n)};let a="";try{const s=(i=n==null?void 0:n.activities)==null?void 0:i.find(o=>(o==null?void 0:o.id)===t);s&&(a=s==null?void 0:s.error)}catch(s){console.error("Failed to parse error message",s)}return{isQuestError:!Ge.isEmpty(n),isActivityError:!Ge.isEmpty(a),error:a}},TT=e=>{const{data:t}=Iv(e),r=Iu(t,"progressStatus",cr.NOT_TAKEN);return R.useMemo(()=>r!==cr.NOT_TAKEN,[r])},aie="_condition_17dcp_1",E0={condition:aie},iie=({granted:e})=>{const t=e?Z.jsx(aI,{color:"#52E08D",className:E0.conditionIcon,size:24}):Z.jsx(lU,{className:E0.conditionIcon,color:"#5294F8",size:24});return Z.jsxs("div",{className:Nt(E0.condition),children:[t,Z.jsx(ut.Text,{level:"3",className:e?E0.conditionMetText:null,children:"Everyone can join"})]})},sie="_once_15jei_1",oie="_socials_15jei_8",uie="_condition_15jei_12",cie="_conditionMetText_15jei_18",fie="_content_15jei_22",lie="_nonCollapsible_15jei_28",die="_header_15jei_38",X0={once:sie,socials:oie,condition:uie,conditionMetText:cie,content:fie,nonCollapsible:lie,header:die},hie="_description_1ymv0_1",pie="_icon_1ymv0_7",ci={description:hie,icon:pie},BO=({status:e,activity:t,error:r})=>{const n=Ge.get(t,"ctaType");return Z.jsxs("div",{className:Nt(ci.description),children:[Bd(e).with(cr.COMPLETED,()=>Z.jsx(aI,{color:"#52E08D",size:20,className:ci.icon})).otherwise(()=>Z.jsx(Z.Fragment,{children:r?Z.jsx(iI,{color:"#F6515E",size:20,className:ci.icon}):Bd(n).with(hr.CHECKIN,()=>Z.jsx(eU,{size:20,color:"#5294F8",className:ci.icon})).with(hr.JOIN,()=>Z.jsx(tU,{size:20,color:"#5294F8",className:ci.icon})).with(hr.LOGIN,()=>Z.jsx(uU,{size:20,color:"#5294F8",className:ci.icon})).with(hr.REGISTER,()=>Z.jsx(fU,{size:20,color:"#5294F8",className:ci.icon})).with(hr.SHARE,()=>Z.jsx(rU,{size:20,color:"#5294F8",className:ci.icon})).with(z1.union(hr.BUYAXIE,hr.BUYAXIESUMMER),()=>Z.jsx(oU,{size:20,color:"#5294F8",className:ci.icon})).otherwise(()=>Z.jsx(cU,{size:20,color:"#5294F8",className:ci.icon}))})),Z.jsx(ut.Text,{level:"3",intent:qt.Default,className:ci.description,children:Ge.get(t,"description")})]})},mie="https://cdn.syndication.twimg.com";class vie extends Error{constructor({message:t,status:r,data:n}){super(t),this.name="TwitterApiError",this.status=r,this.data=n}}const bie=/^[0-9]+$/;function gie(e){return(Number(e)/1e15*Math.PI).toString(6**2).replace(/(0+|\.)/g,"")}async function yie(e,t){var r;if(e.length>40||!bie.test(e))throw new Error(`Invalid tweet id: ${e}`);const n=new URL(`${mie}/tweet-result`);n.searchParams.set("id",e),n.searchParams.set("lang","en"),n.searchParams.set("features",["tfw_timeline_list:","tfw_follower_count_sunset:true","tfw_tweet_edit_backend:on","tfw_refsrc_session:on","tfw_fosnr_soft_interventions_enabled:on","tfw_show_birdwatch_pivots_enabled:on","tfw_show_business_verified_badge:on","tfw_duplicate_scribes_to_settings:on","tfw_use_profile_image_shape_enabled:on","tfw_show_blue_verified_badge:on","tfw_legacy_timeline_sunset:true","tfw_show_gov_verified_badge:on","tfw_show_business_affiliate_badge:on","tfw_tweet_edit_frontend:on"].join(";")),n.searchParams.set("token",gie(e));const a=await fetch(n.toString(),t),s=((r=a.headers.get("content-type"))==null?void 0:r.includes("application/json"))?await a.json():void 0;if(a.ok)return(s==null?void 0:s.__typename)==="TweetTombstone"?{tombstone:!0}:{data:s};if(a.status===404)return{notFound:!0};throw new vie({message:typeof s.error=="string"?s.error:`Failed to fetch tweet at "${n}" with "${a.status}".`,status:a.status,data:s})}const _ie=(e,t)=>bi({queryKey:["tweets",e],queryFn:async()=>{const{data:r,tombstone:n,notFound:a}=await yie(e,t);if(r)return r;if(n||a)return null}}),Tie="_card_11g0x_1",Eie="_banner_11g0x_9",Sie="_content_11g0x_17",Aie="_title_11g0x_21",wie="_description_11g0x_27",Cie="_link_11g0x_33",Xg={card:Tie,banner:Eie,content:Sie,title:Aie,description:wie,link:Cie},Iie=e=>{const{url:t}=e,r=R.useMemo(()=>{try{return new URL(t).pathname.split("/").pop()}catch{return t}},[t]),{data:n}=_ie(r),a=Ge.get(n,"text",""),i=Ge.get(n,"user.name","");return Z.jsx("div",{className:Xg.card,children:Z.jsxs("div",{className:Xg.content,children:[Z.jsx(ut.Label,{level:ap.Medium,bold:!0,children:i}),Z.jsx(ut.Text,{color:"gray",level:"3",className:Xg.description,children:a}),Z.jsx(ut.Text,{level:"3",color:"gray",children:"x.com"})]})})},Pie="_card_11g0x_1",Nie="_banner_11g0x_9",Oie="_content_11g0x_17",xie="_title_11g0x_21",Rie="_description_11g0x_27",Die="_link_11g0x_33",S0={card:Pie,banner:Nie,content:Oie,title:xie,description:Rie,link:Die};var Fd={},FO={},HO={};Object.defineProperty(HO,"__esModule",{value:!0});var Pv={},hl={},Xp=$&&$.__assign||function(){return Xp=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Xp.apply(this,arguments)};Object.defineProperty(hl,"__esModule",{value:!0});hl.flatten=void 0;var Mie={xml:!1,decodeEntities:!0};hl.default=Mie;var c6={_useHtmlParser2:!0,xmlMode:!0};function Lie(e){return e!=null&&e.xml?typeof e.xml=="boolean"?c6:Xp(Xp({},c6),e.xml):e??void 0}hl.flatten=Lie;var Rr={},vi={},xa={},Bn={},pl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(pl);var xt={},To=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ad=$&&$.__assign||function(){return ad=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ad.apply(this,arguments)};Object.defineProperty(xt,"__esModule",{value:!0});xt.cloneNode=xt.hasChildren=xt.isDocument=xt.isDirective=xt.isComment=xt.isText=xt.isCDATA=xt.isTag=xt.Element=xt.Document=xt.CDATA=xt.NodeWithChildren=xt.ProcessingInstruction=xt.Comment=xt.Text=xt.DataNode=xt.Node=void 0;var ca=pl,ET=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),ST(this,t)},e}();xt.Node=ET;var Nv=function(e){To(t,e);function t(r){var n=e.call(this)||this;return n.data=r,n}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),t}(ET);xt.DataNode=Nv;var $O=function(e){To(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=ca.ElementType.Text,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Nv);xt.Text=$O;var UO=function(e){To(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=ca.ElementType.Comment,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Nv);xt.Comment=UO;var jO=function(e){To(t,e);function t(r,n){var a=e.call(this,n)||this;return a.name=r,a.type=ca.ElementType.Directive,a}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Nv);xt.ProcessingInstruction=jO;var Ov=function(e){To(t,e);function t(r){var n=e.call(this)||this;return n.children=r,n}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),t}(ET);xt.NodeWithChildren=Ov;var GO=function(e){To(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=ca.ElementType.CDATA,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(Ov);xt.CDATA=GO;var KO=function(e){To(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=ca.ElementType.Root,r}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(Ov);xt.Document=KO;var WO=function(e){To(t,e);function t(r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=r==="script"?ca.ElementType.Script:r==="style"?ca.ElementType.Style:ca.ElementType.Tag);var s=e.call(this,a)||this;return s.name=r,s.attribs=n,s.type=i,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var a,i;return{name:n,value:r.attribs[n],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[n],prefix:(i=r["x-attribsPrefix"])===null||i===void 0?void 0:i[n]}})},enumerable:!1,configurable:!0}),t}(Ov);xt.Element=WO;function qO(e){return(0,ca.isTag)(e)}xt.isTag=qO;function VO(e){return e.type===ca.ElementType.CDATA}xt.isCDATA=VO;function zO(e){return e.type===ca.ElementType.Text}xt.isText=zO;function YO(e){return e.type===ca.ElementType.Comment}xt.isComment=YO;function XO(e){return e.type===ca.ElementType.Directive}xt.isDirective=XO;function JO(e){return e.type===ca.ElementType.Root}xt.isDocument=JO;function kie(e){return Object.prototype.hasOwnProperty.call(e,"children")}xt.hasChildren=kie;function ST(e,t){t===void 0&&(t=!1);var r;if(zO(e))r=new $O(e.data);else if(YO(e))r=new UO(e.data);else if(qO(e)){var n=t?Jg(e.children):[],a=new WO(e.name,ad({},e.attribs),n);n.forEach(function(f){return f.parent=a}),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=ad({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=ad({},e["x-attribsPrefix"])),r=a}else if(VO(e)){var n=t?Jg(e.children):[],i=new GO(n);n.forEach(function(u){return u.parent=i}),r=i}else if(JO(e)){var n=t?Jg(e.children):[],s=new KO(n);n.forEach(function(u){return u.parent=s}),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),r=s}else if(XO(e)){var o=new jO(e.name,e.data);e["x-name"]!=null&&(o["x-name"]=e["x-name"],o["x-publicId"]=e["x-publicId"],o["x-systemId"]=e["x-systemId"]),r=o}else throw new Error("Not implemented yet: ".concat(e.type));return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}xt.cloneNode=ST;function Jg(e){for(var t=e.map(function(n){return ST(n,!0)}),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}(function(e){var t=$&&$.__createBinding||(Object.create?function(o,f,u,c){c===void 0&&(c=u);var l=Object.getOwnPropertyDescriptor(f,u);(!l||("get"in l?!f.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return f[u]}}),Object.defineProperty(o,c,l)}:function(o,f,u,c){c===void 0&&(c=u),o[c]=f[u]}),r=$&&$.__exportStar||function(o,f){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(f,u)&&t(f,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var n=pl,a=xt;r(xt,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function o(f,u,c){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=i),typeof f=="object"&&(u=f,f=void 0),this.callback=f??null,this.options=u??i,this.elementCB=c??null}return o.prototype.onparserinit=function(f){this.parser=f},o.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(f){this.handleCallback(f)},o.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},o.prototype.onopentag=function(f,u){var c=this.options.xmlMode?n.ElementType.Tag:void 0,l=new a.Element(f,u,void 0,c);this.addNode(l),this.tagStack.push(l)},o.prototype.ontext=function(f){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=f,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new a.Text(f);this.addNode(c),this.lastNode=c}},o.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=f;return}var u=new a.Comment(f);this.addNode(u),this.lastNode=u},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var f=new a.Text(""),u=new a.CDATA([f]);this.addNode(u),f.parent=u,this.lastNode=f},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(f,u){var c=new a.ProcessingInstruction(f,u);this.addNode(c)},o.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},o.prototype.addNode=function(f){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),u.children.push(f),c&&(f.prev=c,c.next=f),f.parent=u,this.lastNode=null},o}();e.DomHandler=s,e.default=s})(Bn);var ml={},QO={},Mf={},AT={};Object.defineProperty(AT,"__esModule",{value:!0});AT.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(e){return e.charCodeAt(0)}));var wT={};Object.defineProperty(wT,"__esModule",{value:!0});wT.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(e){return e.charCodeAt(0)}));var X1={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);e.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(i){var s="";return i>65535&&(i-=65536,s+=String.fromCharCode(i>>>10&1023|55296),i=56320|i&1023),s+=String.fromCharCode(i),s};function n(i){var s;return i>=55296&&i<=57343||i>1114111?65533:(s=r.get(i))!==null&&s!==void 0?s:i}e.replaceCodePoint=n;function a(i){return(0,e.fromCodePoint)(n(i))}e.default=a})(X1);(function(e){var t=$&&$.__createBinding||(Object.create?function(w,T,x,_){_===void 0&&(_=x);var M=Object.getOwnPropertyDescriptor(T,x);(!M||("get"in M?!T.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return T[x]}}),Object.defineProperty(w,_,M)}:function(w,T,x,_){_===void 0&&(_=x),w[_]=T[x]}),r=$&&$.__setModuleDefault||(Object.create?function(w,T){Object.defineProperty(w,"default",{enumerable:!0,value:T})}:function(w,T){w.default=T}),n=$&&$.__importStar||function(w){if(w&&w.__esModule)return w;var T={};if(w!=null)for(var x in w)x!=="default"&&Object.prototype.hasOwnProperty.call(w,x)&&t(T,w,x);return r(T,w),T},a=$&&$.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var i=a(AT);e.htmlDecodeTree=i.default;var s=a(wT);e.xmlDecodeTree=s.default;var o=n(X1);e.decodeCodePoint=o.default;var f=X1;Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var u;(function(w){w[w.NUM=35]="NUM",w[w.SEMI=59]="SEMI",w[w.EQUALS=61]="EQUALS",w[w.ZERO=48]="ZERO",w[w.NINE=57]="NINE",w[w.LOWER_A=97]="LOWER_A",w[w.LOWER_F=102]="LOWER_F",w[w.LOWER_X=120]="LOWER_X",w[w.LOWER_Z=122]="LOWER_Z",w[w.UPPER_A=65]="UPPER_A",w[w.UPPER_F=70]="UPPER_F",w[w.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var c=32,l;(function(w){w[w.VALUE_LENGTH=49152]="VALUE_LENGTH",w[w.BRANCH_LENGTH=16256]="BRANCH_LENGTH",w[w.JUMP_TABLE=127]="JUMP_TABLE"})(l=e.BinTrieFlags||(e.BinTrieFlags={}));function d(w){return w>=u.ZERO&&w<=u.NINE}function h(w){return w>=u.UPPER_A&&w<=u.UPPER_F||w>=u.LOWER_A&&w<=u.LOWER_F}function p(w){return w>=u.UPPER_A&&w<=u.UPPER_Z||w>=u.LOWER_A&&w<=u.LOWER_Z||d(w)}function m(w){return w===u.EQUALS||p(w)}var v;(function(w){w[w.EntityStart=0]="EntityStart",w[w.NumericStart=1]="NumericStart",w[w.NumericDecimal=2]="NumericDecimal",w[w.NumericHex=3]="NumericHex",w[w.NamedEntity=4]="NamedEntity"})(v||(v={}));var b;(function(w){w[w.Legacy=0]="Legacy",w[w.Strict=1]="Strict",w[w.Attribute=2]="Attribute"})(b=e.DecodingMode||(e.DecodingMode={}));var g=function(){function w(T,x,_){this.decodeTree=T,this.emitCodePoint=x,this.errors=_,this.state=v.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=b.Strict}return w.prototype.startEntity=function(T){this.decodeMode=T,this.state=v.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},w.prototype.write=function(T,x){switch(this.state){case v.EntityStart:return T.charCodeAt(x)===u.NUM?(this.state=v.NumericStart,this.consumed+=1,this.stateNumericStart(T,x+1)):(this.state=v.NamedEntity,this.stateNamedEntity(T,x));case v.NumericStart:return this.stateNumericStart(T,x);case v.NumericDecimal:return this.stateNumericDecimal(T,x);case v.NumericHex:return this.stateNumericHex(T,x);case v.NamedEntity:return this.stateNamedEntity(T,x)}},w.prototype.stateNumericStart=function(T,x){return x>=T.length?-1:(T.charCodeAt(x)|c)===u.LOWER_X?(this.state=v.NumericHex,this.consumed+=1,this.stateNumericHex(T,x+1)):(this.state=v.NumericDecimal,this.stateNumericDecimal(T,x))},w.prototype.addToNumericResult=function(T,x,_,M){if(x!==_){var L=_-x;this.result=this.result*Math.pow(M,L)+parseInt(T.substr(x,L),M),this.consumed+=L}},w.prototype.stateNumericHex=function(T,x){for(var _=x;x<T.length;){var M=T.charCodeAt(x);if(d(M)||h(M))x+=1;else return this.addToNumericResult(T,_,x,16),this.emitNumericEntity(M,3)}return this.addToNumericResult(T,_,x,16),-1},w.prototype.stateNumericDecimal=function(T,x){for(var _=x;x<T.length;){var M=T.charCodeAt(x);if(d(M))x+=1;else return this.addToNumericResult(T,_,x,10),this.emitNumericEntity(M,2)}return this.addToNumericResult(T,_,x,10),-1},w.prototype.emitNumericEntity=function(T,x){var _;if(this.consumed<=x)return(_=this.errors)===null||_===void 0||_.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(T===u.SEMI)this.consumed+=1;else if(this.decodeMode===b.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(T!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},w.prototype.stateNamedEntity=function(T,x){for(var _=this.decodeTree,M=_[this.treeIndex],L=(M&l.VALUE_LENGTH)>>14;x<T.length;x++,this.excess++){var F=T.charCodeAt(x);if(this.treeIndex=C(_,M,this.treeIndex+Math.max(1,L),F),this.treeIndex<0)return this.result===0||this.decodeMode===b.Attribute&&(L===0||m(F))?0:this.emitNotTerminatedNamedEntity();if(M=_[this.treeIndex],L=(M&l.VALUE_LENGTH)>>14,L!==0){if(F===u.SEMI)return this.emitNamedEntityData(this.treeIndex,L,this.consumed+this.excess);this.decodeMode!==b.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},w.prototype.emitNotTerminatedNamedEntity=function(){var T,x=this,_=x.result,M=x.decodeTree,L=(M[_]&l.VALUE_LENGTH)>>14;return this.emitNamedEntityData(_,L,this.consumed),(T=this.errors)===null||T===void 0||T.missingSemicolonAfterCharacterReference(),this.consumed},w.prototype.emitNamedEntityData=function(T,x,_){var M=this.decodeTree;return this.emitCodePoint(x===1?M[T]&~l.VALUE_LENGTH:M[T+1],_),x===3&&this.emitCodePoint(M[T+2],_),_},w.prototype.end=function(){var T;switch(this.state){case v.NamedEntity:return this.result!==0&&(this.decodeMode!==b.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case v.NumericDecimal:return this.emitNumericEntity(0,2);case v.NumericHex:return this.emitNumericEntity(0,3);case v.NumericStart:return(T=this.errors)===null||T===void 0||T.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case v.EntityStart:return 0}},w}();e.EntityDecoder=g;function y(w){var T="",x=new g(w,function(_){return T+=(0,o.fromCodePoint)(_)});return function(M,L){for(var F=0,G=0;(G=M.indexOf("&",G))>=0;){T+=M.slice(F,G),x.startEntity(L);var U=x.write(M,G+1);if(U<0){F=G+x.end();break}F=G+U,G=U===0?F+1:F}var q=T+M.slice(F);return T="",q}}function C(w,T,x,_){var M=(T&l.BRANCH_LENGTH)>>7,L=T&l.JUMP_TABLE;if(M===0)return L!==0&&_===L?x:-1;if(L){var F=_-L;return F<0||F>=M?-1:w[x+F]-1}for(var G=x,U=G+M-1;G<=U;){var q=G+U>>>1,V=w[q];if(V<_)G=q+1;else if(V>_)U=q-1;else return w[q+M]}return-1}e.determineBranch=C;var I=y(i.default),P=y(s.default);function O(w,T){return T===void 0&&(T=b.Legacy),I(w,T)}e.decodeHTML=O;function N(w){return I(w,b.Attribute)}e.decodeHTMLAttribute=N;function S(w){return I(w,b.Strict)}e.decodeHTMLStrict=S;function D(w){return P(w,b.Strict)}e.decodeXML=D})(Mf);var ju={},CT={};Object.defineProperty(CT,"__esModule",{value:!0});function A0(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}CT.default=new Map(A0([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(A0([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(A0([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(A0([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var Hd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);e.getCodePoint=String.prototype.codePointAt!=null?function(a,i){return a.codePointAt(i)}:function(a,i){return(a.charCodeAt(i)&64512)===55296?(a.charCodeAt(i)-55296)*1024+a.charCodeAt(i+1)-56320+65536:a.charCodeAt(i)};function r(a){for(var i="",s=0,o;(o=e.xmlReplacer.exec(a))!==null;){var f=o.index,u=a.charCodeAt(f),c=t.get(u);c!==void 0?(i+=a.substring(s,f)+c,s=f+1):(i+="".concat(a.substring(s,f),"&#x").concat((0,e.getCodePoint)(a,f).toString(16),";"),s=e.xmlReplacer.lastIndex+=+((u&64512)===55296))}return i+a.substr(s)}e.encodeXML=r,e.escape=r;function n(a,i){return function(o){for(var f,u=0,c="";f=a.exec(o);)u!==f.index&&(c+=o.substring(u,f.index)),c+=i.get(f[0].charCodeAt(0)),u=f.index+1;return c+o.substring(u)}}e.escapeUTF8=n(/[&<>'"]/g,t),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Hd);var Bie=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ju,"__esModule",{value:!0});ju.encodeNonAsciiHTML=ju.encodeHTML=void 0;var Fie=Bie(CT),ZO=Hd,Hie=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function $ie(e){return ex(Hie,e)}ju.encodeHTML=$ie;function Uie(e){return ex(ZO.xmlReplacer,e)}ju.encodeNonAsciiHTML=Uie;function ex(e,t){for(var r="",n=0,a;(a=e.exec(t))!==null;){var i=a.index;r+=t.substring(n,i);var s=t.charCodeAt(i),o=Fie.default.get(s);if(typeof o=="object"){if(i+1<t.length){var f=t.charCodeAt(i+1),u=typeof o.n=="number"?o.n===f?o.o:void 0:o.n.get(f);if(u!==void 0){r+=u,n=e.lastIndex+=1;continue}}o=o.v}if(o!==void 0)r+=o,n=i+1;else{var c=(0,ZO.getCodePoint)(t,i);r+="&#x".concat(c.toString(16),";"),n=e.lastIndex+=+(c!==s)}}return r+t.substr(n)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var t=Mf,r=ju,n=Hd,a;(function(d){d[d.XML=0]="XML",d[d.HTML=1]="HTML"})(a=e.EntityLevel||(e.EntityLevel={}));var i;(function(d){d[d.UTF8=0]="UTF8",d[d.ASCII=1]="ASCII",d[d.Extensive=2]="Extensive",d[d.Attribute=3]="Attribute",d[d.Text=4]="Text"})(i=e.EncodingMode||(e.EncodingMode={}));function s(d,h){h===void 0&&(h=a.XML);var p=typeof h=="number"?h:h.level;if(p===a.HTML){var m=typeof h=="object"?h.mode:void 0;return(0,t.decodeHTML)(d,m)}return(0,t.decodeXML)(d)}e.decode=s;function o(d,h){var p;h===void 0&&(h=a.XML);var m=typeof h=="number"?{level:h}:h;return(p=m.mode)!==null&&p!==void 0||(m.mode=t.DecodingMode.Strict),s(d,m)}e.decodeStrict=o;function f(d,h){h===void 0&&(h=a.XML);var p=typeof h=="number"?{level:h}:h;return p.mode===i.UTF8?(0,n.escapeUTF8)(d):p.mode===i.Attribute?(0,n.escapeAttribute)(d):p.mode===i.Text?(0,n.escapeText)(d):p.level===a.HTML?p.mode===i.ASCII?(0,r.encodeNonAsciiHTML)(d):(0,r.encodeHTML)(d):(0,n.encodeXML)(d)}e.encode=f;var u=Hd;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var c=ju;Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var l=Mf;Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return l.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return l.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return l.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})})(QO);var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.attributeNames=Lf.elementNames=void 0;Lf.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(e){return[e.toLowerCase(),e]}));Lf.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(e){return[e.toLowerCase(),e]}));var kc=$&&$.__assign||function(){return kc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},kc.apply(this,arguments)},jie=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gie=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kie=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jie(t,e,r);return Gie(t,e),t};Object.defineProperty(ml,"__esModule",{value:!0});ml.render=void 0;var rs=Kie(pl),Jp=QO,tx=Lf,Wie=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function qie(e){return e.replace(/"/g,"&quot;")}function Vie(e,t){var r;if(e){var n=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?qie:t.xmlMode||t.encodeEntities!=="utf8"?Jp.encodeXML:Jp.escapeAttribute;return Object.keys(e).map(function(a){var i,s,o=(i=e[a])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(a=(s=tx.attributeNames.get(a))!==null&&s!==void 0?s:a),!t.emptyAttrs&&!t.xmlMode&&o===""?a:"".concat(a,'="').concat(n(o),'"')}).join(" ")}}var f6=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function xv(e,t){t===void 0&&(t={});for(var r=("length"in e)?e:[e],n="",a=0;a<r.length;a++)n+=zie(r[a],t);return n}ml.render=xv;ml.default=xv;function zie(e,t){switch(e.type){case rs.Root:return xv(e.children,t);case rs.Doctype:case rs.Directive:return Qie(e);case rs.Comment:return tse(e);case rs.CDATA:return ese(e);case rs.Script:case rs.Style:case rs.Tag:return Jie(e,t);case rs.Text:return Zie(e,t)}}var Yie=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Xie=new Set(["svg","math"]);function Jie(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=tx.elementNames.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&Yie.has(e.parent.name)&&(t=kc(kc({},t),{xmlMode:!1}))),!t.xmlMode&&Xie.has(e.name)&&(t=kc(kc({},t),{xmlMode:"foreign"}));var n="<".concat(e.name),a=Vie(e.attribs,t);return a&&(n+=" ".concat(a)),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&f6.has(e.name))?(t.xmlMode||(n+=" "),n+="/>"):(n+=">",e.children.length>0&&(n+=xv(e.children,t)),(t.xmlMode||!f6.has(e.name))&&(n+="</".concat(e.name,">"))),n}function Qie(e){return"<".concat(e.data,">")}function Zie(e,t){var r,n=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&Wie.has(e.parent.name))&&(n=t.xmlMode||t.encodeEntities!=="utf8"?(0,Jp.encodeXML)(n):(0,Jp.escapeText)(n)),n}function ese(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}function tse(e){return"<!--".concat(e.data,"-->")}var rse=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});xa.innerText=xa.textContent=xa.getText=xa.getInnerHTML=xa.getOuterHTML=void 0;var Ui=Bn,nse=rse(ml),ase=pl;function rx(e,t){return(0,nse.default)(e,t)}xa.getOuterHTML=rx;function ise(e,t){return(0,Ui.hasChildren)(e)?e.children.map(function(r){return rx(r,t)}).join(""):""}xa.getInnerHTML=ise;function J0(e){return Array.isArray(e)?e.map(J0).join(""):(0,Ui.isTag)(e)?e.name==="br"?`
`:J0(e.children):(0,Ui.isCDATA)(e)?J0(e.children):(0,Ui.isText)(e)?e.data:""}xa.getText=J0;function J1(e){return Array.isArray(e)?e.map(J1).join(""):(0,Ui.hasChildren)(e)&&!(0,Ui.isComment)(e)?J1(e.children):(0,Ui.isText)(e)?e.data:""}xa.textContent=J1;function Q1(e){return Array.isArray(e)?e.map(Q1).join(""):(0,Ui.hasChildren)(e)&&(e.type===ase.ElementType.Tag||(0,Ui.isCDATA)(e))?Q1(e.children):(0,Ui.isText)(e)?e.data:""}xa.innerText=Q1;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.prevElementSibling=Zr.nextElementSibling=Zr.getName=Zr.hasAttrib=Zr.getAttributeValue=Zr.getSiblings=Zr.getParent=Zr.getChildren=void 0;var IT=Bn;function nx(e){return(0,IT.hasChildren)(e)?e.children:[]}Zr.getChildren=nx;function ax(e){return e.parent||null}Zr.getParent=ax;function sse(e){var t,r,n=ax(e);if(n!=null)return nx(n);for(var a=[e],i=e.prev,s=e.next;i!=null;)a.unshift(i),t=i,i=t.prev;for(;s!=null;)a.push(s),r=s,s=r.next;return a}Zr.getSiblings=sse;function ose(e,t){var r;return(r=e.attribs)===null||r===void 0?void 0:r[t]}Zr.getAttributeValue=ose;function use(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}Zr.hasAttrib=use;function cse(e){return e.name}Zr.getName=cse;function fse(e){for(var t,r=e.next;r!==null&&!(0,IT.isTag)(r);)t=r,r=t.next;return r}Zr.nextElementSibling=fse;function lse(e){for(var t,r=e.prev;r!==null&&!(0,IT.isTag)(r);)t=r,r=t.prev;return r}Zr.prevElementSibling=lse;var na={};Object.defineProperty(na,"__esModule",{value:!0});na.prepend=na.prependChild=na.append=na.appendChild=na.replaceElement=na.removeElement=void 0;function kh(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children,r=t.lastIndexOf(e);r>=0&&t.splice(r,1)}e.next=null,e.prev=null,e.parent=null}na.removeElement=kh;function dse(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var a=t.parent=e.parent;if(a){var i=a.children;i[i.lastIndexOf(e)]=t,e.parent=null}}na.replaceElement=dse;function hse(e,t){if(kh(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null}na.appendChild=hse;function pse(e,t){kh(t);var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var a=r.children;a.splice(a.lastIndexOf(n),0,t)}}else r&&r.children.push(t)}na.append=pse;function mse(e,t){if(kh(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){var r=e.children[1];r.prev=t,t.next=r}else t.next=null}na.prependChild=mse;function vse(e,t){kh(t);var r=e.parent;if(r){var n=r.children;n.splice(n.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}na.prepend=vse;var qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.findAll=qn.existsOne=qn.findOne=qn.findOneChild=qn.find=qn.filter=void 0;var Rv=Bn;function bse(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),ix(e,Array.isArray(t)?t:[t],r,n)}qn.filter=bse;function ix(e,t,r,n){for(var a=[],i=[t],s=[0];;){if(s[0]>=i[0].length){if(s.length===1)return a;i.shift(),s.shift();continue}var o=i[0][s[0]++];if(e(o)&&(a.push(o),--n<=0))return a;r&&(0,Rv.hasChildren)(o)&&o.children.length>0&&(s.unshift(0),i.unshift(o.children))}}qn.find=ix;function gse(e,t){return t.find(e)}qn.findOneChild=gse;function sx(e,t,r){r===void 0&&(r=!0);for(var n=null,a=0;a<t.length&&!n;a++){var i=t[a];if((0,Rv.isTag)(i))e(i)?n=i:r&&i.children.length>0&&(n=sx(e,i.children,!0));else continue}return n}qn.findOne=sx;function ox(e,t){return t.some(function(r){return(0,Rv.isTag)(r)&&(e(r)||ox(e,r.children))})}qn.existsOne=ox;function yse(e,t){for(var r=[],n=[t],a=[0];;){if(a[0]>=n[0].length){if(n.length===1)return r;n.shift(),a.shift();continue}var i=n[0][a[0]++];(0,Rv.isTag)(i)&&(e(i)&&r.push(i),i.children.length>0&&(a.unshift(0),n.unshift(i.children)))}}qn.findAll=yse;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getElementsByTagType=Ra.getElementsByTagName=Ra.getElementById=Ra.getElements=Ra.testElement=void 0;var zo=Bn,Dv=qn,Qp={tag_name:function(e){return typeof e=="function"?function(t){return(0,zo.isTag)(t)&&e(t.name)}:e==="*"?zo.isTag:function(t){return(0,zo.isTag)(t)&&t.name===e}},tag_type:function(e){return typeof e=="function"?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return typeof e=="function"?function(t){return(0,zo.isText)(t)&&e(t.data)}:function(t){return(0,zo.isText)(t)&&t.data===e}}};function ux(e,t){return typeof t=="function"?function(r){return(0,zo.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,zo.isTag)(r)&&r.attribs[e]===t}}function _se(e,t){return function(r){return e(r)||t(r)}}function cx(e){var t=Object.keys(e).map(function(r){var n=e[r];return Object.prototype.hasOwnProperty.call(Qp,r)?Qp[r](n):ux(r,n)});return t.length===0?null:t.reduce(_se)}function Tse(e,t){var r=cx(e);return r?r(t):!0}Ra.testElement=Tse;function Ese(e,t,r,n){n===void 0&&(n=1/0);var a=cx(e);return a?(0,Dv.filter)(a,t,r,n):[]}Ra.getElements=Ese;function Sse(e,t,r){return r===void 0&&(r=!0),Array.isArray(t)||(t=[t]),(0,Dv.findOne)(ux("id",e),t,r)}Ra.getElementById=Sse;function Ase(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Dv.filter)(Qp.tag_name(e),t,r,n)}Ra.getElementsByTagName=Ase;function wse(e,t,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Dv.filter)(Qp.tag_type(e),t,r,n)}Ra.getElementsByTagType=wse;var fx={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var t=Bn;function r(s){for(var o=s.length;--o>=0;){var f=s[o];if(o>0&&s.lastIndexOf(f,o-1)>=0){s.splice(o,1);continue}for(var u=f.parent;u;u=u.parent)if(s.includes(u)){s.splice(o,1);break}}return s}e.removeSubsets=r;var n;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(n=e.DocumentPosition||(e.DocumentPosition={}));function a(s,o){var f=[],u=[];if(s===o)return 0;for(var c=(0,t.hasChildren)(s)?s:s.parent;c;)f.unshift(c),c=c.parent;for(c=(0,t.hasChildren)(o)?o:o.parent;c;)u.unshift(c),c=c.parent;for(var l=Math.min(f.length,u.length),d=0;d<l&&f[d]===u[d];)d++;if(d===0)return n.DISCONNECTED;var h=f[d-1],p=h.children,m=f[d],v=u[d];return p.indexOf(m)>p.indexOf(v)?h===o?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:h===s?n.PRECEDING|n.CONTAINS:n.PRECEDING}e.compareDocumentPosition=a;function i(s){return s=s.filter(function(o,f,u){return!u.includes(o,f+1)}),s.sort(function(o,f){var u=a(o,f);return u&n.PRECEDING?-1:u&n.FOLLOWING?1:0}),s}e.uniqueSort=i})(fx);var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.getFeed=void 0;var Cse=xa,Bh=Ra;function Ise(e){var t=Zp(Rse,e);return t?t.name==="feed"?Pse(t):Nse(t):null}Mv.getFeed=Ise;function Pse(e){var t,r=e.children,n={type:"atom",items:(0,Bh.getElementsByTagName)("entry",r).map(function(s){var o,f=s.children,u={media:lx(f)};ra(u,"id","id",f),ra(u,"title","title",f);var c=(o=Zp("link",f))===null||o===void 0?void 0:o.attribs.href;c&&(u.link=c);var l=Ys("summary",f)||Ys("content",f);l&&(u.description=l);var d=Ys("updated",f);return d&&(u.pubDate=new Date(d)),u})};ra(n,"id","id",r),ra(n,"title","title",r);var a=(t=Zp("link",r))===null||t===void 0?void 0:t.attribs.href;a&&(n.link=a),ra(n,"description","subtitle",r);var i=Ys("updated",r);return i&&(n.updated=new Date(i)),ra(n,"author","email",r,!0),n}function Nse(e){var t,r,n=(r=(t=Zp("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[],a={type:e.name.substr(0,3),id:"",items:(0,Bh.getElementsByTagName)("item",e.children).map(function(s){var o=s.children,f={media:lx(o)};ra(f,"id","guid",o),ra(f,"title","title",o),ra(f,"link","link",o),ra(f,"description","description",o);var u=Ys("pubDate",o)||Ys("dc:date",o);return u&&(f.pubDate=new Date(u)),f})};ra(a,"title","title",n),ra(a,"link","link",n),ra(a,"description","description",n);var i=Ys("lastBuildDate",n);return i&&(a.updated=new Date(i)),ra(a,"author","managingEditor",n,!0),a}var Ose=["url","type","lang"],xse=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function lx(e){return(0,Bh.getElementsByTagName)("media:content",e).map(function(t){for(var r=t.attribs,n={medium:r.medium,isDefault:!!r.isDefault},a=0,i=Ose;a<i.length;a++){var s=i[a];r[s]&&(n[s]=r[s])}for(var o=0,f=xse;o<f.length;o++){var s=f[o];r[s]&&(n[s]=parseInt(r[s],10))}return r.expression&&(n.expression=r.expression),n})}function Zp(e,t){return(0,Bh.getElementsByTagName)(e,t,!0,1)[0]}function Ys(e,t,r){return r===void 0&&(r=!1),(0,Cse.textContent)((0,Bh.getElementsByTagName)(e,t,r,1)).trim()}function ra(e,t,r,n,a){a===void 0&&(a=!1);var i=Ys(r,n,a);i&&(e[t]=i)}function Rse(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}(function(e){var t=$&&$.__createBinding||(Object.create?function(a,i,s,o){o===void 0&&(o=s);var f=Object.getOwnPropertyDescriptor(i,s);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(a,o,f)}:function(a,i,s,o){o===void 0&&(o=s),a[o]=i[s]}),r=$&&$.__exportStar||function(a,i){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,r(xa,e),r(Zr,e),r(na,e),r(qn,e),r(Ra,e),r(fx,e),r(Mv,e);var n=Bn;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(vi);var Cu=$&&$.__assign||function(){return Cu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Cu.apply(this,arguments)},Dse=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mse=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Lse=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Dse(t,e,r);return Mse(t,e),t};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.merge=Rr.contains=Rr.root=Rr.parseHTML=Rr.text=Rr.xml=Rr.html=void 0;var kse=vi,Z1=Lse(hl);function dx(e,t,r){return e?e(t??e._root.children,null,void 0,r).toString():""}function Bse(e,t){return!t&&typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function Fse(e,t){var r=Bse(e)?(t=e,void 0):e,n=Cu(Cu(Cu({},Z1.default),this===null||this===void 0?void 0:this._options),(0,Z1.flatten)(t??{}));return dx(this,r,n)}Rr.html=Fse;function Hse(e){var t=Cu(Cu({},this._options),{xmlMode:!0});return dx(this,e,t)}Rr.xml=Hse;function $se(e){for(var t=e||(this?this.root():[]),r="",n=0;n<t.length;n++)r+=(0,kse.textContent)(t[n]);return r}Rr.text=$se;function Use(e,t,r){if(r===void 0&&(r=typeof t=="boolean"?t:!1),!e||typeof e!="string")return null;typeof t=="boolean"&&(r=t);var n=this.load(e,Z1.default,!1);return r||n("script").remove(),n.root()[0].children.slice()}Rr.parseHTML=Use;function jse(){return this(this._root)}Rr.root=jse;function Gse(e,t){if(t===e)return!1;for(var r=t;r&&r!==r.parent;)if(r=r.parent,r===e)return!0;return!1}Rr.contains=Gse;function Kse(e,t){if(!(!l6(e)||!l6(t))){for(var r=e.length,n=+t.length,a=0;a<n;a++)e[r++]=t[a];return e.length=r,e}}Rr.merge=Kse;function l6(e){if(Array.isArray(e))return!0;if(typeof e!="object"||!Object.prototype.hasOwnProperty.call(e,"length")||typeof e.length!="number"||e.length<0)return!1;for(var t=0;t<e.length;t++)if(!(t in e))return!1;return!0}var Lv={},Br={},oc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHtml=e.cloneDom=e.domEach=e.cssCase=e.camelCase=e.isCheerio=e.isTag=void 0;var t=Bn,r=Bn;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}});function n(c){return c.cheerio!=null}e.isCheerio=n;function a(c){return c.replace(/[_.-](\w|$)/g,function(l,d){return d.toUpperCase()})}e.camelCase=a;function i(c){return c.replace(/[A-Z]/g,"-$&").toLowerCase()}e.cssCase=i;function s(c,l){for(var d=c.length,h=0;h<d;h++)l(c[h],h);return c}e.domEach=s;function o(c){var l="length"in c?Array.prototype.map.call(c,function(h){return(0,t.cloneNode)(h,!0)}):[(0,t.cloneNode)(c,!0)],d=new t.Document(l);return l.forEach(function(h){h.parent=d}),l}e.cloneDom=o;var f;(function(c){c[c.LowerA=97]="LowerA",c[c.LowerZ=122]="LowerZ",c[c.UpperA=65]="UpperA",c[c.UpperZ=90]="UpperZ",c[c.Exclamation=33]="Exclamation"})(f||(f={}));function u(c){var l=c.indexOf("<");if(l<0||l>c.length-3)return!1;var d=c.charCodeAt(l+1);return(d>=f.LowerA&&d<=f.LowerZ||d>=f.UpperA&&d<=f.UpperZ||d===f.Exclamation)&&c.includes(">",l+2)}e.isHtml=u})(oc);Object.defineProperty(Br,"__esModule",{value:!0});Br.toggleClass=Br.removeClass=Br.addClass=Br.hasClass=Br.removeAttr=Br.val=Br.data=Br.prop=Br.attr=void 0;var hx=Rr,Kt=oc,d6=vi,Wc=Object.prototype.hasOwnProperty,$d=/\s+/,Qg="data-",h6={null:null,true:!0,false:!1},PT=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Wse=/^{[^]*}$|^\[[^]*]$/;function em(e,t,r){var n;if(!(!e||!(0,Kt.isTag)(e))){if((n=e.attribs)!==null&&n!==void 0||(e.attribs={}),!t)return e.attribs;if(Wc.call(e.attribs,t))return!r&&PT.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return(0,hx.text)(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function qc(e,t,r){r===null?px(e,t):e.attribs[t]="".concat(r)}function qse(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return(0,Kt.domEach)(this,function(r,n){(0,Kt.isTag)(r)&&qc(r,e,t.call(r,n,r.attribs[e]))})}return(0,Kt.domEach)(this,function(r){(0,Kt.isTag)(r)&&(typeof e=="object"?Object.keys(e).forEach(function(n){var a=e[n];qc(r,n,a)}):qc(r,e,t))})}return arguments.length>1?this:em(this[0],e,this.options.xmlMode)}Br.attr=qse;function p6(e,t,r){if(!(!e||!(0,Kt.isTag)(e)))return t in e?e[t]:!r&&PT.test(t)?em(e,t,!1)!==void 0:em(e,t,r)}function Zg(e,t,r,n){t in e?e[t]=r:qc(e,t,!n&&PT.test(t)?r?"":null:"".concat(r))}function Vse(e,t){var r=this,n;if(typeof e=="string"&&t===void 0)switch(e){case"style":{var a=this.css(),i=Object.keys(a);return i.forEach(function(f,u){a[u]=f}),a.length=i.length,a}case"tagName":case"nodeName":{var s=this[0];return(0,Kt.isTag)(s)?s.name.toUpperCase():void 0}case"href":case"src":{var s=this[0];if(!(0,Kt.isTag)(s))return;var o=(n=s.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(s.tagName==="a"||s.name==="link")||e==="src"&&(s.tagName==="img"||s.tagName==="iframe"||s.tagName==="audio"||s.tagName==="video"||s.tagName==="source"))&&o!==void 0&&this.options.baseURI?new URL(o,this.options.baseURI).href:o}case"innerText":return(0,d6.innerText)(this[0]);case"textContent":return(0,d6.textContent)(this[0]);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return p6(this[0],e,this.options.xmlMode)}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new Error("Bad combination of arguments.");return(0,Kt.domEach)(this,function(f,u){(0,Kt.isTag)(f)&&Zg(f,e,t.call(f,u,p6(f,e,r.options.xmlMode)),r.options.xmlMode)})}return(0,Kt.domEach)(this,function(f){(0,Kt.isTag)(f)&&(typeof e=="object"?Object.keys(e).forEach(function(u){var c=e[u];Zg(f,u,c,r.options.xmlMode)}):Zg(f,e,t,r.options.xmlMode))})}}Br.prop=Vse;function m6(e,t,r){var n,a=e;(n=a.data)!==null&&n!==void 0||(a.data={}),typeof t=="object"?Object.assign(a.data,t):typeof t=="string"&&r!==void 0&&(a.data[t]=r)}function v6(e,t){var r,n,a;t==null?(r=Object.keys(e.attribs).filter(function(f){return f.startsWith(Qg)}),n=r.map(function(f){return(0,Kt.camelCase)(f.slice(Qg.length))})):(r=[Qg+(0,Kt.cssCase)(t)],n=[t]);for(var i=0;i<r.length;++i){var s=r[i],o=n[i];if(Wc.call(e.attribs,s)&&!Wc.call(e.data,o)){if(a=e.attribs[s],Wc.call(h6,a))a=h6[a];else if(a===String(Number(a)))a=Number(a);else if(Wse.test(a))try{a=JSON.parse(a)}catch{}e.data[o]=a}}return t==null?e.data:a}function zse(e,t){var r,n=this[0];if(!(!n||!(0,Kt.isTag)(n))){var a=n;return(r=a.data)!==null&&r!==void 0||(a.data={}),e?typeof e=="object"||t!==void 0?((0,Kt.domEach)(this,function(i){(0,Kt.isTag)(i)&&(typeof e=="object"?m6(i,e):m6(i,e,t))}),this):Wc.call(a.data,e)?a.data[e]:v6(a,e):v6(a)}}Br.data=zse;function Yse(e){var t=arguments.length===0,r=this[0];if(!r||!(0,Kt.isTag)(r))return t?void 0:this;switch(r.name){case"textarea":return this.text(e);case"select":{var n=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");for(var a=typeof e!="object"?[e]:e,i=0;i<a.length;i++)this.find('option[value="'.concat(a[i],'"]')).attr("selected","");return this}return this.attr("multiple")?n.toArray().map(function(s){return(0,hx.text)(s.children)}):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}Br.val=Yse;function px(e,t){!e.attribs||!Wc.call(e.attribs,t)||delete e.attribs[t]}function tm(e){return e?e.trim().split($d):[]}function Xse(e){for(var t=tm(e),r=function(i){(0,Kt.domEach)(n,function(s){(0,Kt.isTag)(s)&&px(s,t[i])})},n=this,a=0;a<t.length;a++)r(a);return this}Br.removeAttr=Xse;function Jse(e){return this.toArray().some(function(t){var r=(0,Kt.isTag)(t)&&t.attribs.class,n=-1;if(r&&e.length)for(;(n=r.indexOf(e,n+1))>-1;){var a=n+e.length;if((n===0||$d.test(r[n-1]))&&(a===r.length||$d.test(r[a])))return!0}return!1})}Br.hasClass=Jse;function mx(e){if(typeof e=="function")return(0,Kt.domEach)(this,function(u,c){if((0,Kt.isTag)(u)){var l=u.attribs.class||"";mx.call([u],e.call(u,c,l))}});if(!e||typeof e!="string")return this;for(var t=e.split($d),r=this.length,n=0;n<r;n++){var a=this[n];if((0,Kt.isTag)(a)){var i=em(a,"class",!1);if(!i)qc(a,"class",t.join(" ").trim());else{for(var s=" ".concat(i," "),o=0;o<t.length;o++){var f="".concat(t[o]," ");s.includes(" ".concat(f))||(s+=f)}qc(a,"class",s.trim())}}}return this}Br.addClass=mx;function vx(e){if(typeof e=="function")return(0,Kt.domEach)(this,function(a,i){(0,Kt.isTag)(a)&&vx.call([a],e.call(a,i,a.attribs.class||""))});var t=tm(e),r=t.length,n=arguments.length===0;return(0,Kt.domEach)(this,function(a){if((0,Kt.isTag)(a))if(n)a.attribs.class="";else{for(var i=tm(a.attribs.class),s=!1,o=0;o<r;o++){var f=i.indexOf(t[o]);f>=0&&(i.splice(f,1),s=!0,o--)}s&&(a.attribs.class=i.join(" "))}})}Br.removeClass=vx;function bx(e,t){if(typeof e=="function")return(0,Kt.domEach)(this,function(l,d){(0,Kt.isTag)(l)&&bx.call([l],e.call(l,d,l.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;for(var r=e.split($d),n=r.length,a=typeof t=="boolean"?t?1:-1:0,i=this.length,s=0;s<i;s++){var o=this[s];if((0,Kt.isTag)(o)){for(var f=tm(o.attribs.class),u=0;u<n;u++){var c=f.indexOf(r[u]);a>=0&&c<0?f.push(r[u]):a<=0&&c>=0&&f.splice(c,1)}o.attribs.class=f.join(" ")}}return this}Br.toggleClass=bx;var je={},gx={},Bt;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(Bt||(Bt={}));const Qse={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var pr;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(pr||(pr={}));const b6=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Zse=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,eoe=new Map([[126,pr.Element],[94,pr.Start],[36,pr.End],[42,pr.Any],[33,pr.Not],[124,pr.Hyphen]]),toe=new Set(["has","not","matches","is","where","host","host-context"]);function yx(e){switch(e.type){case Bt.Adjacent:case Bt.Child:case Bt.Descendant:case Bt.Parent:case Bt.Sibling:case Bt.ColumnCombinator:return!0;default:return!1}}const roe=new Set(["contains","icontains"]);function noe(e,t,r){const n=parseInt(t,16)-65536;return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)}function Ml(e){return e.replace(Zse,noe)}function ey(e){return e===39||e===34}function g6(e){return e===32||e===9||e===10||e===12||e===13}function aoe(e){const t=[],r=_x(t,`${e}`,0);if(r<e.length)throw new Error(`Unmatched selector: ${e.slice(r)}`);return t}function _x(e,t,r){let n=[];function a(d){const h=t.slice(r+d).match(b6);if(!h)throw new Error(`Expected name, found ${t.slice(r)}`);const[p]=h;return r+=d+p.length,Ml(p)}function i(d){for(r+=d;r<t.length&&g6(t.charCodeAt(r));)r++}function s(){r+=1;const d=r;let h=1;for(;h>0&&r<t.length;r++)t.charCodeAt(r)===40&&!o(r)?h++:t.charCodeAt(r)===41&&!o(r)&&h--;if(h)throw new Error("Parenthesis not matched");return Ml(t.slice(d,r-1))}function o(d){let h=0;for(;t.charCodeAt(--d)===92;)h++;return(h&1)===1}function f(){if(n.length>0&&yx(n[n.length-1]))throw new Error("Did not expect successive traversals.")}function u(d){if(n.length>0&&n[n.length-1].type===Bt.Descendant){n[n.length-1].type=d;return}f(),n.push({type:d})}function c(d,h){n.push({type:Bt.Attribute,name:d,action:h,value:a(1),namespace:null,ignoreCase:"quirks"})}function l(){if(n.length&&n[n.length-1].type===Bt.Descendant&&n.pop(),n.length===0)throw new Error("Empty sub-selector");e.push(n)}if(i(0),t.length===r)return r;e:for(;r<t.length;){const d=t.charCodeAt(r);switch(d){case 32:case 9:case 10:case 12:case 13:{(n.length===0||n[0].type!==Bt.Descendant)&&(f(),n.push({type:Bt.Descendant})),i(1);break}case 62:{u(Bt.Child),i(1);break}case 60:{u(Bt.Parent),i(1);break}case 126:{u(Bt.Sibling),i(1);break}case 43:{u(Bt.Adjacent),i(1);break}case 46:{c("class",pr.Element);break}case 35:{c("id",pr.Equals);break}case 91:{i(1);let h,p=null;t.charCodeAt(r)===124?h=a(1):t.startsWith("*|",r)?(p="*",h=a(2)):(h=a(0),t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==61&&(p=h,h=a(1))),i(0);let m=pr.Exists;const v=eoe.get(t.charCodeAt(r));if(v){if(m=v,t.charCodeAt(r+1)!==61)throw new Error("Expected `=`");i(2)}else t.charCodeAt(r)===61&&(m=pr.Equals,i(1));let b="",g=null;if(m!=="exists"){if(ey(t.charCodeAt(r))){const I=t.charCodeAt(r);let P=r+1;for(;P<t.length&&(t.charCodeAt(P)!==I||o(P));)P+=1;if(t.charCodeAt(P)!==I)throw new Error("Attribute value didn't end");b=Ml(t.slice(r+1,P)),r=P+1}else{const I=r;for(;r<t.length&&(!g6(t.charCodeAt(r))&&t.charCodeAt(r)!==93||o(r));)r+=1;b=Ml(t.slice(I,r))}i(0);const C=t.charCodeAt(r)|32;C===115?(g=!1,i(1)):C===105&&(g=!0,i(1))}if(t.charCodeAt(r)!==93)throw new Error("Attribute selector didn't terminate");r+=1;const y={type:Bt.Attribute,name:h,action:m,value:b,namespace:p,ignoreCase:g};n.push(y);break}case 58:{if(t.charCodeAt(r+1)===58){n.push({type:Bt.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(r)===40?s():null});continue}const h=a(1).toLowerCase();let p=null;if(t.charCodeAt(r)===40)if(toe.has(h)){if(ey(t.charCodeAt(r+1)))throw new Error(`Pseudo-selector ${h} cannot be quoted`);if(p=[],r=_x(p,t,r+1),t.charCodeAt(r)!==41)throw new Error(`Missing closing parenthesis in :${h} (${t})`);r+=1}else{if(p=s(),roe.has(h)){const m=p.charCodeAt(0);m===p.charCodeAt(p.length-1)&&ey(m)&&(p=p.slice(1,-1))}p=Ml(p)}n.push({type:Bt.Pseudo,name:h,data:p});break}case 44:{l(),n=[],i(1);break}default:{if(t.startsWith("/*",r)){const m=t.indexOf("*/",r+2);if(m<0)throw new Error("Comment was not terminated");r=m+2,n.length===0&&i(0);break}let h=null,p;if(d===42)r+=1,p="*";else if(d===124){if(p="",t.charCodeAt(r+1)===124){u(Bt.ColumnCombinator),i(2);break}}else if(b6.test(t.slice(r)))p=a(0);else break e;t.charCodeAt(r)===124&&t.charCodeAt(r+1)!==124&&(h=p,t.charCodeAt(r+1)===42?(p="*",r+=2):p=a(1)),n.push(p==="*"?{type:Bt.Universal,namespace:h}:{type:Bt.Tag,name:p,namespace:h})}}}return l(),r}const Tx=["\\",'"'],Ex=[...Tx,"(",")"],ioe=new Set(Tx.map(e=>e.charCodeAt(0))),y6=new Set(Ex.map(e=>e.charCodeAt(0))),Bc=new Set([...Ex,"~","^","$","*","+","!","|",":","[","]"," ","."].map(e=>e.charCodeAt(0)));function Sx(e){return e.map(t=>t.map(soe).join("")).join(", ")}function soe(e,t,r){switch(e.type){case Bt.Child:return t===0?"> ":" > ";case Bt.Parent:return t===0?"< ":" < ";case Bt.Sibling:return t===0?"~ ":" ~ ";case Bt.Adjacent:return t===0?"+ ":" + ";case Bt.Descendant:return" ";case Bt.ColumnCombinator:return t===0?"|| ":" || ";case Bt.Universal:return e.namespace==="*"&&t+1<r.length&&"name"in r[t+1]?"":`${Ax(e.namespace)}*`;case Bt.Tag:return _6(e);case Bt.PseudoElement:return`::${os(e.name,Bc)}${e.data===null?"":`(${os(e.data,y6)})`}`;case Bt.Pseudo:return`:${os(e.name,Bc)}${e.data===null?"":`(${typeof e.data=="string"?os(e.data,y6):Sx(e.data)})`}`;case Bt.Attribute:{if(e.name==="id"&&e.action===pr.Equals&&e.ignoreCase==="quirks"&&!e.namespace)return`#${os(e.value,Bc)}`;if(e.name==="class"&&e.action===pr.Element&&e.ignoreCase==="quirks"&&!e.namespace)return`.${os(e.value,Bc)}`;const n=_6(e);return e.action===pr.Exists?`[${n}]`:`[${n}${ooe(e.action)}="${os(e.value,ioe)}"${e.ignoreCase===null?"":e.ignoreCase?" i":" s"}]`}}}function ooe(e){switch(e){case pr.Equals:return"";case pr.Element:return"~";case pr.Start:return"^";case pr.End:return"$";case pr.Any:return"*";case pr.Not:return"!";case pr.Hyphen:return"|";case pr.Exists:throw new Error("Shouldn't be here")}}function _6(e){return`${Ax(e.namespace)}${os(e.name,Bc)}`}function Ax(e){return e!==null?`${e==="*"?"*":os(e,Bc)}|`:""}function os(e,t){let r=0,n="";for(let a=0;a<e.length;a++)t.has(e.charCodeAt(a))&&(n+=`${e.slice(r,a)}\\${e.charAt(a)}`,r=a+1);return n.length>0?n+e.slice(r):e}const uoe=Object.freeze(Object.defineProperty({__proto__:null,get AttributeAction(){return pr},IgnoreCaseMode:Qse,get SelectorType(){return Bt},isTraversal:yx,parse:aoe,stringify:Sx},Symbol.toStringTag,{value:"Module"})),Fh=ei(uoe);var e_={},uc={trueFunc:function(){return!0},falseFunc:function(){return!1}},eo={},vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.isTraversal=void 0;var Pa=Fh,wx=new Map([[Pa.SelectorType.Universal,50],[Pa.SelectorType.Tag,30],[Pa.SelectorType.Attribute,1],[Pa.SelectorType.Pseudo,0]]);function coe(e){return!wx.has(e.type)}vl.isTraversal=coe;var foe=new Map([[Pa.AttributeAction.Exists,10],[Pa.AttributeAction.Equals,8],[Pa.AttributeAction.Not,7],[Pa.AttributeAction.Start,6],[Pa.AttributeAction.End,6],[Pa.AttributeAction.Any,5]]);function loe(e){for(var t=e.map(Cx),r=1;r<e.length;r++){var n=t[r];if(!(n<0))for(var a=r-1;a>=0&&n<t[a];a--){var i=e[a+1];e[a+1]=e[a],e[a]=i,t[a+1]=t[a],t[a]=n}}}vl.default=loe;function Cx(e){var t,r,n=(t=wx.get(e.type))!==null&&t!==void 0?t:-1;return e.type===Pa.SelectorType.Attribute?(n=(r=foe.get(e.action))!==null&&r!==void 0?r:4,e.action===Pa.AttributeAction.Equals&&e.name==="id"&&(n=9),e.ignoreCase&&(n>>=1)):e.type===Pa.SelectorType.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?n=0:Array.isArray(e.data)?(n=Math.min.apply(Math,e.data.map(function(a){return Math.min.apply(Math,a.map(Cx))})),n<0&&(n=0)):n=2:n=3),n}var kv={},Bv={},doe=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.attributeRules=void 0;var w0=doe(uc),hoe=/[-[\]{}()*+?.,\\^$|#\s]/g;function T6(e){return e.replace(hoe,"\\$&")}var poe=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Do(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&poe.has(e.name)}Bv.attributeRules={equals:function(e,t,r){var n=r.adapter,a=t.name,i=t.value;return Do(t,r)?(i=i.toLowerCase(),function(s){var o=n.getAttributeValue(s,a);return o!=null&&o.length===i.length&&o.toLowerCase()===i&&e(s)}):function(s){return n.getAttributeValue(s,a)===i&&e(s)}},hyphen:function(e,t,r){var n=r.adapter,a=t.name,i=t.value,s=i.length;return Do(t,r)?(i=i.toLowerCase(),function(f){var u=n.getAttributeValue(f,a);return u!=null&&(u.length===s||u.charAt(s)==="-")&&u.substr(0,s).toLowerCase()===i&&e(f)}):function(f){var u=n.getAttributeValue(f,a);return u!=null&&(u.length===s||u.charAt(s)==="-")&&u.substr(0,s)===i&&e(f)}},element:function(e,t,r){var n=r.adapter,a=t.name,i=t.value;if(/\s/.test(i))return w0.default.falseFunc;var s=new RegExp("(?:^|\\s)".concat(T6(i),"(?:$|\\s)"),Do(t,r)?"i":"");return function(f){var u=n.getAttributeValue(f,a);return u!=null&&u.length>=i.length&&s.test(u)&&e(f)}},exists:function(e,t,r){var n=t.name,a=r.adapter;return function(i){return a.hasAttrib(i,n)&&e(i)}},start:function(e,t,r){var n=r.adapter,a=t.name,i=t.value,s=i.length;return s===0?w0.default.falseFunc:Do(t,r)?(i=i.toLowerCase(),function(o){var f=n.getAttributeValue(o,a);return f!=null&&f.length>=s&&f.substr(0,s).toLowerCase()===i&&e(o)}):function(o){var f;return!!(!((f=n.getAttributeValue(o,a))===null||f===void 0)&&f.startsWith(i))&&e(o)}},end:function(e,t,r){var n=r.adapter,a=t.name,i=t.value,s=-i.length;return s===0?w0.default.falseFunc:Do(t,r)?(i=i.toLowerCase(),function(o){var f;return((f=n.getAttributeValue(o,a))===null||f===void 0?void 0:f.substr(s).toLowerCase())===i&&e(o)}):function(o){var f;return!!(!((f=n.getAttributeValue(o,a))===null||f===void 0)&&f.endsWith(i))&&e(o)}},any:function(e,t,r){var n=r.adapter,a=t.name,i=t.value;if(i==="")return w0.default.falseFunc;if(Do(t,r)){var s=new RegExp(T6(i),"i");return function(f){var u=n.getAttributeValue(f,a);return u!=null&&u.length>=i.length&&s.test(u)&&e(f)}}return function(o){var f;return!!(!((f=n.getAttributeValue(o,a))===null||f===void 0)&&f.includes(i))&&e(o)}},not:function(e,t,r){var n=r.adapter,a=t.name,i=t.value;return i===""?function(s){return!!n.getAttributeValue(s,a)&&e(s)}:Do(t,r)?(i=i.toLowerCase(),function(s){var o=n.getAttributeValue(s,a);return(o==null||o.length!==i.length||o.toLowerCase()!==i)&&e(s)}):function(s){return n.getAttributeValue(s,a)!==i&&e(s)}}};var NT={},Ix={},Px={},Fv={};Object.defineProperty(Fv,"__esModule",{value:!0});Fv.parse=void 0;var moe=new Set([9,10,12,13,32]),E6=48,voe=57;function boe(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];var t=0,r=0,n=i(),a=s();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=n*(a??1),o(),t<e.length?(n=i(),o(),a=s()):n=a=0),a===null||t<e.length)throw new Error("n-th rule couldn't be parsed ('".concat(e,"')"));return[r,n*a];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function s(){for(var f=t,u=0;t<e.length&&e.charCodeAt(t)>=E6&&e.charCodeAt(t)<=voe;)u=u*10+(e.charCodeAt(t)-E6),t++;return t===f?null:u}function o(){for(;t<e.length&&moe.has(e.charCodeAt(t));)t++}}Fv.parse=boe;var kf={},goe=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kf,"__esModule",{value:!0});kf.generate=kf.compile=void 0;var S6=goe(uc);function yoe(e){var t=e[0],r=e[1]-1;if(r<0&&t<=0)return S6.default.falseFunc;if(t===-1)return function(i){return i<=r};if(t===0)return function(i){return i===r};if(t===1)return r<0?S6.default.trueFunc:function(i){return i>=r};var n=Math.abs(t),a=(r%n+n)%n;return t>1?function(i){return i>=r&&i%n===a}:function(i){return i<=r&&i%n===a}}kf.compile=yoe;function _oe(e){var t=e[0],r=e[1]-1,n=0;if(t<0){var a=-t,i=(r%a+a)%a;return function(){var s=i+a*n++;return s>r?null:s}}return t===0?r<0?function(){return null}:function(){return n++===0?r:null}:(r<0&&(r+=t*Math.ceil(-r/t)),function(){return t*n+++r})}kf.generate=_oe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=Fv;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var r=kf;Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return r.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return r.generate}});function n(i){return(0,r.compile)((0,t.parse)(i))}e.default=n;function a(i){return(0,r.generate)((0,t.parse)(i))}e.sequence=a})(Px);(function(e){var t=$&&$.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var r=t(Px),n=t(uc);function a(s,o){return function(f){var u=o.getParent(f);return u!=null&&o.isTag(u)&&s(f)}}e.filters={contains:function(s,o,f){var u=f.adapter;return function(l){return s(l)&&u.getText(l).includes(o)}},icontains:function(s,o,f){var u=f.adapter,c=o.toLowerCase();return function(d){return s(d)&&u.getText(d).toLowerCase().includes(c)}},"nth-child":function(s,o,f){var u=f.adapter,c=f.equals,l=(0,r.default)(o);return l===n.default.falseFunc?n.default.falseFunc:l===n.default.trueFunc?a(s,u):function(h){for(var p=u.getSiblings(h),m=0,v=0;v<p.length&&!c(h,p[v]);v++)u.isTag(p[v])&&m++;return l(m)&&s(h)}},"nth-last-child":function(s,o,f){var u=f.adapter,c=f.equals,l=(0,r.default)(o);return l===n.default.falseFunc?n.default.falseFunc:l===n.default.trueFunc?a(s,u):function(h){for(var p=u.getSiblings(h),m=0,v=p.length-1;v>=0&&!c(h,p[v]);v--)u.isTag(p[v])&&m++;return l(m)&&s(h)}},"nth-of-type":function(s,o,f){var u=f.adapter,c=f.equals,l=(0,r.default)(o);return l===n.default.falseFunc?n.default.falseFunc:l===n.default.trueFunc?a(s,u):function(h){for(var p=u.getSiblings(h),m=0,v=0;v<p.length;v++){var b=p[v];if(c(h,b))break;u.isTag(b)&&u.getName(b)===u.getName(h)&&m++}return l(m)&&s(h)}},"nth-last-of-type":function(s,o,f){var u=f.adapter,c=f.equals,l=(0,r.default)(o);return l===n.default.falseFunc?n.default.falseFunc:l===n.default.trueFunc?a(s,u):function(h){for(var p=u.getSiblings(h),m=0,v=p.length-1;v>=0;v--){var b=p[v];if(c(h,b))break;u.isTag(b)&&u.getName(b)===u.getName(h)&&m++}return l(m)&&s(h)}},root:function(s,o,f){var u=f.adapter;return function(c){var l=u.getParent(c);return(l==null||!u.isTag(l))&&s(c)}},scope:function(s,o,f,u){var c=f.equals;return!u||u.length===0?e.filters.root(s,o,f):u.length===1?function(l){return c(u[0],l)&&s(l)}:function(l){return u.includes(l)&&s(l)}},hover:i("isHovered"),visited:i("isVisited"),active:i("isActive")};function i(s){return function(f,u,c){var l=c.adapter,d=l[s];return typeof d!="function"?n.default.falseFunc:function(p){return d(p)&&f(p)}}}})(Ix);var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.verifyPseudoArgs=Bf.pseudos=void 0;Bf.pseudos={empty:function(e,t){var r=t.adapter;return!r.getChildren(e).some(function(n){return r.isTag(n)||r.getText(n)!==""})},"first-child":function(e,t){var r=t.adapter,n=t.equals;if(r.prevElementSibling)return r.prevElementSibling(e)==null;var a=r.getSiblings(e).find(function(i){return r.isTag(i)});return a!=null&&n(e,a)},"last-child":function(e,t){for(var r=t.adapter,n=t.equals,a=r.getSiblings(e),i=a.length-1;i>=0;i--){if(n(e,a[i]))return!0;if(r.isTag(a[i]))break}return!1},"first-of-type":function(e,t){for(var r=t.adapter,n=t.equals,a=r.getSiblings(e),i=r.getName(e),s=0;s<a.length;s++){var o=a[s];if(n(e,o))return!0;if(r.isTag(o)&&r.getName(o)===i)break}return!1},"last-of-type":function(e,t){for(var r=t.adapter,n=t.equals,a=r.getSiblings(e),i=r.getName(e),s=a.length-1;s>=0;s--){var o=a[s];if(n(e,o))return!0;if(r.isTag(o)&&r.getName(o)===i)break}return!1},"only-of-type":function(e,t){var r=t.adapter,n=t.equals,a=r.getName(e);return r.getSiblings(e).every(function(i){return n(e,i)||!r.isTag(i)||r.getName(i)!==a})},"only-child":function(e,t){var r=t.adapter,n=t.equals;return r.getSiblings(e).every(function(a){return n(e,a)||!r.isTag(a)})}};function Toe(e,t,r,n){if(r===null){if(e.length>n)throw new Error("Pseudo-class :".concat(t," requires an argument"))}else if(e.length===n)throw new Error("Pseudo-class :".concat(t," doesn't have any arguments"))}Bf.verifyPseudoArgs=Toe;var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.aliases=void 0;Hv.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var $v={};(function(e){var t=$&&$.__spreadArray||function(u,c,l){if(l||arguments.length===2)for(var d=0,h=c.length,p;d<h;d++)(p||!(d in c))&&(p||(p=Array.prototype.slice.call(c,0,d)),p[d]=c[d]);return u.concat(p||Array.prototype.slice.call(c))},r=$&&$.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var n=r(uc),a=vl;e.PLACEHOLDER_ELEMENT={};function i(u,c){return u===n.default.falseFunc?n.default.falseFunc:function(l){return c.isTag(l)&&u(l)}}e.ensureIsTag=i;function s(u,c){var l=c.getSiblings(u);if(l.length<=1)return[];var d=l.indexOf(u);return d<0||d===l.length-1?[]:l.slice(d+1).filter(c.isTag)}e.getNextSiblings=s;function o(u){return{xmlMode:!!u.xmlMode,lowerCaseAttributeNames:!!u.lowerCaseAttributeNames,lowerCaseTags:!!u.lowerCaseTags,quirksMode:!!u.quirksMode,cacheResults:!!u.cacheResults,pseudos:u.pseudos,adapter:u.adapter,equals:u.equals}}var f=function(u,c,l,d,h){var p=h(c,o(l),d);return p===n.default.trueFunc?u:p===n.default.falseFunc?n.default.falseFunc:function(m){return p(m)&&u(m)}};e.subselects={is:f,matches:f,where:f,not:function(u,c,l,d,h){var p=h(c,o(l),d);return p===n.default.falseFunc?u:p===n.default.trueFunc?n.default.falseFunc:function(m){return!p(m)&&u(m)}},has:function(u,c,l,d,h){var p=l.adapter,m=o(l);m.relativeSelector=!0;var v=c.some(function(I){return I.some(a.isTraversal)})?[e.PLACEHOLDER_ELEMENT]:void 0,b=h(c,m,v);if(b===n.default.falseFunc)return n.default.falseFunc;var g=i(b,p);if(v&&b!==n.default.trueFunc){var y=b.shouldTestNextSiblings,C=y===void 0?!1:y;return function(I){if(!u(I))return!1;v[0]=I;var P=p.getChildren(I),O=C?t(t([],P,!0),s(I,p),!0):P;return p.existsOne(g,O)}}return function(I){return u(I)&&p.existsOne(g,p.getChildren(I))}}}})($v);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=Fh,r=Ix;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return r.filters}});var n=Bf;Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return n.pseudos}});var a=Hv;Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return a.aliases}});var i=$v;function s(o,f,u,c,l){var d,h=f.name,p=f.data;if(Array.isArray(p)){if(!(h in i.subselects))throw new Error("Unknown pseudo-class :".concat(h,"(").concat(p,")"));return i.subselects[h](o,p,u,c,l)}var m=(d=u.pseudos)===null||d===void 0?void 0:d[h],v=typeof m=="string"?m:a.aliases[h];if(typeof v=="string"){if(p!=null)throw new Error("Pseudo ".concat(h," doesn't have any arguments"));var b=(0,t.parse)(v);return i.subselects.is(o,b,u,c,l)}if(typeof m=="function")return(0,n.verifyPseudoArgs)(m,h,p,1),function(y){return m(y,p)&&o(y)};if(h in r.filters)return r.filters[h](o,p,u,c);if(h in n.pseudos){var g=n.pseudos[h];return(0,n.verifyPseudoArgs)(g,h,p,2),function(y){return g(y,u,p)&&o(y)}}throw new Error("Unknown pseudo-class :".concat(h))}e.compilePseudoSelector=s})(NT);Object.defineProperty(kv,"__esModule",{value:!0});kv.compileGeneralSelector=void 0;var Eoe=Bv,Soe=NT,fi=Fh;function ty(e,t){var r=t.getParent(e);return r&&t.isTag(r)?r:null}function Aoe(e,t,r,n,a){var i=r.adapter,s=r.equals;switch(t.type){case fi.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case fi.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case fi.SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!r.xmlMode||r.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),Eoe.attributeRules[t.action](e,t,r)}case fi.SelectorType.Pseudo:return(0,Soe.compilePseudoSelector)(e,t,r,n,a);case fi.SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var o=t.name;return(!r.xmlMode||r.lowerCaseTags)&&(o=o.toLowerCase()),function(c){return i.getName(c)===o&&e(c)}}case fi.SelectorType.Descendant:{if(r.cacheResults===!1||typeof WeakSet>"u")return function(c){for(var l=c;l=ty(l,i);)if(e(l))return!0;return!1};var f=new WeakSet;return function(c){for(var l=c;l=ty(l,i);)if(!f.has(l)){if(i.isTag(l)&&e(l))return!0;f.add(l)}return!1}}case"_flexibleDescendant":return function(c){var l=c;do if(e(l))return!0;while(l=ty(l,i));return!1};case fi.SelectorType.Parent:return function(c){return i.getChildren(c).some(function(l){return i.isTag(l)&&e(l)})};case fi.SelectorType.Child:return function(c){var l=i.getParent(c);return l!=null&&i.isTag(l)&&e(l)};case fi.SelectorType.Sibling:return function(c){for(var l=i.getSiblings(c),d=0;d<l.length;d++){var h=l[d];if(s(c,h))break;if(i.isTag(h)&&e(h))return!0}return!1};case fi.SelectorType.Adjacent:return i.prevElementSibling?function(c){var l=i.prevElementSibling(c);return l!=null&&e(l)}:function(c){for(var l=i.getSiblings(c),d,h=0;h<l.length;h++){var p=l[h];if(s(c,p))break;i.isTag(p)&&(d=p)}return!!d&&e(d)};case fi.SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}kv.compileGeneralSelector=Aoe;var woe=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Coe=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ioe=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&woe(t,e,r);return Coe(t,e),t},Poe=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eo,"__esModule",{value:!0});eo.compileToken=eo.compileUnsafe=eo.compile=void 0;var ps=Fh,Xs=Poe(uc),t_=Ioe(vl),Noe=kv,Nx=$v;function Ooe(e,t,r){var n=Ox(e,t,r);return(0,Nx.ensureIsTag)(n,t.adapter)}eo.compile=Ooe;function Ox(e,t,r){var n=typeof e=="string"?(0,ps.parse)(e):e;return OT(n,t,r)}eo.compileUnsafe=Ox;function xx(e){return e.type===ps.SelectorType.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(function(t){return t.some(xx)}))}var xoe={type:ps.SelectorType.Descendant},Roe={type:"_flexibleDescendant"},Doe={type:ps.SelectorType.Pseudo,name:"scope",data:null};function Moe(e,t,r){for(var n=t.adapter,a=!!(r!=null&&r.every(function(f){var u=n.isTag(f)&&n.getParent(f);return f===Nx.PLACEHOLDER_ELEMENT||u&&n.isTag(u)})),i=0,s=e;i<s.length;i++){var o=s[i];if(!(o.length>0&&(0,t_.isTraversal)(o[0])&&o[0].type!==ps.SelectorType.Descendant))if(a&&!o.some(xx))o.unshift(xoe);else continue;o.unshift(Doe)}}function OT(e,t,r){var n;e.forEach(t_.default),r=(n=t.context)!==null&&n!==void 0?n:r;var a=Array.isArray(r),i=r&&(Array.isArray(r)?r:[r]);if(t.relativeSelector!==!1)Moe(e,t,i);else if(e.some(function(f){return f.length>0&&(0,t_.isTraversal)(f[0])}))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var s=!1,o=e.map(function(f){if(f.length>=2){var u=f[0],c=f[1];u.type!==ps.SelectorType.Pseudo||u.name!=="scope"||(a&&c.type===ps.SelectorType.Descendant?f[1]=Roe:(c.type===ps.SelectorType.Adjacent||c.type===ps.SelectorType.Sibling)&&(s=!0))}return Loe(f,t,i)}).reduce(koe,Xs.default.falseFunc);return o.shouldTestNextSiblings=s,o}eo.compileToken=OT;function Loe(e,t,r){var n;return e.reduce(function(a,i){return a===Xs.default.falseFunc?Xs.default.falseFunc:(0,Noe.compileGeneralSelector)(a,i,t,r,OT)},(n=t.rootFunc)!==null&&n!==void 0?n:Xs.default.trueFunc)}function koe(e,t){return t===Xs.default.falseFunc||e===Xs.default.trueFunc?e:e===Xs.default.falseFunc||t===Xs.default.trueFunc?t:function(n){return e(n)||t(n)}}(function(e){var t=$&&$.__createBinding||(Object.create?function(g,y,C,I){I===void 0&&(I=C);var P=Object.getOwnPropertyDescriptor(y,C);(!P||("get"in P?!y.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return y[C]}}),Object.defineProperty(g,I,P)}:function(g,y,C,I){I===void 0&&(I=C),g[I]=y[C]}),r=$&&$.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),n=$&&$.__importStar||function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var C in g)C!=="default"&&Object.prototype.hasOwnProperty.call(g,C)&&t(y,g,C);return r(y,g),y},a=$&&$.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var i=n(vi),s=a(uc),o=eo,f=$v,u=function(g,y){return g===y},c={adapter:i,equals:u};function l(g){var y,C,I,P,O=g??c;return(y=O.adapter)!==null&&y!==void 0||(O.adapter=i),(C=O.equals)!==null&&C!==void 0||(O.equals=(P=(I=O.adapter)===null||I===void 0?void 0:I.equals)!==null&&P!==void 0?P:u),O}function d(g){return function(C,I,P){var O=l(I);return g(C,O,P)}}e.compile=d(o.compile),e._compileUnsafe=d(o.compileUnsafe),e._compileToken=d(o.compileToken);function h(g){return function(C,I,P){var O=l(P);typeof C!="function"&&(C=(0,o.compileUnsafe)(C,O,I));var N=p(I,O.adapter,C.shouldTestNextSiblings);return g(C,N,O)}}function p(g,y,C){return C===void 0&&(C=!1),C&&(g=m(g,y)),Array.isArray(g)?y.removeSubsets(g):y.getChildren(g)}e.prepareContext=p;function m(g,y){for(var C=Array.isArray(g)?g.slice(0):[g],I=C.length,P=0;P<I;P++){var O=(0,f.getNextSiblings)(C[P],y);C.push.apply(C,O)}return C}e.selectAll=h(function(g,y,C){return g===s.default.falseFunc||!y||y.length===0?[]:C.adapter.findAll(g,y)}),e.selectOne=h(function(g,y,C){return g===s.default.falseFunc||!y||y.length===0?null:C.adapter.findOne(g,y)});function v(g,y,C){var I=l(C);return(typeof y=="function"?y:(0,o.compile)(y,I))(g)}e.is=v,e.default=e.selectAll;var b=NT;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return b.aliases}})})(e_);var Ff={},xT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function t(n){return n.type!=="pseudo"?!1:e.filterNames.has(n.name)?!0:n.name==="not"&&Array.isArray(n.data)?n.data.some(function(a){return a.some(t)}):!1}e.isFilter=t;function r(n,a,i){var s=a!=null?parseInt(a,10):NaN;switch(n){case"first":return 1;case"nth":case"eq":return isFinite(s)?s>=0?s+1:1/0:0;case"lt":return isFinite(s)?s>=0?Math.min(s,i):1/0:0;case"gt":return isFinite(s)?1/0:0;case"odd":return 2*i;case"even":return 2*i-1;case"last":case"not":return 1/0}}e.getLimit=r})(xT);Object.defineProperty(Ff,"__esModule",{value:!0});Ff.groupSelectors=Ff.getDocumentRoot=void 0;var Boe=xT;function Foe(e){for(;e.parent;)e=e.parent;return e}Ff.getDocumentRoot=Foe;function Hoe(e){for(var t=[],r=[],n=0,a=e;n<a.length;n++){var i=a[n];i.some(Boe.isFilter)?t.push(i):r.push(i)}return[r,t]}Ff.groupSelectors=Hoe;(function(e){var t=$&&$.__assign||function(){return t=Object.assign||function(D){for(var w,T=1,x=arguments.length;T<x;T++){w=arguments[T];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(D[_]=w[_])}return D},t.apply(this,arguments)},r=$&&$.__createBinding||(Object.create?function(D,w,T,x){x===void 0&&(x=T);var _=Object.getOwnPropertyDescriptor(w,T);(!_||("get"in _?!w.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(D,x,_)}:function(D,w,T,x){x===void 0&&(x=T),D[x]=w[T]}),n=$&&$.__setModuleDefault||(Object.create?function(D,w){Object.defineProperty(D,"default",{enumerable:!0,value:w})}:function(D,w){D.default=w}),a=$&&$.__importStar||function(D){if(D&&D.__esModule)return D;var w={};if(D!=null)for(var T in D)T!=="default"&&Object.prototype.hasOwnProperty.call(D,T)&&r(w,D,T);return n(w,D),w},i=$&&$.__spreadArray||function(D,w,T){if(T||arguments.length===2)for(var x=0,_=w.length,M;x<_;x++)(M||!(x in w))&&(M||(M=Array.prototype.slice.call(w,0,x)),M[x]=w[x]);return D.concat(M||Array.prototype.slice.call(w))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var s=Fh,o=e_,f=a(vi),u=a(uc),c=Ff,l=xT,d=e_;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return d.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return d.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return d.aliases}});var h={type:s.SelectorType.Universal,namespace:null},p={type:s.SelectorType.Pseudo,name:"scope",data:null};function m(D,w,T){return T===void 0&&(T={}),v([D],w,T)}e.is=m;function v(D,w,T){if(T===void 0&&(T={}),typeof w=="function")return D.some(w);var x=(0,c.groupSelectors)((0,s.parse)(w)),_=x[0],M=x[1];return _.length>0&&D.some((0,o._compileToken)(_,T))||M.some(function(L){return C(L,D,T).length>0})}e.some=v;function b(D,w,T,x){var _=typeof T=="string"?parseInt(T,10):NaN;switch(D){case"first":case"lt":return w;case"last":return w.length>0?[w[w.length-1]]:w;case"nth":case"eq":return isFinite(_)&&Math.abs(_)<w.length?[_<0?w[w.length+_]:w[_]]:[];case"gt":return isFinite(_)?w.slice(_+1):[];case"even":return w.filter(function(L,F){return F%2===0});case"odd":return w.filter(function(L,F){return F%2===1});case"not":{var M=new Set(y(T,w,x));return w.filter(function(L){return!M.has(L)})}}}function g(D,w,T){return T===void 0&&(T={}),y((0,s.parse)(D),w,T)}e.filter=g;function y(D,w,T){if(w.length===0)return[];var x=(0,c.groupSelectors)(D),_=x[0],M=x[1],L;if(_.length){var F=S(w,_,T);if(M.length===0)return F;F.length&&(L=new Set(F))}for(var G=0;G<M.length&&(L==null?void 0:L.size)!==w.length;G++){var U=M[G],q=L?w.filter(function(W){return f.isTag(W)&&!L.has(W)}):w;if(q.length===0)break;var F=C(U,w,T);if(F.length)if(L)F.forEach(function(W){return L.add(W)});else{if(G===M.length-1)return F;L=new Set(F)}}return typeof L<"u"?L.size===w.length?w:w.filter(function(V){return L.has(V)}):[]}function C(D,w,T){var x;if(D.some(s.isTraversal)){var _=(x=T.root)!==null&&x!==void 0?x:(0,c.getDocumentRoot)(w[0]),M=t(t({},T),{context:w,relativeSelector:!1});return D.push(p),P(_,D,M,!0,w.length)}return P(w,D,T,!1,w.length)}function I(D,w,T,x){if(T===void 0&&(T={}),x===void 0&&(x=1/0),typeof D=="function")return N(w,D);var _=(0,c.groupSelectors)((0,s.parse)(D)),M=_[0],L=_[1],F=L.map(function(G){return P(w,G,T,!0,x)});return M.length&&F.push(O(w,M,T,x)),F.length===0?[]:F.length===1?F[0]:f.uniqueSort(F.reduce(function(G,U){return i(i([],G,!0),U,!0)}))}e.select=I;function P(D,w,T,x,_){var M=w.findIndex(l.isFilter),L=w.slice(0,M),F=w[M],G=w.length-1===M?_:1/0,U=(0,l.getLimit)(F.name,F.data,G);if(U===0)return[];var q=L.length===0&&!Array.isArray(D)?f.getChildren(D).filter(f.isTag):L.length===0?(Array.isArray(D)?D:[D]).filter(f.isTag):x||L.some(s.isTraversal)?O(D,[L],T,U):S(D,[L],T),V=q.slice(0,U),W=b(F.name,V,F.data,T);if(W.length===0||w.length===M+1)return W;var Q=w.slice(M+1),te=Q.some(s.isTraversal);if(te){if((0,s.isTraversal)(Q[0])){var pe=Q[0].type;(pe===s.SelectorType.Sibling||pe===s.SelectorType.Adjacent)&&(W=(0,o.prepareContext)(W,f,!0)),Q.unshift(h)}T=t(t({},T),{relativeSelector:!1,rootFunc:function(be){return W.includes(be)}})}else T.rootFunc&&T.rootFunc!==u.trueFunc&&(T=t(t({},T),{rootFunc:u.trueFunc}));return Q.some(l.isFilter)?P(W,Q,T,!1,_):te?O(W,[Q],T,_):S(W,[Q],T)}function O(D,w,T,x){var _=(0,o._compileToken)(w,T,D);return N(D,_,x)}function N(D,w,T){T===void 0&&(T=1/0);var x=(0,o.prepareContext)(D,f,w.shouldTestNextSiblings);return f.find(function(_){return f.isTag(_)&&w(_)},x,!0,T)}function S(D,w,T){var x=(Array.isArray(D)?D:[D]).filter(f.isTag);if(x.length===0)return x;var _=(0,o._compileToken)(w,T);return _===u.trueFunc?x:x.filter(_)}})(gx);var $oe=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Uoe=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),joe=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$oe(t,e,r);return Uoe(t,e),t},r_=$&&$.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(je,"__esModule",{value:!0});je.addBack=je.add=je.end=je.slice=je.index=je.toArray=je.get=je.eq=je.last=je.first=je.has=je.not=je.is=je.filterArray=je.filter=je.map=je.each=je.contents=je.children=je.siblings=je.prevUntil=je.prevAll=je.prev=je.nextUntil=je.nextAll=je.next=je.closest=je.parentsUntil=je.parents=je.parent=je.find=void 0;var Uv=Bn,bl=joe(gx),_i=oc,Goe=Rr,Gi=vi,Koe=/^\s*[~+]/;function Woe(e){var t;if(!e)return this._make([]);var r=this.toArray();if(typeof e!="string"){var n=(0,_i.isCheerio)(e)?e.toArray():[e];return this._make(n.filter(function(s){return r.some(function(o){return(0,Goe.contains)(o,s)})}))}var a=Koe.test(e)?r:this.children().toArray(),i={context:r,root:(t=this._root)===null||t===void 0?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(bl.select(e,a,i))}je.find=Woe;function RT(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return function(a){var i,s=e(t,this);return a&&(s=LT(s,a,this.options.xmlMode,(i=this._root)===null||i===void 0?void 0:i[0])),this._make(this.length>1&&s.length>1?r.reduce(function(o,f){return f(o)},s):s)}}}var Hh=RT(function(e,t){for(var r,n=[],a=0;a<t.length;a++){var i=e(t[a]);n.push(i)}return(r=new Array).concat.apply(r,n)}),DT=RT(function(e,t){for(var r=[],n=0;n<t.length;n++){var a=e(t[n]);a!==null&&r.push(a)}return r});function MT(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=null,a=RT(function(i,s){var o=[];return(0,_i.domEach)(s,function(f){for(var u;(u=i(f))&&!(n!=null&&n(u,o.length));f=u)o.push(u)}),o}).apply(void 0,r_([e],t,!1));return function(i,s){var o=this;n=typeof i=="string"?function(u){return bl.is(u,i,o.options)}:i?$h(i):null;var f=a.call(this,s);return n=null,f}}function gl(e){return Array.from(new Set(e))}je.parent=DT(function(e){var t=e.parent;return t&&!(0,Uv.isDocument)(t)?t:null},gl);je.parents=Hh(function(e){for(var t=[];e.parent&&!(0,Uv.isDocument)(e.parent);)t.push(e.parent),e=e.parent;return t},Gi.uniqueSort,function(e){return e.reverse()});je.parentsUntil=MT(function(e){var t=e.parent;return t&&!(0,Uv.isDocument)(t)?t:null},Gi.uniqueSort,function(e){return e.reverse()});function qoe(e){var t,r=[];if(!e)return this._make(r);var n={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?function(i){return bl.is(i,e,n)}:$h(e);return(0,_i.domEach)(this,function(i){for(;i&&(0,_i.isTag)(i);){if(a(i,0)){r.includes(i)||r.push(i);break}i=i.parent}}),this._make(r)}je.closest=qoe;je.next=DT(function(e){return(0,Gi.nextElementSibling)(e)});je.nextAll=Hh(function(e){for(var t=[];e.next;)e=e.next,(0,_i.isTag)(e)&&t.push(e);return t},gl);je.nextUntil=MT(function(e){return(0,Gi.nextElementSibling)(e)},gl);je.prev=DT(function(e){return(0,Gi.prevElementSibling)(e)});je.prevAll=Hh(function(e){for(var t=[];e.prev;)e=e.prev,(0,_i.isTag)(e)&&t.push(e);return t},gl);je.prevUntil=MT(function(e){return(0,Gi.prevElementSibling)(e)},gl);je.siblings=Hh(function(e){return(0,Gi.getSiblings)(e).filter(function(t){return(0,_i.isTag)(t)&&t!==e})},Gi.uniqueSort);je.children=Hh(function(e){return(0,Gi.getChildren)(e).filter(_i.isTag)},gl);function Voe(){var e=this.toArray().reduce(function(t,r){return(0,Uv.hasChildren)(r)?t.concat(r.children):t},[]);return this._make(e)}je.contents=Voe;function zoe(e){for(var t=0,r=this.length;t<r&&e.call(this[t],t,this[t])!==!1;)++t;return this}je.each=zoe;function Yoe(e){for(var t=[],r=0;r<this.length;r++){var n=this[r],a=e.call(n,r,n);a!=null&&(t=t.concat(a))}return this._make(t)}je.map=Yoe;function $h(e){return typeof e=="function"?function(t,r){return e.call(t,r,t)}:(0,_i.isCheerio)(e)?function(t){return Array.prototype.includes.call(e,t)}:function(t){return e===t}}function Xoe(e){var t;return this._make(LT(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}je.filter=Xoe;function LT(e,t,r,n){return typeof t=="string"?bl.filter(t,e,{xmlMode:r,root:n}):e.filter($h(t))}je.filterArray=LT;function Joe(e){var t=this.toArray();return typeof e=="string"?bl.some(t.filter(_i.isTag),e,this.options):e?t.some($h(e)):!1}je.is=Joe;function Qoe(e){var t=this.toArray();if(typeof e=="string"){var r=new Set(bl.filter(e,t,this.options));t=t.filter(function(a){return!r.has(a)})}else{var n=$h(e);t=t.filter(function(a,i){return!n(a,i)})}return this._make(t)}je.not=Qoe;function Zoe(e){var t=this;return this.filter(typeof e=="string"?":has(".concat(e,")"):function(r,n){return t._make(n).find(e).length>0})}je.has=Zoe;function eue(){return this.length>1?this._make(this[0]):this}je.first=eue;function tue(){return this.length>0?this._make(this[this.length-1]):this}je.last=tue;function rue(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}je.eq=rue;function nue(e){return e==null?this.toArray():this[e<0?this.length+e:e]}je.get=nue;function aue(){return Array.prototype.slice.call(this)}je.toArray=aue;function iue(e){var t,r;return e==null?(t=this.parent().children(),r=this[0]):typeof e=="string"?(t=this._make(e),r=this[0]):(t=this,r=(0,_i.isCheerio)(e)?e[0]:e),Array.prototype.indexOf.call(t,r)}je.index=iue;function sue(e,t){return this._make(Array.prototype.slice.call(this,e,t))}je.slice=sue;function oue(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}je.end=oue;function uue(e,t){var r=this._make(e,t),n=(0,Gi.uniqueSort)(r_(r_([],this.get(),!0),r.get(),!0));return this._make(n)}je.add=uue;function cue(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}je.addBack=cue;var wt={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.update=Gu.getParse=void 0;var fue=vi,A6=Bn;function lue(e){return function(r,n,a,i){if(typeof ae<"u"&&ae.isBuffer(r)&&(r=r.toString()),typeof r=="string")return e(r,n,a,i);var s=r;if(!Array.isArray(s)&&(0,A6.isDocument)(s))return s;var o=new A6.Document([]);return Rx(s,o),o}}Gu.getParse=lue;function Rx(e,t){var r=Array.isArray(e)?e:[e];t?t.children=r:t=null;for(var n=0;n<r.length;n++){var a=r[n];a.parent&&a.parent.children!==r&&(0,fue.removeElement)(a),t?(a.prev=r[n-1]||null,a.next=r[n+1]||null):a.prev=a.next=null,a.parent=t}return t}Gu.update=Rx;var due=$&&$.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(wt,"__esModule",{value:!0});wt.clone=wt.text=wt.toString=wt.html=wt.empty=wt.replaceWith=wt.remove=wt.insertBefore=wt.before=wt.insertAfter=wt.after=wt.wrapAll=wt.unwrap=wt.wrapInner=wt.wrap=wt.prepend=wt.append=wt.prependTo=wt.appendTo=wt._makeDomArray=void 0;var Ki=Bn,Hf=Gu,w6=Rr,Wr=oc,hue=vi;function pue(e,t){var r=this;return e==null?[]:(0,Wr.isCheerio)(e)?t?(0,Wr.cloneDom)(e.get()):e.get():Array.isArray(e)?e.reduce(function(n,a){return n.concat(r._makeDomArray(a,t))},[]):typeof e=="string"?this._parse(e,this.options,!1,null).children:t?(0,Wr.cloneDom)([e]):[e]}wt._makeDomArray=pue;function Dx(e){return function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=this.length-1;return(0,Wr.domEach)(this,function(i,s){if((0,Ki.hasChildren)(i)){var o=typeof r[0]=="function"?r[0].call(i,s,t._render(i.children)):r,f=t._makeDomArray(o,s<a);e(f,i.children,i)}})}}function Eo(e,t,r,n,a){for(var i,s,o=due([t,r],n,!0),f=t===0?null:e[t-1],u=t+r>=e.length?null:e[t+r],c=0;c<n.length;++c){var l=n[c],d=l.parent;if(d){var h=d.children,p=h.indexOf(l);p>-1&&(d.children.splice(p,1),a===d&&t>p&&o[0]--)}l.parent=a,l.prev&&(l.prev.next=(i=l.next)!==null&&i!==void 0?i:null),l.next&&(l.next.prev=(s=l.prev)!==null&&s!==void 0?s:null),l.prev=c===0?f:n[c-1],l.next=c===n.length-1?u:n[c+1]}return f&&(f.next=n[0]),u&&(u.prev=n[n.length-1]),e.splice.apply(e,o)}function mue(e){var t=(0,Wr.isCheerio)(e)?e:this._make(e);return t.append(this),this}wt.appendTo=mue;function vue(e){var t=(0,Wr.isCheerio)(e)?e:this._make(e);return t.prepend(this),this}wt.prependTo=vue;wt.append=Dx(function(e,t,r){Eo(t,t.length,0,e,r)});wt.prepend=Dx(function(e,t,r){Eo(t,0,0,e,r)});function Mx(e){return function(t){for(var r=this.length-1,n=this.parents().last(),a=0;a<this.length;a++){var i=this[a],s=typeof t=="function"?t.call(i,a,i):typeof t=="string"&&!(0,Wr.isHtml)(t)?n.find(t).clone():t,o=this._makeDomArray(s,a<r)[0];if(!(!o||!(0,Ki.hasChildren)(o))){for(var f=o,u=0;u<f.children.length;){var c=f.children[u];(0,Wr.isTag)(c)?(f=c,u=0):u++}e(i,f,[o])}}return this}}wt.wrap=Mx(function(e,t,r){var n=e.parent;if(n){var a=n.children,i=a.indexOf(e);(0,Hf.update)([e],t),Eo(a,i,0,r,n)}});wt.wrapInner=Mx(function(e,t,r){(0,Ki.hasChildren)(e)&&((0,Hf.update)(e.children,t),(0,Hf.update)(r,e))});function bue(e){var t=this;return this.parent(e).not("body").each(function(r,n){t._make(n).replaceWith(n.children)}),this}wt.unwrap=bue;function gue(e){var t=this[0];if(t){for(var r=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t),n=void 0,a=0;a<r.length;a++)r[a].type==="tag"&&(n=r[a]);for(var i=0;n&&i<n.children.length;){var s=n.children[i];s.type==="tag"?(n=s,i=0):i++}n&&this._make(n).append(this)}return this}wt.wrapAll=gue;function yue(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.length-1;return(0,Wr.domEach)(this,function(a,i){var s=a.parent;if(!(!(0,Ki.hasChildren)(a)||!s)){var o=s.children,f=o.indexOf(a);if(!(f<0)){var u=typeof t[0]=="function"?t[0].call(a,i,e._render(a.children)):t,c=e._makeDomArray(u,i<n);Eo(o,f+1,0,c,s)}}})}wt.after=yue;function _ue(e){var t=this;typeof e=="string"&&(e=this._make(e)),this.remove();var r=[];return this._makeDomArray(e).forEach(function(n){var a=t.clone().toArray(),i=n.parent;if(i){var s=i.children,o=s.indexOf(n);o<0||(Eo(s,o+1,0,a,i),r.push.apply(r,a))}}),this._make(r)}wt.insertAfter=_ue;function Tue(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.length-1;return(0,Wr.domEach)(this,function(a,i){var s=a.parent;if(!(!(0,Ki.hasChildren)(a)||!s)){var o=s.children,f=o.indexOf(a);if(!(f<0)){var u=typeof t[0]=="function"?t[0].call(a,i,e._render(a.children)):t,c=e._makeDomArray(u,i<n);Eo(o,f,0,c,s)}}})}wt.before=Tue;function Eue(e){var t=this,r=this._make(e);this.remove();var n=[];return(0,Wr.domEach)(r,function(a){var i=t.clone().toArray(),s=a.parent;if(s){var o=s.children,f=o.indexOf(a);f<0||(Eo(o,f,0,i,s),n.push.apply(n,i))}}),this._make(n)}wt.insertBefore=Eue;function Sue(e){var t=e?this.filter(e):this;return(0,Wr.domEach)(t,function(r){(0,hue.removeElement)(r),r.prev=r.next=r.parent=null}),this}wt.remove=Sue;function Aue(e){var t=this;return(0,Wr.domEach)(this,function(r,n){var a=r.parent;if(a){var i=a.children,s=typeof e=="function"?e.call(r,n,r):e,o=t._makeDomArray(s);(0,Hf.update)(o,null);var f=i.indexOf(r);Eo(i,f,1,o,a),o.includes(r)||(r.parent=r.prev=r.next=null)}})}wt.replaceWith=Aue;function wue(){return(0,Wr.domEach)(this,function(e){(0,Ki.hasChildren)(e)&&(e.children.forEach(function(t){t.next=t.prev=t.parent=null}),e.children.length=0)})}wt.empty=wue;function Cue(e){var t=this;if(e===void 0){var r=this[0];return!r||!(0,Ki.hasChildren)(r)?null:this._render(r.children)}return(0,Wr.domEach)(this,function(n){if((0,Ki.hasChildren)(n)){n.children.forEach(function(i){i.next=i.prev=i.parent=null});var a=(0,Wr.isCheerio)(e)?e.toArray():t._parse("".concat(e),t.options,!1,n).children;(0,Hf.update)(a,n)}})}wt.html=Cue;function Iue(){return this._render(this)}wt.toString=Iue;function Pue(e){var t=this;return e===void 0?(0,w6.text)(this):typeof e=="function"?(0,Wr.domEach)(this,function(r,n){return t._make(r).text(e.call(r,n,(0,w6.text)([r])))}):(0,Wr.domEach)(this,function(r){if((0,Ki.hasChildren)(r)){r.children.forEach(function(a){a.next=a.prev=a.parent=null});var n=new Ki.Text("".concat(e));(0,Hf.update)(n,r)}})}wt.text=Pue;function Nue(){return this._make((0,Wr.cloneDom)(this.get()))}wt.clone=Nue;var jv={};Object.defineProperty(jv,"__esModule",{value:!0});jv.css=void 0;var n_=oc;function Oue(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return(0,n_.domEach)(this,function(r,n){(0,n_.isTag)(r)&&Lx(r,e,t,n)});if(this.length!==0)return kx(this[0],e)}jv.css=Oue;function Lx(e,t,r,n){if(typeof t=="string"){var a=kx(e),i=typeof r=="function"?r.call(e,n,a[t]):r;i===""?delete a[t]:i!=null&&(a[t]=i),e.attribs.style=xue(a)}else typeof t=="object"&&Object.keys(t).forEach(function(s,o){Lx(e,s,t[s],o)})}function kx(e,t){if(!(!e||!(0,n_.isTag)(e))){var r=Rue(e.attribs.style);if(typeof t=="string")return r[t];if(Array.isArray(t)){var n={};return t.forEach(function(a){r[a]!=null&&(n[a]=r[a])}),n}return r}}function xue(e){return Object.keys(e).reduce(function(t,r){return"".concat(t).concat(t?" ":"").concat(r,": ").concat(e[r],";")},"")}function Rue(e){if(e=(e||"").trim(),!e)return{};for(var t={},r,n=0,a=e.split(";");n<a.length;n++){var i=a[n],s=i.indexOf(":");if(s<1||s===i.length-1){var o=i.trimEnd();o.length>0&&r!==void 0&&(t[r]+=";".concat(o))}else r=i.slice(0,s).trim(),t[r]=i.slice(s+1).trim()}return t}var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.serializeArray=$f.serialize=void 0;var Due=oc,C6="input,select,textarea,keygen",Mue=/%20/g,I6=/\r?\n/g;function Lue(){var e=this.serializeArray(),t=e.map(function(r){return"".concat(encodeURIComponent(r.name),"=").concat(encodeURIComponent(r.value))});return t.join("&").replace(Mue,"+")}$f.serialize=Lue;function kue(){var e=this;return this.map(function(t,r){var n=e._make(r);return(0,Due.isTag)(r)&&r.name==="form"?n.find(C6).toArray():n.filter(C6).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(t,r){var n,a=e._make(r),i=a.attr("name"),s=(n=a.val())!==null&&n!==void 0?n:"";return Array.isArray(s)?s.map(function(o){return{name:i,value:o.replace(I6,`\r
`)}}):{name:i,value:s.replace(I6,`\r
`)}}).toArray()}$f.serializeArray=kue;var Bue=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fue=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uh=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Bue(t,e,r);return Fue(t,e),t};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.Cheerio=void 0;var Hue=Uh(Br),$ue=Uh(je),Uue=Uh(wt),jue=Uh(jv),Gue=Uh($f),jh=function(){function e(t,r,n){if(this.length=0,this.options=n,this._root=r,t){for(var a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}return e}();Lv.Cheerio=jh;jh.prototype.cheerio="[cheerio object]";jh.prototype.splice=Array.prototype.splice;jh.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(jh.prototype,Hue,$ue,Uue,jue,Gue);var Kue=$&&$.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fc=$&&$.__assign||function(){return Fc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Fc.apply(this,arguments)},Wue=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),que=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bx=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Wue(t,e,r);return que(t,e),t};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.getLoad=void 0;var ry=Bx(hl),Vue=Bx(Rr),zue=Lv,Ll=oc;function Yue(e,t){return function r(n,a,i){if(i===void 0&&(i=!0),n==null)throw new Error("cheerio.load() expects a string");var s=Fc(Fc({},ry.default),(0,ry.flatten)(a)),o=e(n,s,i,null),f=function(c){Kue(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.prototype._make=function(d,h){var p=u(d,h);return p.prevObject=this,p},l.prototype._parse=function(d,h,p,m){return e(d,h,p,m)},l.prototype._render=function(d){return t(d,this.options)},l}(zue.Cheerio);function u(c,l,d,h){if(d===void 0&&(d=o),c&&(0,Ll.isCheerio)(c))return c;var p=Fc(Fc({},s),(0,ry.flatten)(h)),m=typeof d=="string"?[e(d,p,!1,null)]:"length"in d?d:[d],v=(0,Ll.isCheerio)(m)?m:new f(m,null,p);if(v._root=v,!c)return new f(void 0,v,p);var b=typeof c=="string"&&(0,Ll.isHtml)(c)?e(c,p,!1,null).children:Xue(c)?[c]:Array.isArray(c)?c:void 0,g=new f(b,v,p);if(b)return g;if(typeof c!="string")throw new Error("Unexpected type of selector");var y=c,C=l?typeof l=="string"?(0,Ll.isHtml)(l)?new f([e(l,p,!1,null)],v,p):(y="".concat(l," ").concat(y),v):(0,Ll.isCheerio)(l)?l:new f(Array.isArray(l)?l:[l],v,p):v;return C?C.find(y):g}return Object.assign(u,Vue,{load:r,_root:o,_options:s,fn:f.prototype,prototype:f.prototype}),u}}Pv.getLoad=Yue;function Xue(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}var Uf={},kT={},Ud={},Ku={},Gv={},Kv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);e.REPLACEMENT_CHARACTER="",function(o){o[o.EOF=-1]="EOF",o[o.NULL=0]="NULL",o[o.TABULATION=9]="TABULATION",o[o.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",o[o.LINE_FEED=10]="LINE_FEED",o[o.FORM_FEED=12]="FORM_FEED",o[o.SPACE=32]="SPACE",o[o.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",o[o.QUOTATION_MARK=34]="QUOTATION_MARK",o[o.NUMBER_SIGN=35]="NUMBER_SIGN",o[o.AMPERSAND=38]="AMPERSAND",o[o.APOSTROPHE=39]="APOSTROPHE",o[o.HYPHEN_MINUS=45]="HYPHEN_MINUS",o[o.SOLIDUS=47]="SOLIDUS",o[o.DIGIT_0=48]="DIGIT_0",o[o.DIGIT_9=57]="DIGIT_9",o[o.SEMICOLON=59]="SEMICOLON",o[o.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",o[o.EQUALS_SIGN=61]="EQUALS_SIGN",o[o.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",o[o.QUESTION_MARK=63]="QUESTION_MARK",o[o.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",o[o.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",o[o.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",o[o.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",o[o.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",o[o.GRAVE_ACCENT=96]="GRAVE_ACCENT",o[o.LATIN_SMALL_A=97]="LATIN_SMALL_A",o[o.LATIN_SMALL_F=102]="LATIN_SMALL_F",o[o.LATIN_SMALL_X=120]="LATIN_SMALL_X",o[o.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",o[o.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(e.CODE_POINTS||(e.CODE_POINTS={})),e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function r(o){return o>=55296&&o<=57343}e.isSurrogate=r;function n(o){return o>=56320&&o<=57343}e.isSurrogatePair=n;function a(o,f){return(o-55296)*1024+9216+f}e.getSurrogatePairCodePoint=a;function i(o){return o!==32&&o!==10&&o!==13&&o!==9&&o!==12&&o>=1&&o<=31||o>=127&&o<=159}e.isControlCodePoint=i;function s(o){return o>=64976&&o<=65007||t.has(o)}e.isUndefinedCodePoint=s})(Kv);var Gh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERR=void 0,function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(e.ERR||(e.ERR={}))})(Gh);Object.defineProperty(Gv,"__esModule",{value:!0});Gv.Preprocessor=void 0;const jn=Kv,ny=Gh,Jue=65536;class Que{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Jue,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:r,col:n,offset:a}=this;return{code:t,startLine:r,endLine:r,startCol:n,endCol:n,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if((0,jn.isSurrogatePair)(r))return this.pos++,this._addGap(),(0,jn.getSurrogatePairCodePoint)(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,jn.CODE_POINTS.EOF;return this._err(ny.ERR.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,jn.CODE_POINTS.EOF;const n=this.html.charCodeAt(r);return n===jn.CODE_POINTS.CARRIAGE_RETURN?jn.CODE_POINTS.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,jn.CODE_POINTS.EOF;let t=this.html.charCodeAt(this.pos);return t===jn.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,jn.CODE_POINTS.LINE_FEED):t===jn.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,jn.isSurrogate)(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===jn.CODE_POINTS.LINE_FEED||t===jn.CODE_POINTS.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){(0,jn.isControlCodePoint)(t)?this._err(ny.ERR.controlCharacterInInputStream):(0,jn.isUndefinedCodePoint)(t)&&this._err(ny.ERR.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}Gv.Preprocessor=Que;var Wv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,function(r){r[r.CHARACTER=0]="CHARACTER",r[r.NULL_CHARACTER=1]="NULL_CHARACTER",r[r.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",r[r.START_TAG=3]="START_TAG",r[r.END_TAG=4]="END_TAG",r[r.COMMENT=5]="COMMENT",r[r.DOCTYPE=6]="DOCTYPE",r[r.EOF=7]="EOF",r[r.HIBERNATION=8]="HIBERNATION"}(e.TokenType||(e.TokenType={}));function t(r,n){for(let a=r.attrs.length-1;a>=0;a--)if(r.attrs[a].name===n)return r.attrs[a].value;return null}e.getTokenAttr=t})(Wv);var Ss={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0;var t;(function(c){c.HTML="http://www.w3.org/1999/xhtml",c.MATHML="http://www.w3.org/1998/Math/MathML",c.SVG="http://www.w3.org/2000/svg",c.XLINK="http://www.w3.org/1999/xlink",c.XML="http://www.w3.org/XML/1998/namespace",c.XMLNS="http://www.w3.org/2000/xmlns/"})(t=e.NS||(e.NS={})),function(c){c.TYPE="type",c.ACTION="action",c.ENCODING="encoding",c.PROMPT="prompt",c.NAME="name",c.COLOR="color",c.FACE="face",c.SIZE="size"}(e.ATTRS||(e.ATTRS={})),function(c){c.NO_QUIRKS="no-quirks",c.QUIRKS="quirks",c.LIMITED_QUIRKS="limited-quirks"}(e.DOCUMENT_MODE||(e.DOCUMENT_MODE={}));var r;(function(c){c.A="a",c.ADDRESS="address",c.ANNOTATION_XML="annotation-xml",c.APPLET="applet",c.AREA="area",c.ARTICLE="article",c.ASIDE="aside",c.B="b",c.BASE="base",c.BASEFONT="basefont",c.BGSOUND="bgsound",c.BIG="big",c.BLOCKQUOTE="blockquote",c.BODY="body",c.BR="br",c.BUTTON="button",c.CAPTION="caption",c.CENTER="center",c.CODE="code",c.COL="col",c.COLGROUP="colgroup",c.DD="dd",c.DESC="desc",c.DETAILS="details",c.DIALOG="dialog",c.DIR="dir",c.DIV="div",c.DL="dl",c.DT="dt",c.EM="em",c.EMBED="embed",c.FIELDSET="fieldset",c.FIGCAPTION="figcaption",c.FIGURE="figure",c.FONT="font",c.FOOTER="footer",c.FOREIGN_OBJECT="foreignObject",c.FORM="form",c.FRAME="frame",c.FRAMESET="frameset",c.H1="h1",c.H2="h2",c.H3="h3",c.H4="h4",c.H5="h5",c.H6="h6",c.HEAD="head",c.HEADER="header",c.HGROUP="hgroup",c.HR="hr",c.HTML="html",c.I="i",c.IMG="img",c.IMAGE="image",c.INPUT="input",c.IFRAME="iframe",c.KEYGEN="keygen",c.LABEL="label",c.LI="li",c.LINK="link",c.LISTING="listing",c.MAIN="main",c.MALIGNMARK="malignmark",c.MARQUEE="marquee",c.MATH="math",c.MENU="menu",c.META="meta",c.MGLYPH="mglyph",c.MI="mi",c.MO="mo",c.MN="mn",c.MS="ms",c.MTEXT="mtext",c.NAV="nav",c.NOBR="nobr",c.NOFRAMES="noframes",c.NOEMBED="noembed",c.NOSCRIPT="noscript",c.OBJECT="object",c.OL="ol",c.OPTGROUP="optgroup",c.OPTION="option",c.P="p",c.PARAM="param",c.PLAINTEXT="plaintext",c.PRE="pre",c.RB="rb",c.RP="rp",c.RT="rt",c.RTC="rtc",c.RUBY="ruby",c.S="s",c.SCRIPT="script",c.SECTION="section",c.SELECT="select",c.SOURCE="source",c.SMALL="small",c.SPAN="span",c.STRIKE="strike",c.STRONG="strong",c.STYLE="style",c.SUB="sub",c.SUMMARY="summary",c.SUP="sup",c.TABLE="table",c.TBODY="tbody",c.TEMPLATE="template",c.TEXTAREA="textarea",c.TFOOT="tfoot",c.TD="td",c.TH="th",c.THEAD="thead",c.TITLE="title",c.TR="tr",c.TRACK="track",c.TT="tt",c.U="u",c.UL="ul",c.SVG="svg",c.VAR="var",c.WBR="wbr",c.XMP="xmp"})(r=e.TAG_NAMES||(e.TAG_NAMES={}));var n;(function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.A=1]="A",c[c.ADDRESS=2]="ADDRESS",c[c.ANNOTATION_XML=3]="ANNOTATION_XML",c[c.APPLET=4]="APPLET",c[c.AREA=5]="AREA",c[c.ARTICLE=6]="ARTICLE",c[c.ASIDE=7]="ASIDE",c[c.B=8]="B",c[c.BASE=9]="BASE",c[c.BASEFONT=10]="BASEFONT",c[c.BGSOUND=11]="BGSOUND",c[c.BIG=12]="BIG",c[c.BLOCKQUOTE=13]="BLOCKQUOTE",c[c.BODY=14]="BODY",c[c.BR=15]="BR",c[c.BUTTON=16]="BUTTON",c[c.CAPTION=17]="CAPTION",c[c.CENTER=18]="CENTER",c[c.CODE=19]="CODE",c[c.COL=20]="COL",c[c.COLGROUP=21]="COLGROUP",c[c.DD=22]="DD",c[c.DESC=23]="DESC",c[c.DETAILS=24]="DETAILS",c[c.DIALOG=25]="DIALOG",c[c.DIR=26]="DIR",c[c.DIV=27]="DIV",c[c.DL=28]="DL",c[c.DT=29]="DT",c[c.EM=30]="EM",c[c.EMBED=31]="EMBED",c[c.FIELDSET=32]="FIELDSET",c[c.FIGCAPTION=33]="FIGCAPTION",c[c.FIGURE=34]="FIGURE",c[c.FONT=35]="FONT",c[c.FOOTER=36]="FOOTER",c[c.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",c[c.FORM=38]="FORM",c[c.FRAME=39]="FRAME",c[c.FRAMESET=40]="FRAMESET",c[c.H1=41]="H1",c[c.H2=42]="H2",c[c.H3=43]="H3",c[c.H4=44]="H4",c[c.H5=45]="H5",c[c.H6=46]="H6",c[c.HEAD=47]="HEAD",c[c.HEADER=48]="HEADER",c[c.HGROUP=49]="HGROUP",c[c.HR=50]="HR",c[c.HTML=51]="HTML",c[c.I=52]="I",c[c.IMG=53]="IMG",c[c.IMAGE=54]="IMAGE",c[c.INPUT=55]="INPUT",c[c.IFRAME=56]="IFRAME",c[c.KEYGEN=57]="KEYGEN",c[c.LABEL=58]="LABEL",c[c.LI=59]="LI",c[c.LINK=60]="LINK",c[c.LISTING=61]="LISTING",c[c.MAIN=62]="MAIN",c[c.MALIGNMARK=63]="MALIGNMARK",c[c.MARQUEE=64]="MARQUEE",c[c.MATH=65]="MATH",c[c.MENU=66]="MENU",c[c.META=67]="META",c[c.MGLYPH=68]="MGLYPH",c[c.MI=69]="MI",c[c.MO=70]="MO",c[c.MN=71]="MN",c[c.MS=72]="MS",c[c.MTEXT=73]="MTEXT",c[c.NAV=74]="NAV",c[c.NOBR=75]="NOBR",c[c.NOFRAMES=76]="NOFRAMES",c[c.NOEMBED=77]="NOEMBED",c[c.NOSCRIPT=78]="NOSCRIPT",c[c.OBJECT=79]="OBJECT",c[c.OL=80]="OL",c[c.OPTGROUP=81]="OPTGROUP",c[c.OPTION=82]="OPTION",c[c.P=83]="P",c[c.PARAM=84]="PARAM",c[c.PLAINTEXT=85]="PLAINTEXT",c[c.PRE=86]="PRE",c[c.RB=87]="RB",c[c.RP=88]="RP",c[c.RT=89]="RT",c[c.RTC=90]="RTC",c[c.RUBY=91]="RUBY",c[c.S=92]="S",c[c.SCRIPT=93]="SCRIPT",c[c.SECTION=94]="SECTION",c[c.SELECT=95]="SELECT",c[c.SOURCE=96]="SOURCE",c[c.SMALL=97]="SMALL",c[c.SPAN=98]="SPAN",c[c.STRIKE=99]="STRIKE",c[c.STRONG=100]="STRONG",c[c.STYLE=101]="STYLE",c[c.SUB=102]="SUB",c[c.SUMMARY=103]="SUMMARY",c[c.SUP=104]="SUP",c[c.TABLE=105]="TABLE",c[c.TBODY=106]="TBODY",c[c.TEMPLATE=107]="TEMPLATE",c[c.TEXTAREA=108]="TEXTAREA",c[c.TFOOT=109]="TFOOT",c[c.TD=110]="TD",c[c.TH=111]="TH",c[c.THEAD=112]="THEAD",c[c.TITLE=113]="TITLE",c[c.TR=114]="TR",c[c.TRACK=115]="TRACK",c[c.TT=116]="TT",c[c.U=117]="U",c[c.UL=118]="UL",c[c.SVG=119]="SVG",c[c.VAR=120]="VAR",c[c.WBR=121]="WBR",c[c.XMP=122]="XMP"})(n=e.TAG_ID||(e.TAG_ID={}));const a=new Map([[r.A,n.A],[r.ADDRESS,n.ADDRESS],[r.ANNOTATION_XML,n.ANNOTATION_XML],[r.APPLET,n.APPLET],[r.AREA,n.AREA],[r.ARTICLE,n.ARTICLE],[r.ASIDE,n.ASIDE],[r.B,n.B],[r.BASE,n.BASE],[r.BASEFONT,n.BASEFONT],[r.BGSOUND,n.BGSOUND],[r.BIG,n.BIG],[r.BLOCKQUOTE,n.BLOCKQUOTE],[r.BODY,n.BODY],[r.BR,n.BR],[r.BUTTON,n.BUTTON],[r.CAPTION,n.CAPTION],[r.CENTER,n.CENTER],[r.CODE,n.CODE],[r.COL,n.COL],[r.COLGROUP,n.COLGROUP],[r.DD,n.DD],[r.DESC,n.DESC],[r.DETAILS,n.DETAILS],[r.DIALOG,n.DIALOG],[r.DIR,n.DIR],[r.DIV,n.DIV],[r.DL,n.DL],[r.DT,n.DT],[r.EM,n.EM],[r.EMBED,n.EMBED],[r.FIELDSET,n.FIELDSET],[r.FIGCAPTION,n.FIGCAPTION],[r.FIGURE,n.FIGURE],[r.FONT,n.FONT],[r.FOOTER,n.FOOTER],[r.FOREIGN_OBJECT,n.FOREIGN_OBJECT],[r.FORM,n.FORM],[r.FRAME,n.FRAME],[r.FRAMESET,n.FRAMESET],[r.H1,n.H1],[r.H2,n.H2],[r.H3,n.H3],[r.H4,n.H4],[r.H5,n.H5],[r.H6,n.H6],[r.HEAD,n.HEAD],[r.HEADER,n.HEADER],[r.HGROUP,n.HGROUP],[r.HR,n.HR],[r.HTML,n.HTML],[r.I,n.I],[r.IMG,n.IMG],[r.IMAGE,n.IMAGE],[r.INPUT,n.INPUT],[r.IFRAME,n.IFRAME],[r.KEYGEN,n.KEYGEN],[r.LABEL,n.LABEL],[r.LI,n.LI],[r.LINK,n.LINK],[r.LISTING,n.LISTING],[r.MAIN,n.MAIN],[r.MALIGNMARK,n.MALIGNMARK],[r.MARQUEE,n.MARQUEE],[r.MATH,n.MATH],[r.MENU,n.MENU],[r.META,n.META],[r.MGLYPH,n.MGLYPH],[r.MI,n.MI],[r.MO,n.MO],[r.MN,n.MN],[r.MS,n.MS],[r.MTEXT,n.MTEXT],[r.NAV,n.NAV],[r.NOBR,n.NOBR],[r.NOFRAMES,n.NOFRAMES],[r.NOEMBED,n.NOEMBED],[r.NOSCRIPT,n.NOSCRIPT],[r.OBJECT,n.OBJECT],[r.OL,n.OL],[r.OPTGROUP,n.OPTGROUP],[r.OPTION,n.OPTION],[r.P,n.P],[r.PARAM,n.PARAM],[r.PLAINTEXT,n.PLAINTEXT],[r.PRE,n.PRE],[r.RB,n.RB],[r.RP,n.RP],[r.RT,n.RT],[r.RTC,n.RTC],[r.RUBY,n.RUBY],[r.S,n.S],[r.SCRIPT,n.SCRIPT],[r.SECTION,n.SECTION],[r.SELECT,n.SELECT],[r.SOURCE,n.SOURCE],[r.SMALL,n.SMALL],[r.SPAN,n.SPAN],[r.STRIKE,n.STRIKE],[r.STRONG,n.STRONG],[r.STYLE,n.STYLE],[r.SUB,n.SUB],[r.SUMMARY,n.SUMMARY],[r.SUP,n.SUP],[r.TABLE,n.TABLE],[r.TBODY,n.TBODY],[r.TEMPLATE,n.TEMPLATE],[r.TEXTAREA,n.TEXTAREA],[r.TFOOT,n.TFOOT],[r.TD,n.TD],[r.TH,n.TH],[r.THEAD,n.THEAD],[r.TITLE,n.TITLE],[r.TR,n.TR],[r.TRACK,n.TRACK],[r.TT,n.TT],[r.U,n.U],[r.UL,n.UL],[r.SVG,n.SVG],[r.VAR,n.VAR],[r.WBR,n.WBR],[r.XMP,n.XMP]]);function i(c){var l;return(l=a.get(c))!==null&&l!==void 0?l:n.UNKNOWN}e.getTagID=i;const s=n;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([s.ADDRESS,s.APPLET,s.AREA,s.ARTICLE,s.ASIDE,s.BASE,s.BASEFONT,s.BGSOUND,s.BLOCKQUOTE,s.BODY,s.BR,s.BUTTON,s.CAPTION,s.CENTER,s.COL,s.COLGROUP,s.DD,s.DETAILS,s.DIR,s.DIV,s.DL,s.DT,s.EMBED,s.FIELDSET,s.FIGCAPTION,s.FIGURE,s.FOOTER,s.FORM,s.FRAME,s.FRAMESET,s.H1,s.H2,s.H3,s.H4,s.H5,s.H6,s.HEAD,s.HEADER,s.HGROUP,s.HR,s.HTML,s.IFRAME,s.IMG,s.INPUT,s.LI,s.LINK,s.LISTING,s.MAIN,s.MARQUEE,s.MENU,s.META,s.NAV,s.NOEMBED,s.NOFRAMES,s.NOSCRIPT,s.OBJECT,s.OL,s.P,s.PARAM,s.PLAINTEXT,s.PRE,s.SCRIPT,s.SECTION,s.SELECT,s.SOURCE,s.STYLE,s.SUMMARY,s.TABLE,s.TBODY,s.TD,s.TEMPLATE,s.TEXTAREA,s.TFOOT,s.TH,s.THEAD,s.TITLE,s.TR,s.TRACK,s.UL,s.WBR,s.XMP]),[t.MATHML]:new Set([s.MI,s.MO,s.MN,s.MS,s.MTEXT,s.ANNOTATION_XML]),[t.SVG]:new Set([s.TITLE,s.FOREIGN_OBJECT,s.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set};function o(c){return c===s.H1||c===s.H2||c===s.H3||c===s.H4||c===s.H5||c===s.H6}e.isNumberedHeader=o;const f=new Set([r.STYLE,r.SCRIPT,r.XMP,r.IFRAME,r.NOEMBED,r.NOFRAMES,r.PLAINTEXT]);function u(c,l){return f.has(c)||l&&c===r.NOSCRIPT}e.hasUnescapedText=u})(Ss);Object.defineProperty(Ku,"__esModule",{value:!0});Ku.Tokenizer=Ku.TokenizerMode=void 0;const Zue=Gv,H=Kv,Qn=Wv,wi=Mf,ge=Gh,ay=Ss,ece=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var K;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(K||(K={}));Ku.TokenizerMode={DATA:K.DATA,RCDATA:K.RCDATA,RAWTEXT:K.RAWTEXT,SCRIPT_DATA:K.SCRIPT_DATA,PLAINTEXT:K.PLAINTEXT,CDATA_SECTION:K.CDATA_SECTION};function id(e){return e>=H.CODE_POINTS.DIGIT_0&&e<=H.CODE_POINTS.DIGIT_9}function Vl(e){return e>=H.CODE_POINTS.LATIN_CAPITAL_A&&e<=H.CODE_POINTS.LATIN_CAPITAL_Z}function tce(e){return e>=H.CODE_POINTS.LATIN_SMALL_A&&e<=H.CODE_POINTS.LATIN_SMALL_Z}function Bs(e){return tce(e)||Vl(e)}function a_(e){return Bs(e)||id(e)}function Fx(e){return e>=H.CODE_POINTS.LATIN_CAPITAL_A&&e<=H.CODE_POINTS.LATIN_CAPITAL_F}function Hx(e){return e>=H.CODE_POINTS.LATIN_SMALL_A&&e<=H.CODE_POINTS.LATIN_SMALL_F}function rce(e){return id(e)||Fx(e)||Hx(e)}function C0(e){return e+32}function $x(e){return e===H.CODE_POINTS.SPACE||e===H.CODE_POINTS.LINE_FEED||e===H.CODE_POINTS.TABULATION||e===H.CODE_POINTS.FORM_FEED}function nce(e){return e===H.CODE_POINTS.EQUALS_SIGN||a_(e)}function P6(e){return $x(e)||e===H.CODE_POINTS.SOLIDUS||e===H.CODE_POINTS.GREATER_THAN_SIGN}let ace=class{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=K.DATA,this.returnState=K.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Zue.Preprocessor(r),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var r,n;(n=(r=this.handler).onParseError)===null||n===void 0||n.call(r,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,r){this.state=t,this._callState(r)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Qn.TokenType.START_TAG,tagName:"",tagID:ay.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Qn.TokenType.END_TAG,tagName:"",tagID:ay.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Qn.TokenType.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Qn.TokenType.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if((0,Qn.getTokenAttr)(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const a=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ge.ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=(0,ay.getTagID)(t.tagName),t.type===Qn.TokenType.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ge.ERR.endTagWithAttributes),t.selfClosing&&this._err(ge.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Qn.TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Qn.TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Qn.TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Qn.TokenType.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=r;return}this._createCharacterToken(t,r)}_emitCodePoint(t){const r=$x(t)?Qn.TokenType.WHITESPACE_CHARACTER:t===H.CODE_POINTS.NULL?Qn.TokenType.NULL_CHARACTER:Qn.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Qn.TokenType.CHARACTER,t)}_matchNamedCharacterReference(t){let r=null,n=0,a=!1;for(let i=0,s=wi.htmlDecodeTree[0];i>=0&&(i=(0,wi.determineBranch)(wi.htmlDecodeTree,s,i+1,t),!(i<0));t=this._consume()){n+=1,s=wi.htmlDecodeTree[i];const o=s&wi.BinTrieFlags.VALUE_LENGTH;if(o){const f=(o>>14)-1;if(t!==H.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&nce(this.preprocessor.peek(1))?(r=[H.CODE_POINTS.AMPERSAND],i+=f):(r=f===0?[wi.htmlDecodeTree[i]&~wi.BinTrieFlags.VALUE_LENGTH]:f===1?[wi.htmlDecodeTree[++i]]:[wi.htmlDecodeTree[++i],wi.htmlDecodeTree[++i]],n=0,a=t!==H.CODE_POINTS.SEMICOLON),f===0){this._consume();break}}}return this._unconsume(n),a&&!this.preprocessor.endOfChunkHit&&this._err(ge.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),r}_isCharacterReferenceInAttribute(){return this.returnState===K.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===K.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===K.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case K.DATA:{this._stateData(t);break}case K.RCDATA:{this._stateRcdata(t);break}case K.RAWTEXT:{this._stateRawtext(t);break}case K.SCRIPT_DATA:{this._stateScriptData(t);break}case K.PLAINTEXT:{this._statePlaintext(t);break}case K.TAG_OPEN:{this._stateTagOpen(t);break}case K.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case K.TAG_NAME:{this._stateTagName(t);break}case K.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case K.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case K.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case K.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case K.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case K.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case K.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case K.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case K.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case K.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case K.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case K.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case K.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case K.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case K.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case K.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case K.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case K.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case K.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case K.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case K.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case K.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case K.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case K.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case K.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case K.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case K.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case K.BOGUS_COMMENT:{this._stateBogusComment(t);break}case K.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case K.COMMENT_START:{this._stateCommentStart(t);break}case K.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case K.COMMENT:{this._stateComment(t);break}case K.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case K.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case K.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case K.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case K.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case K.COMMENT_END:{this._stateCommentEnd(t);break}case K.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case K.DOCTYPE:{this._stateDoctype(t);break}case K.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case K.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case K.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case K.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case K.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case K.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case K.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case K.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case K.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case K.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case K.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case K.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case K.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case K.CDATA_SECTION:{this._stateCdataSection(t);break}case K.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case K.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case K.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case K.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case K.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case K.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case K.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case K.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case K.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case K.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.TAG_OPEN;break}case H.CODE_POINTS.AMPERSAND:{this.returnState=K.DATA,this.state=K.CHARACTER_REFERENCE;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitCodePoint(t);break}case H.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case H.CODE_POINTS.AMPERSAND:{this.returnState=K.RCDATA,this.state=K.CHARACTER_REFERENCE;break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.RCDATA_LESS_THAN_SIGN;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.RAWTEXT_LESS_THAN_SIGN;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_LESS_THAN_SIGN;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Bs(t))this._createStartTagToken(),this.state=K.TAG_NAME,this._stateTagName(t);else switch(t){case H.CODE_POINTS.EXCLAMATION_MARK:{this.state=K.MARKUP_DECLARATION_OPEN;break}case H.CODE_POINTS.SOLIDUS:{this.state=K.END_TAG_OPEN;break}case H.CODE_POINTS.QUESTION_MARK:{this._err(ge.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=K.BOGUS_COMMENT,this._stateBogusComment(t);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ge.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=K.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Bs(t))this._createEndTagToken(),this.state=K.TAG_NAME,this._stateTagName(t);else switch(t){case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingEndTagName),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ge.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=K.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this.state=K.BEFORE_ATTRIBUTE_NAME;break}case H.CODE_POINTS.SOLIDUS:{this.state=K.SELF_CLOSING_START_TAG;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentTagToken();break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.tagName+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Vl(t)?C0(t):t)}}_stateRcdataLessThanSign(t){t===H.CODE_POINTS.SOLIDUS?this.state=K.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=K.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Bs(t)?(this.state=K.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=K.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=K.BEFORE_ATTRIBUTE_NAME,!1;case H.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=K.SELF_CLOSING_START_TAG,!1;case H.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=K.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=K.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===H.CODE_POINTS.SOLIDUS?this.state=K.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=K.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Bs(t)?(this.state=K.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=K.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=K.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case H.CODE_POINTS.SOLIDUS:{this.state=K.SCRIPT_DATA_END_TAG_OPEN;break}case H.CODE_POINTS.EXCLAMATION_MARK:{this.state=K.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=K.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Bs(t)?(this.state=K.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=K.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=K.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===H.CODE_POINTS.HYPHEN_MINUS?(this.state=K.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=K.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===H.CODE_POINTS.HYPHEN_MINUS?(this.state=K.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=K.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_ESCAPED,this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.SCRIPT_DATA,this._emitChars(">");break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_ESCAPED,this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===H.CODE_POINTS.SOLIDUS?this.state=K.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Bs(t)?(this._emitChars("<"),this.state=K.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Bs(t)?(this.state=K.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(H.SEQUENCES.SCRIPT,!1)&&P6(this.preprocessor.peek(H.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<H.SEQUENCES.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case H.CODE_POINTS.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.SCRIPT_DATA,this._emitChars(">");break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(H.REPLACEMENT_CHARACTER);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===H.CODE_POINTS.SOLIDUS?(this.state=K.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(H.SEQUENCES.SCRIPT,!1)&&P6(this.preprocessor.peek(H.SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<H.SEQUENCES.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=K.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.SOLIDUS:case H.CODE_POINTS.GREATER_THAN_SIGN:case H.CODE_POINTS.EOF:{this.state=K.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case H.CODE_POINTS.EQUALS_SIGN:{this._err(ge.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=K.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=K.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:case H.CODE_POINTS.SOLIDUS:case H.CODE_POINTS.GREATER_THAN_SIGN:case H.CODE_POINTS.EOF:{this._leaveAttrName(),this.state=K.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case H.CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=K.BEFORE_ATTRIBUTE_VALUE;break}case H.CODE_POINTS.QUOTATION_MARK:case H.CODE_POINTS.APOSTROPHE:case H.CODE_POINTS.LESS_THAN_SIGN:{this._err(ge.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.currentAttr.name+=H.REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(Vl(t)?C0(t):t)}}_stateAfterAttributeName(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.SOLIDUS:{this.state=K.SELF_CLOSING_START_TAG;break}case H.CODE_POINTS.EQUALS_SIGN:{this.state=K.BEFORE_ATTRIBUTE_VALUE;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentTagToken();break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=K.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.QUOTATION_MARK:{this.state=K.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{this.state=K.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingAttributeValue),this.state=K.DATA,this.emitCurrentTagToken();break}default:this.state=K.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case H.CODE_POINTS.QUOTATION_MARK:{this.state=K.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case H.CODE_POINTS.AMPERSAND:{this.returnState=K.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=K.CHARACTER_REFERENCE;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.currentAttr.value+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case H.CODE_POINTS.APOSTROPHE:{this.state=K.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case H.CODE_POINTS.AMPERSAND:{this.returnState=K.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=K.CHARACTER_REFERENCE;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.currentAttr.value+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=K.BEFORE_ATTRIBUTE_NAME;break}case H.CODE_POINTS.AMPERSAND:{this.returnState=K.ATTRIBUTE_VALUE_UNQUOTED,this.state=K.CHARACTER_REFERENCE;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=K.DATA,this.emitCurrentTagToken();break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this.currentAttr.value+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.QUOTATION_MARK:case H.CODE_POINTS.APOSTROPHE:case H.CODE_POINTS.LESS_THAN_SIGN:case H.CODE_POINTS.EQUALS_SIGN:case H.CODE_POINTS.GRAVE_ACCENT:{this._err(ge.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=K.BEFORE_ATTRIBUTE_NAME;break}case H.CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=K.SELF_CLOSING_START_TAG;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=K.DATA,this.emitCurrentTagToken();break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:this._err(ge.ERR.missingWhitespaceBetweenAttributes),this.state=K.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case H.CODE_POINTS.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=K.DATA,this.emitCurrentTagToken();break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInTag),this._emitEOFToken();break}default:this._err(ge.ERR.unexpectedSolidusInTag),this.state=K.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentComment(r);break}case H.CODE_POINTS.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.data+=H.REPLACEMENT_CHARACTER;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(H.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(H.SEQUENCES.DASH_DASH.length+1),this.state=K.COMMENT_START):this._consumeSequenceIfMatch(H.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(H.SEQUENCES.DOCTYPE.length+1),this.state=K.DOCTYPE):this._consumeSequenceIfMatch(H.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=K.CDATA_SECTION:(this._err(ge.ERR.cdataInHtmlContent),this._createCommentToken(H.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=K.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ge.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=K.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.COMMENT_START_DASH;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.abruptClosingOfEmptyComment),this.state=K.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=K.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.COMMENT_END;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.abruptClosingOfEmptyComment),this.state=K.DATA,this.emitCurrentComment(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=K.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.COMMENT_END_DASH;break}case H.CODE_POINTS.LESS_THAN_SIGN:{r.data+="<",this.state=K.COMMENT_LESS_THAN_SIGN;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.data+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.EXCLAMATION_MARK:{r.data+="!",this.state=K.COMMENT_LESS_THAN_SIGN_BANG;break}case H.CODE_POINTS.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=K.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===H.CODE_POINTS.HYPHEN_MINUS?this.state=K.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=K.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===H.CODE_POINTS.HYPHEN_MINUS?this.state=K.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=K.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==H.CODE_POINTS.GREATER_THAN_SIGN&&t!==H.CODE_POINTS.EOF&&this._err(ge.ERR.nestedComment),this.state=K.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{this.state=K.COMMENT_END;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=K.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentComment(r);break}case H.CODE_POINTS.EXCLAMATION_MARK:{this.state=K.COMMENT_END_BANG;break}case H.CODE_POINTS.HYPHEN_MINUS:{r.data+="-";break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=K.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.HYPHEN_MINUS:{r.data+="--!",this.state=K.COMMENT_END_DASH;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.incorrectlyClosedComment),this.state=K.DATA,this.emitCurrentComment(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=K.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this.state=K.BEFORE_DOCTYPE_NAME;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingWhitespaceBeforeDoctypeName),this.state=K.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Vl(t))this._createDoctypeToken(String.fromCharCode(C0(t))),this.state=K.DOCTYPE_NAME;else switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),this._createDoctypeToken(H.REPLACEMENT_CHARACTER),this.state=K.DOCTYPE_NAME;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=K.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this.state=K.AFTER_DOCTYPE_NAME;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.name+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Vl(t)?C0(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(H.SEQUENCES.PUBLIC,!1)?this.state=K.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(H.SEQUENCES.SYSTEM,!1)?this.state=K.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ge.ERR.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this.state=K.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case H.CODE_POINTS.QUOTATION_MARK:{this._err(ge.ERR.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{this._err(ge.ERR.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.QUOTATION_MARK:{r.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{r.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.QUOTATION_MARK:{this.state=K.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.publicId+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.APOSTROPHE:{this.state=K.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.publicId+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this.state=K.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.QUOTATION_MARK:{this._err(ge.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{this._err(ge.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.QUOTATION_MARK:{r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:{this.state=K.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case H.CODE_POINTS.QUOTATION_MARK:{this._err(ge.ERR.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{this._err(ge.ERR.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.QUOTATION_MARK:{r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case H.CODE_POINTS.APOSTROPHE:{r.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(r);break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.QUOTATION_MARK:{this.state=K.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.systemId+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.APOSTROPHE:{this.state=K.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter),r.systemId+=H.REPLACEMENT_CHARACTER;break}case H.CODE_POINTS.GREATER_THAN_SIGN:{this._err(ge.ERR.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.SPACE:case H.CODE_POINTS.LINE_FEED:case H.CODE_POINTS.TABULATION:case H.CODE_POINTS.FORM_FEED:break;case H.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ge.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case H.CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=K.DATA;break}case H.CODE_POINTS.NULL:{this._err(ge.ERR.unexpectedNullCharacter);break}case H.CODE_POINTS.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case H.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=K.CDATA_SECTION_BRACKET;break}case H.CODE_POINTS.EOF:{this._err(ge.ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===H.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=K.CDATA_SECTION_END:(this._emitChars("]"),this.state=K.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case H.CODE_POINTS.GREATER_THAN_SIGN:{this.state=K.DATA;break}case H.CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=K.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===H.CODE_POINTS.NUMBER_SIGN?this.state=K.NUMERIC_CHARACTER_REFERENCE:a_(t)?(this.state=K.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(H.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const r=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(r){for(let n=0;n<r.length;n++)this._flushCodePointConsumedAsCharacterReference(r[n]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(H.CODE_POINTS.AMPERSAND),this.state=K.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){a_(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===H.CODE_POINTS.SEMICOLON&&this._err(ge.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===H.CODE_POINTS.LATIN_SMALL_X||t===H.CODE_POINTS.LATIN_CAPITAL_X?this.state=K.HEXADEMICAL_CHARACTER_REFERENCE_START:id(t)?(this.state=K.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ge.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(H.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(H.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){rce(t)?(this.state=K.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ge.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(H.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(H.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Fx(t)?this.charRefCode=this.charRefCode*16+t-55:Hx(t)?this.charRefCode=this.charRefCode*16+t-87:id(t)?this.charRefCode=this.charRefCode*16+t-48:t===H.CODE_POINTS.SEMICOLON?this.state=K.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ge.ERR.missingSemicolonAfterCharacterReference),this.state=K.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){id(t)?this.charRefCode=this.charRefCode*10+t-48:t===H.CODE_POINTS.SEMICOLON?this.state=K.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ge.ERR.missingSemicolonAfterCharacterReference),this.state=K.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===H.CODE_POINTS.NULL)this._err(ge.ERR.nullCharacterReference),this.charRefCode=H.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ge.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=H.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,H.isSurrogate)(this.charRefCode))this._err(ge.ERR.surrogateCharacterReference),this.charRefCode=H.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,H.isUndefinedCodePoint)(this.charRefCode))this._err(ge.ERR.noncharacterCharacterReference);else if((0,H.isControlCodePoint)(this.charRefCode)||this.charRefCode===H.CODE_POINTS.CARRIAGE_RETURN){this._err(ge.ERR.controlCharacterReference);const r=ece.get(this.charRefCode);r!==void 0&&(this.charRefCode=r)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}};Ku.Tokenizer=ace;var qv={};Object.defineProperty(qv,"__esModule",{value:!0});qv.OpenElementStack=void 0;const Ae=Ss,Ux=new Set([Ae.TAG_ID.DD,Ae.TAG_ID.DT,Ae.TAG_ID.LI,Ae.TAG_ID.OPTGROUP,Ae.TAG_ID.OPTION,Ae.TAG_ID.P,Ae.TAG_ID.RB,Ae.TAG_ID.RP,Ae.TAG_ID.RT,Ae.TAG_ID.RTC]),N6=new Set([...Ux,Ae.TAG_ID.CAPTION,Ae.TAG_ID.COLGROUP,Ae.TAG_ID.TBODY,Ae.TAG_ID.TD,Ae.TAG_ID.TFOOT,Ae.TAG_ID.TH,Ae.TAG_ID.THEAD,Ae.TAG_ID.TR]),I0=new Map([[Ae.TAG_ID.APPLET,Ae.NS.HTML],[Ae.TAG_ID.CAPTION,Ae.NS.HTML],[Ae.TAG_ID.HTML,Ae.NS.HTML],[Ae.TAG_ID.MARQUEE,Ae.NS.HTML],[Ae.TAG_ID.OBJECT,Ae.NS.HTML],[Ae.TAG_ID.TABLE,Ae.NS.HTML],[Ae.TAG_ID.TD,Ae.NS.HTML],[Ae.TAG_ID.TEMPLATE,Ae.NS.HTML],[Ae.TAG_ID.TH,Ae.NS.HTML],[Ae.TAG_ID.ANNOTATION_XML,Ae.NS.MATHML],[Ae.TAG_ID.MI,Ae.NS.MATHML],[Ae.TAG_ID.MN,Ae.NS.MATHML],[Ae.TAG_ID.MO,Ae.NS.MATHML],[Ae.TAG_ID.MS,Ae.NS.MATHML],[Ae.TAG_ID.MTEXT,Ae.NS.MATHML],[Ae.TAG_ID.DESC,Ae.NS.SVG],[Ae.TAG_ID.FOREIGN_OBJECT,Ae.NS.SVG],[Ae.TAG_ID.TITLE,Ae.NS.SVG]]),ice=[Ae.TAG_ID.H1,Ae.TAG_ID.H2,Ae.TAG_ID.H3,Ae.TAG_ID.H4,Ae.TAG_ID.H5,Ae.TAG_ID.H6],sce=[Ae.TAG_ID.TR,Ae.TAG_ID.TEMPLATE,Ae.TAG_ID.HTML],oce=[Ae.TAG_ID.TBODY,Ae.TAG_ID.TFOOT,Ae.TAG_ID.THEAD,Ae.TAG_ID.TEMPLATE,Ae.TAG_ID.HTML],uce=[Ae.TAG_ID.TABLE,Ae.TAG_ID.TEMPLATE,Ae.TAG_ID.HTML],cce=[Ae.TAG_ID.TD,Ae.TAG_ID.TH];class fce{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=Ae.TAG_ID.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===Ae.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ae.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const a=this._indexOf(t)+1;this.items.splice(a,0,r),this.tagIDs.splice(a,0,n),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==Ae.NS.HTML);this.shortenToLength(r<0?0:r)}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(r<0?0:r)}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ice,Ae.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(cce,Ae.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(uce,Ae.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(oce,Ae.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(sce,Ae.NS.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===Ae.TAG_ID.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===Ae.TAG_ID.HTML}hasInScope(t){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r],a=this.treeAdapter.getNamespaceURI(this.items[r]);if(n===t&&a===Ae.NS.HTML)return!0;if(I0.get(n)===a)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if((0,Ae.isNumberedHeader)(r)&&n===Ae.NS.HTML)return!0;if(I0.get(r)===n)return!1}return!0}hasInListItemScope(t){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r],a=this.treeAdapter.getNamespaceURI(this.items[r]);if(n===t&&a===Ae.NS.HTML)return!0;if((n===Ae.TAG_ID.UL||n===Ae.TAG_ID.OL)&&a===Ae.NS.HTML||I0.get(n)===a)return!1}return!0}hasInButtonScope(t){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r],a=this.treeAdapter.getNamespaceURI(this.items[r]);if(n===t&&a===Ae.NS.HTML)return!0;if(n===Ae.TAG_ID.BUTTON&&a===Ae.NS.HTML||I0.get(n)===a)return!1}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===Ae.NS.HTML){if(n===t)return!0;if(n===Ae.TAG_ID.TABLE||n===Ae.TAG_ID.TEMPLATE||n===Ae.TAG_ID.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ae.NS.HTML){if(r===Ae.TAG_ID.TBODY||r===Ae.TAG_ID.THEAD||r===Ae.TAG_ID.TFOOT)return!0;if(r===Ae.TAG_ID.TABLE||r===Ae.TAG_ID.HTML)return!1}}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--){const n=this.tagIDs[r];if(this.treeAdapter.getNamespaceURI(this.items[r])===Ae.NS.HTML){if(n===t)return!0;if(n!==Ae.TAG_ID.OPTION&&n!==Ae.TAG_ID.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Ux.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;N6.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&N6.has(this.currentTagId);)this.pop()}}qv.OpenElementStack=fce;var jx={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;const t=3;var r;(function(i){i[i.Marker=0]="Marker",i[i.Element=1]="Element"})(r=e.EntryType||(e.EntryType={}));const n={type:r.Marker};class a{constructor(s){this.treeAdapter=s,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(s,o){const f=[],u=o.length,c=this.treeAdapter.getTagName(s),l=this.treeAdapter.getNamespaceURI(s);for(let d=0;d<this.entries.length;d++){const h=this.entries[d];if(h.type===r.Marker)break;const{element:p}=h;if(this.treeAdapter.getTagName(p)===c&&this.treeAdapter.getNamespaceURI(p)===l){const m=this.treeAdapter.getAttrList(p);m.length===u&&f.push({idx:d,attrs:m})}}return f}_ensureNoahArkCondition(s){if(this.entries.length<t)return;const o=this.treeAdapter.getAttrList(s),f=this._getNoahArkConditionCandidates(s,o);if(f.length<t)return;const u=new Map(o.map(l=>[l.name,l.value]));let c=0;for(let l=0;l<f.length;l++){const d=f[l];d.attrs.every(h=>u.get(h.name)===h.value)&&(c+=1,c>=t&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(n)}pushElement(s,o){this._ensureNoahArkCondition(s),this.entries.unshift({type:r.Element,element:s,token:o})}insertElementAfterBookmark(s,o){const f=this.entries.indexOf(this.bookmark);this.entries.splice(f,0,{type:r.Element,element:s,token:o})}removeEntry(s){const o=this.entries.indexOf(s);o>=0&&this.entries.splice(o,1)}clearToLastMarker(){const s=this.entries.indexOf(n);s>=0?this.entries.splice(0,s+1):this.entries.length=0}getElementEntryInScopeWithTagName(s){const o=this.entries.find(f=>f.type===r.Marker||this.treeAdapter.getTagName(f.element)===s);return o&&o.type===r.Element?o:null}getElementEntry(s){return this.entries.find(o=>o.type===r.Element&&o.element===s)}}e.FormattingElementList=a})(jx);var Vv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=Ss;function r(n){return{nodeName:"#text",value:n,parentNode:null}}e.defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(n,a,i){return{nodeName:n,tagName:n,attrs:i,namespaceURI:a,childNodes:[],parentNode:null}},createCommentNode(n){return{nodeName:"#comment",data:n,parentNode:null}},appendChild(n,a){n.childNodes.push(a),a.parentNode=n},insertBefore(n,a,i){const s=n.childNodes.indexOf(i);n.childNodes.splice(s,0,a),a.parentNode=n},setTemplateContent(n,a){n.content=a},getTemplateContent(n){return n.content},setDocumentType(n,a,i,s){const o=n.childNodes.find(f=>f.nodeName==="#documentType");if(o)o.name=a,o.publicId=i,o.systemId=s;else{const f={nodeName:"#documentType",name:a,publicId:i,systemId:s,parentNode:null};e.defaultTreeAdapter.appendChild(n,f)}},setDocumentMode(n,a){n.mode=a},getDocumentMode(n){return n.mode},detachNode(n){if(n.parentNode){const a=n.parentNode.childNodes.indexOf(n);n.parentNode.childNodes.splice(a,1),n.parentNode=null}},insertText(n,a){if(n.childNodes.length>0){const i=n.childNodes[n.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(i)){i.value+=a;return}}e.defaultTreeAdapter.appendChild(n,r(a))},insertTextBefore(n,a,i){const s=n.childNodes[n.childNodes.indexOf(i)-1];s&&e.defaultTreeAdapter.isTextNode(s)?s.value+=a:e.defaultTreeAdapter.insertBefore(n,r(a),i)},adoptAttributes(n,a){const i=new Set(n.attrs.map(s=>s.name));for(let s=0;s<a.length;s++)i.has(a[s].name)||n.attrs.push(a[s])},getFirstChild(n){return n.childNodes[0]},getChildNodes(n){return n.childNodes},getParentNode(n){return n.parentNode},getAttrList(n){return n.attrs},getTagName(n){return n.tagName},getNamespaceURI(n){return n.namespaceURI},getTextNodeContent(n){return n.value},getCommentNodeContent(n){return n.data},getDocumentTypeNodeName(n){return n.name},getDocumentTypeNodePublicId(n){return n.publicId},getDocumentTypeNodeSystemId(n){return n.systemId},isTextNode(n){return n.nodeName==="#text"},isCommentNode(n){return n.nodeName==="#comment"},isDocumentTypeNode(n){return n.nodeName==="#documentType"},isElementNode(n){return Object.prototype.hasOwnProperty.call(n,"tagName")},setNodeSourceCodeLocation(n,a){n.sourceCodeLocation=a},getNodeSourceCodeLocation(n){return n.sourceCodeLocation},updateNodeSourceCodeLocation(n,a){n.sourceCodeLocation=Object.assign(Object.assign({},n.sourceCodeLocation),a)}}})(Vv);var jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.getDocumentMode=jf.isConforming=void 0;const Ec=Ss,Gx="html",lce="about:legacy-compat",dce="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Kx=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],hce=[...Kx,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pce=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Wx=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],mce=[...Wx,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function O6(e,t){return t.some(r=>e.startsWith(r))}function vce(e){return e.name===Gx&&e.publicId===null&&(e.systemId===null||e.systemId===lce)}jf.isConforming=vce;function bce(e){if(e.name!==Gx)return Ec.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===dce)return Ec.DOCUMENT_MODE.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),pce.has(r))return Ec.DOCUMENT_MODE.QUIRKS;let n=t===null?hce:Kx;if(O6(r,n))return Ec.DOCUMENT_MODE.QUIRKS;if(n=t===null?Wx:mce,O6(r,n))return Ec.DOCUMENT_MODE.LIMITED_QUIRKS}return Ec.DOCUMENT_MODE.NO_QUIRKS}jf.getDocumentMode=bce;var BT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=Ss,r={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},n="definitionurl",a="definitionURL",i=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(v=>[v.toLowerCase(),v])),s=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(v=>[v.toLowerCase(),v]));const o=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);function f(v){const b=v.tagID;return b===t.TAG_ID.FONT&&v.attrs.some(({name:y})=>y===t.ATTRS.COLOR||y===t.ATTRS.SIZE||y===t.ATTRS.FACE)||o.has(b)}e.causesExit=f;function u(v){for(let b=0;b<v.attrs.length;b++)if(v.attrs[b].name===n){v.attrs[b].name=a;break}}e.adjustTokenMathMLAttrs=u;function c(v){for(let b=0;b<v.attrs.length;b++){const g=i.get(v.attrs[b].name);g!=null&&(v.attrs[b].name=g)}}e.adjustTokenSVGAttrs=c;function l(v){for(let b=0;b<v.attrs.length;b++){const g=s.get(v.attrs[b].name);g&&(v.attrs[b].prefix=g.prefix,v.attrs[b].name=g.name,v.attrs[b].namespace=g.namespace)}}e.adjustTokenXMLAttrs=l;function d(v){const b=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(v.tagName);b!=null&&(v.tagName=b,v.tagID=(0,t.getTagID)(v.tagName))}e.adjustTokenSVGTagName=d;function h(v,b){return b===t.NS.MATHML&&(v===t.TAG_ID.MI||v===t.TAG_ID.MO||v===t.TAG_ID.MN||v===t.TAG_ID.MS||v===t.TAG_ID.MTEXT)}function p(v,b,g){if(b===t.NS.MATHML&&v===t.TAG_ID.ANNOTATION_XML){for(let y=0;y<g.length;y++)if(g[y].name===t.ATTRS.ENCODING){const C=g[y].value.toLowerCase();return C===r.TEXT_HTML||C===r.APPLICATION_XML}}return b===t.NS.SVG&&(v===t.TAG_ID.FOREIGN_OBJECT||v===t.TAG_ID.DESC||v===t.TAG_ID.TITLE)}function m(v,b,g,y){return(!y||y===t.NS.HTML)&&p(v,b,g)||(!y||y===t.NS.MATHML)&&h(v,b)}e.isIntegrationPoint=m})(BT);Object.defineProperty(Ud,"__esModule",{value:!0});Ud.Parser=void 0;const Vn=Ku,gce=qv,x6=jx,yce=Vv,R6=jf,ki=BT,bn=Gh,qx=Kv,A=Ss,Kr=Wv,_ce="hidden",Tce=8,Ece=3;var Y;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Y||(Y={}));const Sce={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Vx=new Set([A.TAG_ID.TABLE,A.TAG_ID.TBODY,A.TAG_ID.TFOOT,A.TAG_ID.THEAD,A.TAG_ID.TR]),D6={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:yce.defaultTreeAdapter,onParseError:null};let Ace=class{constructor(t,r,n=null,a=null){this.fragmentContext=n,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Y.INITIAL,this.originalInsertionMode=Y.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},D6),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Vn.Tokenizer(this.options,this),this.activeFormattingElements=new x6.FormattingElementList(this.treeAdapter),this.fragmentContextID=n?(0,A.getTagID)(this.treeAdapter.getTagName(n)):A.TAG_ID.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new gce.OpenElementStack(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n=Object.assign(Object.assign({},D6),r);t??(t=n.treeAdapter.createElement(A.TAG_NAMES.TEMPLATE,A.NS.HTML,[]));const a=n.treeAdapter.createElement("documentmock",A.NS.HTML,[]),i=new this(n,a,t);return i.fragmentContextID===A.TAG_ID.TEMPLATE&&i.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var a;if(!this.onParseError)return;const i=(a=t.location)!==null&&a!==void 0?a:Sce,s={code:r,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(t,r,n){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(n=this.treeAdapter).onItemPop)===null||a===void 0||a.call(n,t,this.openElements.current),r){let i,s;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,s=this.fragmentContextID):{current:i,currentTagId:s}=this.openElements,this._setContextModes(i,s)}}_setContextModes(t,r){const n=t===this.document||this.treeAdapter.getNamespaceURI(t)===A.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,A.NS.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=Y.TEXT}switchToPlaintextParsing(){this.insertionMode=Y.TEXT,this.originalInsertionMode=Y.IN_BODY,this.tokenizer.state=Vn.TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===A.TAG_NAMES.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==A.NS.HTML))switch(this.fragmentContextID){case A.TAG_ID.TITLE:case A.TAG_ID.TEXTAREA:{this.tokenizer.state=Vn.TokenizerMode.RCDATA;break}case A.TAG_ID.STYLE:case A.TAG_ID.XMP:case A.TAG_ID.IFRAME:case A.TAG_ID.NOEMBED:case A.TAG_ID.NOFRAMES:case A.TAG_ID.NOSCRIPT:{this.tokenizer.state=Vn.TokenizerMode.RAWTEXT;break}case A.TAG_ID.SCRIPT:{this.tokenizer.state=Vn.TokenizerMode.SCRIPT_DATA;break}case A.TAG_ID.PLAINTEXT:{this.tokenizer.state=Vn.TokenizerMode.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,a),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&Object.assign(Object.assign({},r),{startTag:r});this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,A.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,A.NS.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(A.TAG_NAMES.HTML,A.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,A.TAG_ID.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(r),i=n?a.lastIndexOf(n):a.length,s=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:f,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:f,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,a=this.treeAdapter.getTagName(t),i=r.type===Kr.TokenType.END_TAG&&a===r.tagName?{endTag:Object.assign({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===A.TAG_ID.SVG&&this.treeAdapter.getTagName(r)===A.TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===A.NS.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===A.TAG_ID.MGLYPH||t.tagID===A.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,r,A.NS.HTML)}_processToken(t){switch(t.type){case Kr.TokenType.CHARACTER:{this.onCharacter(t);break}case Kr.TokenType.NULL_CHARACTER:{this.onNullCharacter(t);break}case Kr.TokenType.COMMENT:{this.onComment(t);break}case Kr.TokenType.DOCTYPE:{this.onDoctype(t);break}case Kr.TokenType.START_TAG:{this._processStartTag(t);break}case Kr.TokenType.END_TAG:{this.onEndTag(t);break}case Kr.TokenType.EOF:{this.onEof(t);break}case Kr.TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const a=this.treeAdapter.getNamespaceURI(r),i=this.treeAdapter.getAttrList(r);return ki.isIntegrationPoint(t,a,i,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(a=>a.type===x6.EntryType.Marker||this.openElements.contains(a.element)),n=r<0?t-1:r-1;for(let a=n;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Y.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(A.TAG_ID.P),this.openElements.popUntilTagNamePopped(A.TAG_ID.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case A.TAG_ID.TR:{this.insertionMode=Y.IN_ROW;return}case A.TAG_ID.TBODY:case A.TAG_ID.THEAD:case A.TAG_ID.TFOOT:{this.insertionMode=Y.IN_TABLE_BODY;return}case A.TAG_ID.CAPTION:{this.insertionMode=Y.IN_CAPTION;return}case A.TAG_ID.COLGROUP:{this.insertionMode=Y.IN_COLUMN_GROUP;return}case A.TAG_ID.TABLE:{this.insertionMode=Y.IN_TABLE;return}case A.TAG_ID.BODY:{this.insertionMode=Y.IN_BODY;return}case A.TAG_ID.FRAMESET:{this.insertionMode=Y.IN_FRAMESET;return}case A.TAG_ID.SELECT:{this._resetInsertionModeForSelect(t);return}case A.TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case A.TAG_ID.HTML:{this.insertionMode=this.headElement?Y.AFTER_HEAD:Y.BEFORE_HEAD;return}case A.TAG_ID.TD:case A.TAG_ID.TH:{if(t>0){this.insertionMode=Y.IN_CELL;return}break}case A.TAG_ID.HEAD:{if(t>0){this.insertionMode=Y.IN_HEAD;return}break}}this.insertionMode=Y.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===A.TAG_ID.TEMPLATE)break;if(n===A.TAG_ID.TABLE){this.insertionMode=Y.IN_SELECT_IN_TABLE;return}}this.insertionMode=Y.IN_SELECT}_isElementCausesFosterParenting(t){return Vx.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case A.TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===A.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case A.TAG_ID.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return A.SPECIAL_ELEMENTS[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ele(this,t);return}switch(this.insertionMode){case Y.INITIAL:{kl(this,t);break}case Y.BEFORE_HTML:{sd(this,t);break}case Y.BEFORE_HEAD:{od(this,t);break}case Y.IN_HEAD:{ud(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{cd(this,t);break}case Y.AFTER_HEAD:{fd(this,t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:{Yx(this,t);break}case Y.TEXT:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{iy(this,t);break}case Y.IN_TABLE_TEXT:{t9(this,t);break}case Y.IN_COLUMN_GROUP:{rm(this,t);break}case Y.AFTER_BODY:{nm(this,t);break}case Y.AFTER_AFTER_BODY:{Q0(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Zfe(this,t);return}switch(this.insertionMode){case Y.INITIAL:{kl(this,t);break}case Y.BEFORE_HTML:{sd(this,t);break}case Y.BEFORE_HEAD:{od(this,t);break}case Y.IN_HEAD:{ud(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{cd(this,t);break}case Y.AFTER_HEAD:{fd(this,t);break}case Y.TEXT:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{iy(this,t);break}case Y.IN_COLUMN_GROUP:{rm(this,t);break}case Y.AFTER_BODY:{nm(this,t);break}case Y.AFTER_AFTER_BODY:{Q0(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){i_(this,t);return}switch(this.insertionMode){case Y.INITIAL:case Y.BEFORE_HTML:case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_TEMPLATE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{i_(this,t);break}case Y.IN_TABLE_TEXT:{Bl(this,t);break}case Y.AFTER_BODY:{xce(this,t);break}case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{Rce(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Y.INITIAL:{Dce(this,t);break}case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:{this._err(t,bn.ERR.misplacedDoctype);break}case Y.IN_TABLE_TEXT:{Bl(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,bn.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?tle(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{kl(this,t);break}case Y.BEFORE_HTML:{Mce(this,t);break}case Y.BEFORE_HEAD:{kce(this,t);break}case Y.IN_HEAD:{Ti(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{Hce(this,t);break}case Y.AFTER_HEAD:{Uce(this,t);break}case Y.IN_BODY:{Fn(this,t);break}case Y.IN_TABLE:{Gf(this,t);break}case Y.IN_TABLE_TEXT:{Bl(this,t);break}case Y.IN_CAPTION:{Bfe(this,t);break}case Y.IN_COLUMN_GROUP:{$T(this,t);break}case Y.IN_TABLE_BODY:{Xv(this,t);break}case Y.IN_ROW:{Jv(this,t);break}case Y.IN_CELL:{$fe(this,t);break}case Y.IN_SELECT:{a9(this,t);break}case Y.IN_SELECT_IN_TABLE:{jfe(this,t);break}case Y.IN_TEMPLATE:{Kfe(this,t);break}case Y.AFTER_BODY:{qfe(this,t);break}case Y.IN_FRAMESET:{Vfe(this,t);break}case Y.AFTER_FRAMESET:{Yfe(this,t);break}case Y.AFTER_AFTER_BODY:{Jfe(this,t);break}case Y.AFTER_AFTER_FRAMESET:{Qfe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?rle(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{kl(this,t);break}case Y.BEFORE_HTML:{Lce(this,t);break}case Y.BEFORE_HEAD:{Bce(this,t);break}case Y.IN_HEAD:{Fce(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{$ce(this,t);break}case Y.AFTER_HEAD:{jce(this,t);break}case Y.IN_BODY:{Yv(this,t);break}case Y.TEXT:{Ife(this,t);break}case Y.IN_TABLE:{jd(this,t);break}case Y.IN_TABLE_TEXT:{Bl(this,t);break}case Y.IN_CAPTION:{Ffe(this,t);break}case Y.IN_COLUMN_GROUP:{Hfe(this,t);break}case Y.IN_TABLE_BODY:{s_(this,t);break}case Y.IN_ROW:{n9(this,t);break}case Y.IN_CELL:{Ufe(this,t);break}case Y.IN_SELECT:{i9(this,t);break}case Y.IN_SELECT_IN_TABLE:{Gfe(this,t);break}case Y.IN_TEMPLATE:{Wfe(this,t);break}case Y.AFTER_BODY:{o9(this,t);break}case Y.IN_FRAMESET:{zfe(this,t);break}case Y.AFTER_FRAMESET:{Xfe(this,t);break}case Y.AFTER_AFTER_BODY:{Q0(this,t);break}}}onEof(t){switch(this.insertionMode){case Y.INITIAL:{kl(this,t);break}case Y.BEFORE_HTML:{sd(this,t);break}case Y.BEFORE_HEAD:{od(this,t);break}case Y.IN_HEAD:{ud(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{cd(this,t);break}case Y.AFTER_HEAD:{fd(this,t);break}case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{Zx(this,t);break}case Y.TEXT:{Pfe(this,t);break}case Y.IN_TABLE_TEXT:{Bl(this,t);break}case Y.IN_TEMPLATE:{s9(this,t);break}case Y.AFTER_BODY:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{HT(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===qx.CODE_POINTS.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.TEXT:case Y.IN_COLUMN_GROUP:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{this._insertCharacters(t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:case Y.AFTER_BODY:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{zx(this,t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{iy(this,t);break}case Y.IN_TABLE_TEXT:{e9(this,t);break}}}};Ud.Parser=Ace;function wce(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):Qx(e,t),r}function Cce(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const a=e.openElements.items[n];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[n])&&(r=a)}return r||(e.openElements.shortenToLength(n<0?0:n),e.activeFormattingElements.removeEntry(t)),r}function Ice(e,t,r){let n=t,a=e.openElements.getCommonAncestor(t);for(let i=0,s=a;s!==r;i++,s=a){a=e.openElements.getCommonAncestor(s);const o=e.activeFormattingElements.getElementEntry(s),f=o&&i>=Ece;!o||f?(f&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(s)):(s=Pce(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(s,n),n=s)}return n}function Pce(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Nce(e,t,r){const n=e.treeAdapter.getTagName(t),a=(0,A.getTagID)(n);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(r);else{const i=e.treeAdapter.getNamespaceURI(t);a===A.TAG_ID.TEMPLATE&&i===A.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function Oce(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:a}=r,i=e.treeAdapter.createElement(a.tagName,n,a.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,a),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,i,a.tagID)}function FT(e,t){for(let r=0;r<Tce;r++){const n=wce(e,t);if(!n)break;const a=Cce(e,n);if(!a)break;e.activeFormattingElements.bookmark=n;const i=Ice(e,a,n.element),s=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),s&&Nce(e,s,i),Oce(e,a,n)}}function i_(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function xce(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Rce(e,t){e._appendCommentNode(t,e.document)}function HT(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(n);if(a&&!a.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(i);s&&!s.endTag&&e._setEndLocation(i,t)}}}}function Dce(e,t){e._setDocumentType(t);const r=t.forceQuirks?A.DOCUMENT_MODE.QUIRKS:R6.getDocumentMode(t);R6.isConforming(t)||e._err(t,bn.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=Y.BEFORE_HTML}function kl(e,t){e._err(t,bn.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,A.DOCUMENT_MODE.QUIRKS),e.insertionMode=Y.BEFORE_HTML,e._processToken(t)}function Mce(e,t){t.tagID===A.TAG_ID.HTML?(e._insertElement(t,A.NS.HTML),e.insertionMode=Y.BEFORE_HEAD):sd(e,t)}function Lce(e,t){const r=t.tagID;(r===A.TAG_ID.HTML||r===A.TAG_ID.HEAD||r===A.TAG_ID.BODY||r===A.TAG_ID.BR)&&sd(e,t)}function sd(e,t){e._insertFakeRootElement(),e.insertionMode=Y.BEFORE_HEAD,e._processToken(t)}function kce(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.HEAD:{e._insertElement(t,A.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD;break}default:od(e,t)}}function Bce(e,t){const r=t.tagID;r===A.TAG_ID.HEAD||r===A.TAG_ID.BODY||r===A.TAG_ID.HTML||r===A.TAG_ID.BR?od(e,t):e._err(t,bn.ERR.endTagWithoutMatchingOpenElement)}function od(e,t){e._insertFakeElement(A.TAG_NAMES.HEAD,A.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD,e._processToken(t)}function Ti(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.BASE:case A.TAG_ID.BASEFONT:case A.TAG_ID.BGSOUND:case A.TAG_ID.LINK:case A.TAG_ID.META:{e._appendElement(t,A.NS.HTML),t.ackSelfClosing=!0;break}case A.TAG_ID.TITLE:{e._switchToTextParsing(t,Vn.TokenizerMode.RCDATA);break}case A.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Vn.TokenizerMode.RAWTEXT):(e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_HEAD_NO_SCRIPT);break}case A.TAG_ID.NOFRAMES:case A.TAG_ID.STYLE:{e._switchToTextParsing(t,Vn.TokenizerMode.RAWTEXT);break}case A.TAG_ID.SCRIPT:{e._switchToTextParsing(t,Vn.TokenizerMode.SCRIPT_DATA);break}case A.TAG_ID.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Y.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE);break}case A.TAG_ID.HEAD:{e._err(t,bn.ERR.misplacedStartTagForHeadElement);break}default:ud(e,t)}}function Fce(e,t){switch(t.tagID){case A.TAG_ID.HEAD:{e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD;break}case A.TAG_ID.BODY:case A.TAG_ID.BR:case A.TAG_ID.HTML:{ud(e,t);break}case A.TAG_ID.TEMPLATE:{cc(e,t);break}default:e._err(t,bn.ERR.endTagWithoutMatchingOpenElement)}}function cc(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==A.TAG_ID.TEMPLATE&&e._err(t,bn.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(A.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,bn.ERR.endTagWithoutMatchingOpenElement)}function ud(e,t){e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD,e._processToken(t)}function Hce(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.BASEFONT:case A.TAG_ID.BGSOUND:case A.TAG_ID.HEAD:case A.TAG_ID.LINK:case A.TAG_ID.META:case A.TAG_ID.NOFRAMES:case A.TAG_ID.STYLE:{Ti(e,t);break}case A.TAG_ID.NOSCRIPT:{e._err(t,bn.ERR.nestedNoscriptInHead);break}default:cd(e,t)}}function $ce(e,t){switch(t.tagID){case A.TAG_ID.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Y.IN_HEAD;break}case A.TAG_ID.BR:{cd(e,t);break}default:e._err(t,bn.ERR.endTagWithoutMatchingOpenElement)}}function cd(e,t){const r=t.type===Kr.TokenType.EOF?bn.ERR.openElementsLeftAfterEof:bn.ERR.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=Y.IN_HEAD,e._processToken(t)}function Uce(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.BODY:{e._insertElement(t,A.NS.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_BODY;break}case A.TAG_ID.FRAMESET:{e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_FRAMESET;break}case A.TAG_ID.BASE:case A.TAG_ID.BASEFONT:case A.TAG_ID.BGSOUND:case A.TAG_ID.LINK:case A.TAG_ID.META:case A.TAG_ID.NOFRAMES:case A.TAG_ID.SCRIPT:case A.TAG_ID.STYLE:case A.TAG_ID.TEMPLATE:case A.TAG_ID.TITLE:{e._err(t,bn.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,A.TAG_ID.HEAD),Ti(e,t),e.openElements.remove(e.headElement);break}case A.TAG_ID.HEAD:{e._err(t,bn.ERR.misplacedStartTagForHeadElement);break}default:fd(e,t)}}function jce(e,t){switch(t.tagID){case A.TAG_ID.BODY:case A.TAG_ID.HTML:case A.TAG_ID.BR:{fd(e,t);break}case A.TAG_ID.TEMPLATE:{cc(e,t);break}default:e._err(t,bn.ERR.endTagWithoutMatchingOpenElement)}}function fd(e,t){e._insertFakeElement(A.TAG_NAMES.BODY,A.TAG_ID.BODY),e.insertionMode=Y.IN_BODY,zv(e,t)}function zv(e,t){switch(t.type){case Kr.TokenType.CHARACTER:{Yx(e,t);break}case Kr.TokenType.WHITESPACE_CHARACTER:{zx(e,t);break}case Kr.TokenType.COMMENT:{i_(e,t);break}case Kr.TokenType.START_TAG:{Fn(e,t);break}case Kr.TokenType.END_TAG:{Yv(e,t);break}case Kr.TokenType.EOF:{Zx(e,t);break}}}function zx(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Yx(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Gce(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Kce(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function Wce(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_FRAMESET)}function qce(e,t){e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._insertElement(t,A.NS.HTML)}function Vce(e,t){e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),(0,A.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,A.NS.HTML)}function zce(e,t){e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._insertElement(t,A.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Yce(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._insertElement(t,A.NS.HTML),r||(e.formElement=e.openElements.current))}function Xce(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const a=e.openElements.tagIDs[n];if(r===A.TAG_ID.LI&&a===A.TAG_ID.LI||(r===A.TAG_ID.DD||r===A.TAG_ID.DT)&&(a===A.TAG_ID.DD||a===A.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==A.TAG_ID.ADDRESS&&a!==A.TAG_ID.DIV&&a!==A.TAG_ID.P&&e._isSpecialElement(e.openElements.items[n],a))break}e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._insertElement(t,A.NS.HTML)}function Jce(e,t){e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._insertElement(t,A.NS.HTML),e.tokenizer.state=Vn.TokenizerMode.PLAINTEXT}function Qce(e,t){e.openElements.hasInScope(A.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML),e.framesetOk=!1}function Zce(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(A.TAG_NAMES.A);r&&(FT(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function efe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function tfe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(A.TAG_ID.NOBR)&&(FT(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,A.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function rfe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function nfe(e,t){e.treeAdapter.getDocumentMode(e.document)!==A.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._insertElement(t,A.NS.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_TABLE}function Xx(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,A.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Jx(e){const t=(0,Kr.getTokenAttr)(e,A.ATTRS.TYPE);return t!=null&&t.toLowerCase()===_ce}function afe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,A.NS.HTML),Jx(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function ife(e,t){e._appendElement(t,A.NS.HTML),t.ackSelfClosing=!0}function sfe(e,t){e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._appendElement(t,A.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ofe(e,t){t.tagName=A.TAG_NAMES.IMG,t.tagID=A.TAG_ID.IMG,Xx(e,t)}function ufe(e,t){e._insertElement(t,A.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Vn.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Y.TEXT}function cfe(e,t){e.openElements.hasInButtonScope(A.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Vn.TokenizerMode.RAWTEXT)}function ffe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Vn.TokenizerMode.RAWTEXT)}function M6(e,t){e._switchToTextParsing(t,Vn.TokenizerMode.RAWTEXT)}function lfe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Y.IN_TABLE||e.insertionMode===Y.IN_CAPTION||e.insertionMode===Y.IN_TABLE_BODY||e.insertionMode===Y.IN_ROW||e.insertionMode===Y.IN_CELL?Y.IN_SELECT_IN_TABLE:Y.IN_SELECT}function dfe(e,t){e.openElements.currentTagId===A.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML)}function hfe(e,t){e.openElements.hasInScope(A.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,A.NS.HTML)}function pfe(e,t){e.openElements.hasInScope(A.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(A.TAG_ID.RTC),e._insertElement(t,A.NS.HTML)}function mfe(e,t){e._reconstructActiveFormattingElements(),ki.adjustTokenMathMLAttrs(t),ki.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,A.NS.MATHML):e._insertElement(t,A.NS.MATHML),t.ackSelfClosing=!0}function vfe(e,t){e._reconstructActiveFormattingElements(),ki.adjustTokenSVGAttrs(t),ki.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,A.NS.SVG):e._insertElement(t,A.NS.SVG),t.ackSelfClosing=!0}function L6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,A.NS.HTML)}function Fn(e,t){switch(t.tagID){case A.TAG_ID.I:case A.TAG_ID.S:case A.TAG_ID.B:case A.TAG_ID.U:case A.TAG_ID.EM:case A.TAG_ID.TT:case A.TAG_ID.BIG:case A.TAG_ID.CODE:case A.TAG_ID.FONT:case A.TAG_ID.SMALL:case A.TAG_ID.STRIKE:case A.TAG_ID.STRONG:{efe(e,t);break}case A.TAG_ID.A:{Zce(e,t);break}case A.TAG_ID.H1:case A.TAG_ID.H2:case A.TAG_ID.H3:case A.TAG_ID.H4:case A.TAG_ID.H5:case A.TAG_ID.H6:{Vce(e,t);break}case A.TAG_ID.P:case A.TAG_ID.DL:case A.TAG_ID.OL:case A.TAG_ID.UL:case A.TAG_ID.DIV:case A.TAG_ID.DIR:case A.TAG_ID.NAV:case A.TAG_ID.MAIN:case A.TAG_ID.MENU:case A.TAG_ID.ASIDE:case A.TAG_ID.CENTER:case A.TAG_ID.FIGURE:case A.TAG_ID.FOOTER:case A.TAG_ID.HEADER:case A.TAG_ID.HGROUP:case A.TAG_ID.DIALOG:case A.TAG_ID.DETAILS:case A.TAG_ID.ADDRESS:case A.TAG_ID.ARTICLE:case A.TAG_ID.SECTION:case A.TAG_ID.SUMMARY:case A.TAG_ID.FIELDSET:case A.TAG_ID.BLOCKQUOTE:case A.TAG_ID.FIGCAPTION:{qce(e,t);break}case A.TAG_ID.LI:case A.TAG_ID.DD:case A.TAG_ID.DT:{Xce(e,t);break}case A.TAG_ID.BR:case A.TAG_ID.IMG:case A.TAG_ID.WBR:case A.TAG_ID.AREA:case A.TAG_ID.EMBED:case A.TAG_ID.KEYGEN:{Xx(e,t);break}case A.TAG_ID.HR:{sfe(e,t);break}case A.TAG_ID.RB:case A.TAG_ID.RTC:{hfe(e,t);break}case A.TAG_ID.RT:case A.TAG_ID.RP:{pfe(e,t);break}case A.TAG_ID.PRE:case A.TAG_ID.LISTING:{zce(e,t);break}case A.TAG_ID.XMP:{cfe(e,t);break}case A.TAG_ID.SVG:{vfe(e,t);break}case A.TAG_ID.HTML:{Gce(e,t);break}case A.TAG_ID.BASE:case A.TAG_ID.LINK:case A.TAG_ID.META:case A.TAG_ID.STYLE:case A.TAG_ID.TITLE:case A.TAG_ID.SCRIPT:case A.TAG_ID.BGSOUND:case A.TAG_ID.BASEFONT:case A.TAG_ID.TEMPLATE:{Ti(e,t);break}case A.TAG_ID.BODY:{Kce(e,t);break}case A.TAG_ID.FORM:{Yce(e,t);break}case A.TAG_ID.NOBR:{tfe(e,t);break}case A.TAG_ID.MATH:{mfe(e,t);break}case A.TAG_ID.TABLE:{nfe(e,t);break}case A.TAG_ID.INPUT:{afe(e,t);break}case A.TAG_ID.PARAM:case A.TAG_ID.TRACK:case A.TAG_ID.SOURCE:{ife(e,t);break}case A.TAG_ID.IMAGE:{ofe(e,t);break}case A.TAG_ID.BUTTON:{Qce(e,t);break}case A.TAG_ID.APPLET:case A.TAG_ID.OBJECT:case A.TAG_ID.MARQUEE:{rfe(e,t);break}case A.TAG_ID.IFRAME:{ffe(e,t);break}case A.TAG_ID.SELECT:{lfe(e,t);break}case A.TAG_ID.OPTION:case A.TAG_ID.OPTGROUP:{dfe(e,t);break}case A.TAG_ID.NOEMBED:{M6(e,t);break}case A.TAG_ID.FRAMESET:{Wce(e,t);break}case A.TAG_ID.TEXTAREA:{ufe(e,t);break}case A.TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?M6(e,t):L6(e,t);break}case A.TAG_ID.PLAINTEXT:{Jce(e,t);break}case A.TAG_ID.COL:case A.TAG_ID.TH:case A.TAG_ID.TD:case A.TAG_ID.TR:case A.TAG_ID.HEAD:case A.TAG_ID.FRAME:case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:case A.TAG_ID.CAPTION:case A.TAG_ID.COLGROUP:break;default:L6(e,t)}}function bfe(e,t){if(e.openElements.hasInScope(A.TAG_ID.BODY)&&(e.insertionMode=Y.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function gfe(e,t){e.openElements.hasInScope(A.TAG_ID.BODY)&&(e.insertionMode=Y.AFTER_BODY,o9(e,t))}function yfe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function _fe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(A.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(A.TAG_ID.FORM):r&&e.openElements.remove(r))}function Tfe(e){e.openElements.hasInButtonScope(A.TAG_ID.P)||e._insertFakeElement(A.TAG_NAMES.P,A.TAG_ID.P),e._closePElement()}function Efe(e){e.openElements.hasInListItemScope(A.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(A.TAG_ID.LI),e.openElements.popUntilTagNamePopped(A.TAG_ID.LI))}function Sfe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function Afe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function wfe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function Cfe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(A.TAG_NAMES.BR,A.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}function Qx(e,t){const r=t.tagName,n=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a],s=e.openElements.tagIDs[a];if(n===s&&(n!==A.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(i)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(i,s))break}}function Yv(e,t){switch(t.tagID){case A.TAG_ID.A:case A.TAG_ID.B:case A.TAG_ID.I:case A.TAG_ID.S:case A.TAG_ID.U:case A.TAG_ID.EM:case A.TAG_ID.TT:case A.TAG_ID.BIG:case A.TAG_ID.CODE:case A.TAG_ID.FONT:case A.TAG_ID.NOBR:case A.TAG_ID.SMALL:case A.TAG_ID.STRIKE:case A.TAG_ID.STRONG:{FT(e,t);break}case A.TAG_ID.P:{Tfe(e);break}case A.TAG_ID.DL:case A.TAG_ID.UL:case A.TAG_ID.OL:case A.TAG_ID.DIR:case A.TAG_ID.DIV:case A.TAG_ID.NAV:case A.TAG_ID.PRE:case A.TAG_ID.MAIN:case A.TAG_ID.MENU:case A.TAG_ID.ASIDE:case A.TAG_ID.BUTTON:case A.TAG_ID.CENTER:case A.TAG_ID.FIGURE:case A.TAG_ID.FOOTER:case A.TAG_ID.HEADER:case A.TAG_ID.HGROUP:case A.TAG_ID.DIALOG:case A.TAG_ID.ADDRESS:case A.TAG_ID.ARTICLE:case A.TAG_ID.DETAILS:case A.TAG_ID.SECTION:case A.TAG_ID.SUMMARY:case A.TAG_ID.LISTING:case A.TAG_ID.FIELDSET:case A.TAG_ID.BLOCKQUOTE:case A.TAG_ID.FIGCAPTION:{yfe(e,t);break}case A.TAG_ID.LI:{Efe(e);break}case A.TAG_ID.DD:case A.TAG_ID.DT:{Sfe(e,t);break}case A.TAG_ID.H1:case A.TAG_ID.H2:case A.TAG_ID.H3:case A.TAG_ID.H4:case A.TAG_ID.H5:case A.TAG_ID.H6:{Afe(e);break}case A.TAG_ID.BR:{Cfe(e);break}case A.TAG_ID.BODY:{bfe(e,t);break}case A.TAG_ID.HTML:{gfe(e,t);break}case A.TAG_ID.FORM:{_fe(e);break}case A.TAG_ID.APPLET:case A.TAG_ID.OBJECT:case A.TAG_ID.MARQUEE:{wfe(e,t);break}case A.TAG_ID.TEMPLATE:{cc(e,t);break}default:Qx(e,t)}}function Zx(e,t){e.tmplInsertionModeStack.length>0?s9(e,t):HT(e,t)}function Ife(e,t){var r;t.tagID===A.TAG_ID.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Pfe(e,t){e._err(t,bn.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function iy(e,t){if(Vx.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Y.IN_TABLE_TEXT,t.type){case Kr.TokenType.CHARACTER:{t9(e,t);break}case Kr.TokenType.WHITESPACE_CHARACTER:{e9(e,t);break}}else Kh(e,t)}function Nfe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_CAPTION}function Ofe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_COLUMN_GROUP}function xfe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(A.TAG_NAMES.COLGROUP,A.TAG_ID.COLGROUP),e.insertionMode=Y.IN_COLUMN_GROUP,$T(e,t)}function Rfe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_TABLE_BODY}function Dfe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(A.TAG_NAMES.TBODY,A.TAG_ID.TBODY),e.insertionMode=Y.IN_TABLE_BODY,Xv(e,t)}function Mfe(e,t){e.openElements.hasInTableScope(A.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Lfe(e,t){Jx(t)?e._appendElement(t,A.NS.HTML):Kh(e,t),t.ackSelfClosing=!0}function kfe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,A.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Gf(e,t){switch(t.tagID){case A.TAG_ID.TD:case A.TAG_ID.TH:case A.TAG_ID.TR:{Dfe(e,t);break}case A.TAG_ID.STYLE:case A.TAG_ID.SCRIPT:case A.TAG_ID.TEMPLATE:{Ti(e,t);break}case A.TAG_ID.COL:{xfe(e,t);break}case A.TAG_ID.FORM:{kfe(e,t);break}case A.TAG_ID.TABLE:{Mfe(e,t);break}case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:{Rfe(e,t);break}case A.TAG_ID.INPUT:{Lfe(e,t);break}case A.TAG_ID.CAPTION:{Nfe(e,t);break}case A.TAG_ID.COLGROUP:{Ofe(e,t);break}default:Kh(e,t)}}function jd(e,t){switch(t.tagID){case A.TAG_ID.TABLE:{e.openElements.hasInTableScope(A.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(A.TAG_ID.TABLE),e._resetInsertionMode());break}case A.TAG_ID.TEMPLATE:{cc(e,t);break}case A.TAG_ID.BODY:case A.TAG_ID.CAPTION:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.HTML:case A.TAG_ID.TBODY:case A.TAG_ID.TD:case A.TAG_ID.TFOOT:case A.TAG_ID.TH:case A.TAG_ID.THEAD:case A.TAG_ID.TR:break;default:Kh(e,t)}}function Kh(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,zv(e,t),e.fosterParentingEnabled=r}function e9(e,t){e.pendingCharacterTokens.push(t)}function t9(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Bl(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Kh(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const r9=new Set([A.TAG_ID.CAPTION,A.TAG_ID.COL,A.TAG_ID.COLGROUP,A.TAG_ID.TBODY,A.TAG_ID.TD,A.TAG_ID.TFOOT,A.TAG_ID.TH,A.TAG_ID.THEAD,A.TAG_ID.TR]);function Bfe(e,t){const r=t.tagID;r9.has(r)?e.openElements.hasInTableScope(A.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,Gf(e,t)):Fn(e,t)}function Ffe(e,t){const r=t.tagID;switch(r){case A.TAG_ID.CAPTION:case A.TAG_ID.TABLE:{e.openElements.hasInTableScope(A.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(A.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,r===A.TAG_ID.TABLE&&jd(e,t));break}case A.TAG_ID.BODY:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.HTML:case A.TAG_ID.TBODY:case A.TAG_ID.TD:case A.TAG_ID.TFOOT:case A.TAG_ID.TH:case A.TAG_ID.THEAD:case A.TAG_ID.TR:break;default:Yv(e,t)}}function $T(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.COL:{e._appendElement(t,A.NS.HTML),t.ackSelfClosing=!0;break}case A.TAG_ID.TEMPLATE:{Ti(e,t);break}default:rm(e,t)}}function Hfe(e,t){switch(t.tagID){case A.TAG_ID.COLGROUP:{e.openElements.currentTagId===A.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case A.TAG_ID.TEMPLATE:{cc(e,t);break}case A.TAG_ID.COL:break;default:rm(e,t)}}function rm(e,t){e.openElements.currentTagId===A.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE,e._processToken(t))}function Xv(e,t){switch(t.tagID){case A.TAG_ID.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_ROW;break}case A.TAG_ID.TH:case A.TAG_ID.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(A.TAG_NAMES.TR,A.TAG_ID.TR),e.insertionMode=Y.IN_ROW,Jv(e,t);break}case A.TAG_ID.CAPTION:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,Gf(e,t));break}default:Gf(e,t)}}function s_(e,t){const r=t.tagID;switch(t.tagID){case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case A.TAG_ID.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,jd(e,t));break}case A.TAG_ID.BODY:case A.TAG_ID.CAPTION:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.HTML:case A.TAG_ID.TD:case A.TAG_ID.TH:case A.TAG_ID.TR:break;default:jd(e,t)}}function Jv(e,t){switch(t.tagID){case A.TAG_ID.TH:case A.TAG_ID.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,A.NS.HTML),e.insertionMode=Y.IN_CELL,e.activeFormattingElements.insertMarker();break}case A.TAG_ID.CAPTION:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:case A.TAG_ID.TR:{e.openElements.hasInTableScope(A.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,Xv(e,t));break}default:Gf(e,t)}}function n9(e,t){switch(t.tagID){case A.TAG_ID.TR:{e.openElements.hasInTableScope(A.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY);break}case A.TAG_ID.TABLE:{e.openElements.hasInTableScope(A.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,s_(e,t));break}case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(A.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,s_(e,t));break}case A.TAG_ID.BODY:case A.TAG_ID.CAPTION:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.HTML:case A.TAG_ID.TD:case A.TAG_ID.TH:break;default:jd(e,t)}}function $fe(e,t){const r=t.tagID;r9.has(r)?(e.openElements.hasInTableScope(A.TAG_ID.TD)||e.openElements.hasInTableScope(A.TAG_ID.TH))&&(e._closeTableCell(),Jv(e,t)):Fn(e,t)}function Ufe(e,t){const r=t.tagID;switch(r){case A.TAG_ID.TD:case A.TAG_ID.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_ROW);break}case A.TAG_ID.TABLE:case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:case A.TAG_ID.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),n9(e,t));break}case A.TAG_ID.BODY:case A.TAG_ID.CAPTION:case A.TAG_ID.COL:case A.TAG_ID.COLGROUP:case A.TAG_ID.HTML:break;default:Yv(e,t)}}function a9(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.OPTION:{e.openElements.currentTagId===A.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,A.NS.HTML);break}case A.TAG_ID.OPTGROUP:{e.openElements.currentTagId===A.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===A.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,A.NS.HTML);break}case A.TAG_ID.INPUT:case A.TAG_ID.KEYGEN:case A.TAG_ID.TEXTAREA:case A.TAG_ID.SELECT:{e.openElements.hasInSelectScope(A.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(A.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==A.TAG_ID.SELECT&&e._processStartTag(t));break}case A.TAG_ID.SCRIPT:case A.TAG_ID.TEMPLATE:{Ti(e,t);break}}}function i9(e,t){switch(t.tagID){case A.TAG_ID.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===A.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===A.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===A.TAG_ID.OPTGROUP&&e.openElements.pop();break}case A.TAG_ID.OPTION:{e.openElements.currentTagId===A.TAG_ID.OPTION&&e.openElements.pop();break}case A.TAG_ID.SELECT:{e.openElements.hasInSelectScope(A.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(A.TAG_ID.SELECT),e._resetInsertionMode());break}case A.TAG_ID.TEMPLATE:{cc(e,t);break}}}function jfe(e,t){const r=t.tagID;r===A.TAG_ID.CAPTION||r===A.TAG_ID.TABLE||r===A.TAG_ID.TBODY||r===A.TAG_ID.TFOOT||r===A.TAG_ID.THEAD||r===A.TAG_ID.TR||r===A.TAG_ID.TD||r===A.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(A.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):a9(e,t)}function Gfe(e,t){const r=t.tagID;r===A.TAG_ID.CAPTION||r===A.TAG_ID.TABLE||r===A.TAG_ID.TBODY||r===A.TAG_ID.TFOOT||r===A.TAG_ID.THEAD||r===A.TAG_ID.TR||r===A.TAG_ID.TD||r===A.TAG_ID.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(A.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):i9(e,t)}function Kfe(e,t){switch(t.tagID){case A.TAG_ID.BASE:case A.TAG_ID.BASEFONT:case A.TAG_ID.BGSOUND:case A.TAG_ID.LINK:case A.TAG_ID.META:case A.TAG_ID.NOFRAMES:case A.TAG_ID.SCRIPT:case A.TAG_ID.STYLE:case A.TAG_ID.TEMPLATE:case A.TAG_ID.TITLE:{Ti(e,t);break}case A.TAG_ID.CAPTION:case A.TAG_ID.COLGROUP:case A.TAG_ID.TBODY:case A.TAG_ID.TFOOT:case A.TAG_ID.THEAD:{e.tmplInsertionModeStack[0]=Y.IN_TABLE,e.insertionMode=Y.IN_TABLE,Gf(e,t);break}case A.TAG_ID.COL:{e.tmplInsertionModeStack[0]=Y.IN_COLUMN_GROUP,e.insertionMode=Y.IN_COLUMN_GROUP,$T(e,t);break}case A.TAG_ID.TR:{e.tmplInsertionModeStack[0]=Y.IN_TABLE_BODY,e.insertionMode=Y.IN_TABLE_BODY,Xv(e,t);break}case A.TAG_ID.TD:case A.TAG_ID.TH:{e.tmplInsertionModeStack[0]=Y.IN_ROW,e.insertionMode=Y.IN_ROW,Jv(e,t);break}default:e.tmplInsertionModeStack[0]=Y.IN_BODY,e.insertionMode=Y.IN_BODY,Fn(e,t)}}function Wfe(e,t){t.tagID===A.TAG_ID.TEMPLATE&&cc(e,t)}function s9(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(A.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):HT(e,t)}function qfe(e,t){t.tagID===A.TAG_ID.HTML?Fn(e,t):nm(e,t)}function o9(e,t){var r;if(t.tagID===A.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=Y.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===A.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else nm(e,t)}function nm(e,t){e.insertionMode=Y.IN_BODY,zv(e,t)}function Vfe(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.FRAMESET:{e._insertElement(t,A.NS.HTML);break}case A.TAG_ID.FRAME:{e._appendElement(t,A.NS.HTML),t.ackSelfClosing=!0;break}case A.TAG_ID.NOFRAMES:{Ti(e,t);break}}}function zfe(e,t){t.tagID===A.TAG_ID.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==A.TAG_ID.FRAMESET&&(e.insertionMode=Y.AFTER_FRAMESET))}function Yfe(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.NOFRAMES:{Ti(e,t);break}}}function Xfe(e,t){t.tagID===A.TAG_ID.HTML&&(e.insertionMode=Y.AFTER_AFTER_FRAMESET)}function Jfe(e,t){t.tagID===A.TAG_ID.HTML?Fn(e,t):Q0(e,t)}function Q0(e,t){e.insertionMode=Y.IN_BODY,zv(e,t)}function Qfe(e,t){switch(t.tagID){case A.TAG_ID.HTML:{Fn(e,t);break}case A.TAG_ID.NOFRAMES:{Ti(e,t);break}}}function Zfe(e,t){t.chars=qx.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function ele(e,t){e._insertCharacters(t),e.framesetOk=!1}function u9(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==A.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function tle(e,t){if(ki.causesExit(t))u9(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===A.NS.MATHML?ki.adjustTokenMathMLAttrs(t):n===A.NS.SVG&&(ki.adjustTokenSVGTagName(t),ki.adjustTokenSVGAttrs(t)),ki.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function rle(e,t){if(t.tagID===A.TAG_ID.P||t.tagID===A.TAG_ID.BR){u9(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===A.NS.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(n);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(r);break}}}var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.serializeOuter=Kf.serialize=void 0;const ar=Ss,c9=Hd,nle=Vv,ale=new Set([ar.TAG_NAMES.AREA,ar.TAG_NAMES.BASE,ar.TAG_NAMES.BASEFONT,ar.TAG_NAMES.BGSOUND,ar.TAG_NAMES.BR,ar.TAG_NAMES.COL,ar.TAG_NAMES.EMBED,ar.TAG_NAMES.FRAME,ar.TAG_NAMES.HR,ar.TAG_NAMES.IMG,ar.TAG_NAMES.INPUT,ar.TAG_NAMES.KEYGEN,ar.TAG_NAMES.LINK,ar.TAG_NAMES.META,ar.TAG_NAMES.PARAM,ar.TAG_NAMES.SOURCE,ar.TAG_NAMES.TRACK,ar.TAG_NAMES.WBR]);function f9(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===ar.NS.HTML&&ale.has(t.treeAdapter.getTagName(e))}const l9={treeAdapter:nle.defaultTreeAdapter,scriptingEnabled:!0};function ile(e,t){const r=Object.assign(Object.assign({},l9),t);return f9(e,r)?"":d9(e,r)}Kf.serialize=ile;function sle(e,t){const r=Object.assign(Object.assign({},l9),t);return h9(e,r)}Kf.serializeOuter=sle;function d9(e,t){let r="";const n=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===ar.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===ar.NS.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(n);if(a)for(const i of a)r+=h9(i,t);return r}function h9(e,t){return t.treeAdapter.isElementNode(e)?ole(e,t):t.treeAdapter.isTextNode(e)?cle(e,t):t.treeAdapter.isCommentNode(e)?fle(e,t):t.treeAdapter.isDocumentTypeNode(e)?lle(e,t):""}function ole(e,t){const r=t.treeAdapter.getTagName(e);return`<${r}${ule(e,t)}>${f9(e,t)?"":`${d9(e,t)}</${r}>`}`}function ule(e,{treeAdapter:t}){let r="";for(const n of t.getAttrList(e)){if(r+=" ",!n.namespace)r+=n.name;else switch(n.namespace){case ar.NS.XML:{r+=`xml:${n.name}`;break}case ar.NS.XMLNS:{n.name!=="xmlns"&&(r+="xmlns:"),r+=n.name;break}case ar.NS.XLINK:{r+=`xlink:${n.name}`;break}default:r+=`${n.prefix}:${n.name}`}r+=`="${(0,c9.escapeAttribute)(n.value)}"`}return r}function cle(e,t){const{treeAdapter:r}=t,n=r.getTextNodeContent(e),a=r.getParentNode(e),i=a&&r.isElementNode(a)&&r.getTagName(a);return i&&r.getNamespaceURI(a)===ar.NS.HTML&&(0,ar.hasUnescapedText)(i,t.scriptingEnabled)?n:(0,c9.escapeText)(n)}function fle(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function lle(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=Ud;var r=Vv;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return r.defaultTreeAdapter}});var n=Ud;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return n.Parser}});var a=Kf;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return a.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return a.serializeOuter}});var i=Gh;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return i.ERR}}),e.foreignContent=BT,e.html=Ss,e.Token=Wv;var s=Ku;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return s.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return s.TokenizerMode}});function o(u,c){return t.Parser.parse(u,c)}e.parse=o;function f(u,c,l){typeof u=="string"&&(l=c,c=u,u=null);const d=t.Parser.getFragmentParser(u,l);return d.tokenizer.write(c,!0),d.getFragment()}e.parseFragment=f})(kT);var p9={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=e.serializeDoctypeContent=void 0;const t=kT,r=Bn;function n(s){return new r.Text(s)}function a(s){const o=s.includes('"')?"'":'"';return o+s+o}function i(s,o,f){let u="!DOCTYPE ";return s&&(u+=s),o?u+=` PUBLIC ${a(o)}`:f&&(u+=" SYSTEM"),f&&(u+=` ${a(f)}`),u}e.serializeDoctypeContent=i,e.adapter={isCommentNode:r.isComment,isElementNode:r.isTag,isTextNode:r.isText,createDocument(){const s=new r.Document([]);return s["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,s},createDocumentFragment(){return new r.Document([])},createElement(s,o,f){const u=Object.create(null),c=Object.create(null),l=Object.create(null);for(let h=0;h<f.length;h++){const p=f[h].name;u[p]=f[h].value,c[p]=f[h].namespace,l[p]=f[h].prefix}const d=new r.Element(s,u,[]);return d.namespace=o,d["x-attribsNamespace"]=c,d["x-attribsPrefix"]=l,d},createCommentNode(s){return new r.Comment(s)},appendChild(s,o){const f=s.children[s.children.length-1];f&&(f.next=o,o.prev=f),s.children.push(o),o.parent=s},insertBefore(s,o,f){const u=s.children.indexOf(f),{prev:c}=f;c&&(c.next=o,o.prev=c),f.prev=o,o.next=f,s.children.splice(u,0,o),o.parent=s},setTemplateContent(s,o){e.adapter.appendChild(s,o)},getTemplateContent(s){return s.children[0]},setDocumentType(s,o,f,u){const c=i(o,f,u);let l=s.children.find(d=>(0,r.isDirective)(d)&&d.name==="!doctype");l?l.data=c??null:(l=new r.ProcessingInstruction("!doctype",c),e.adapter.appendChild(s,l)),l["x-name"]=o??void 0,l["x-publicId"]=f??void 0,l["x-systemId"]=u??void 0},setDocumentMode(s,o){s["x-mode"]=o},getDocumentMode(s){return s["x-mode"]},detachNode(s){if(s.parent){const o=s.parent.children.indexOf(s),{prev:f,next:u}=s;s.prev=null,s.next=null,f&&(f.next=u),u&&(u.prev=f),s.parent.children.splice(o,1),s.parent=null}},insertText(s,o){const f=s.children[s.children.length-1];f&&(0,r.isText)(f)?f.data+=o:e.adapter.appendChild(s,n(o))},insertTextBefore(s,o,f){const u=s.children[s.children.indexOf(f)-1];u&&(0,r.isText)(u)?u.data+=o:e.adapter.insertBefore(s,n(o),f)},adoptAttributes(s,o){for(let f=0;f<o.length;f++){const u=o[f].name;typeof s.attribs[u]>"u"&&(s.attribs[u]=o[f].value,s["x-attribsNamespace"][u]=o[f].namespace,s["x-attribsPrefix"][u]=o[f].prefix)}},getFirstChild(s){return s.children[0]},getChildNodes(s){return s.children},getParentNode(s){return s.parent},getAttrList(s){return s.attributes},getTagName(s){return s.name},getNamespaceURI(s){return s.namespace},getTextNodeContent(s){return s.data},getCommentNodeContent(s){return s.data},getDocumentTypeNodeName(s){var o;return(o=s["x-name"])!==null&&o!==void 0?o:""},getDocumentTypeNodePublicId(s){var o;return(o=s["x-publicId"])!==null&&o!==void 0?o:""},getDocumentTypeNodeSystemId(s){var o;return(o=s["x-systemId"])!==null&&o!==void 0?o:""},isDocumentTypeNode(s){return(0,r.isDirective)(s)&&s.name==="!doctype"},setNodeSourceCodeLocation(s,o){o&&(s.startIndex=o.startOffset,s.endIndex=o.endOffset),s.sourceCodeLocation=o},getNodeSourceCodeLocation(s){return s.sourceCodeLocation},updateNodeSourceCodeLocation(s,o){o.endOffset!=null&&(s.endIndex=o.endOffset),s.sourceCodeLocation=Object.assign(Object.assign({},s.sourceCodeLocation),o)}}})(p9);var dle=$&&$.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.renderWithParse5=Uf.parseWithParse5=void 0;var hle=Bn,o_=kT,m9=p9;function ple(e,t,r,n){var a={scriptingEnabled:typeof t.scriptingEnabled=="boolean"?t.scriptingEnabled:!0,treeAdapter:m9.adapter,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return r?(0,o_.parse)(e,a):(0,o_.parseFragment)(n,e,a)}Uf.parseWithParse5=ple;var mle={treeAdapter:m9.adapter};function vle(e){for(var t,r=("length"in e)?e:[e],n=0;n<r.length;n+=1){var a=r[n];(0,hle.isDocument)(a)&&(t=Array.prototype.splice).call.apply(t,dle([r,n,1],a.children,!1))}for(var i="",n=0;n<r.length;n+=1){var a=r[n];i+=(0,o_.serializeOuter)(a,mle)}return i}Uf.renderWithParse5=vle;var v9={},Gd={},UT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t=Mf,r;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(d){return d===r.Space||d===r.NewLine||d===r.Tab||d===r.FormFeed||d===r.CarriageReturn}function i(d){return d===r.Slash||d===r.Gt||a(d)}function s(d){return d>=r.Zero&&d<=r.Nine}function o(d){return d>=r.LowerA&&d<=r.LowerZ||d>=r.UpperA&&d<=r.UpperZ}function f(d){return d>=r.UpperA&&d<=r.UpperF||d>=r.LowerA&&d<=r.LowerF}var u;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(u=e.QuoteType||(e.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},l=function(){function d(h,p){var m=h.xmlMode,v=m===void 0?!1:m,b=h.decodeEntities,g=b===void 0?!0:b;this.cbs=p,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=v,this.decodeEntities=g,this.entityTrie=v?t.xmlDecodeTree:t.htmlDecodeTree}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(h){h===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===r.Amp&&(this.state=n.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(h){var p=this.sequenceIndex===this.currentSequence.length,m=p?i(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!m)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},d.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===r.Gt||a(h)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var m=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=m}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&h===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===r.Lt)},d.prototype.stateCDATASequence=function(h){h===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},d.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(h){return this.xmlMode?!i(h):o(h)},d.prototype.startSpecial=function(h,p){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=p,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(h){if(h===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var p=h|32;this.sectionStart=this.index,!this.xmlMode&&p===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&p===c.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},d.prototype.stateInTagName=function(h){i(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateBeforeClosingTagName=function(h){a(h)||(h===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(h){(h===r.Gt||a(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},d.prototype.stateAfterClosingTagName=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(h){h===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===r.Slash?this.state=n.InSelfClosingTag:a(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(h){h===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateInAttributeName=function(h){(h===r.Eq||i(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},d.prototype.stateAfterAttributeName=function(h){h===r.Eq?this.state=n.BeforeAttributeValue:h===r.Slash||h===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):a(h)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(h){h===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},d.prototype.handleInAttributeValue=function(h,p){h===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,r.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,r.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(h){a(h)||h===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(h){h===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===r.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(h){h===r.Dash?(this.state=n.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(h){(h===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(h){var p=h|32;p===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):p===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},d.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===r.Number?this.state=n.BeforeNumericEntity:h===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},d.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var m=(p>>14)-1;if(!this.allowLegacyEntity()&&h!==r.Semi)this.trieIndex+=m;else{var v=this.index-this.entityExcess+1;v>this.sectionStart&&this.emitPartial(this.sectionStart,v),this.entityResult=this.trieIndex,this.trieIndex+=m,this.entityExcess=0,this.sectionStart=this.index+1,m===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(h){(h|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},d.prototype.emitNumericEntity=function(h){var p=this.index-this.entityExcess-1,m=p+2+ +(this.state===n.InHexEntity);m!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(h){h===r.Semi?this.emitNumericEntity(!0):s(h)?(this.entityResult=this.entityResult*10+(h-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(h){h===r.Semi?this.emitNumericEntity(!0):s(h)?(this.entityResult=this.entityResult*16+(h-r.Zero),this.entityExcess++):f(h)?(this.entityResult=this.entityResult*16+((h|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},d.prototype.emitPartial=function(h,p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,p):this.cbs.ontext(h,p)},d.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},d}();e.default=l})(UT);var ble=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gle=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yle=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ble(t,e,r);return gle(t,e),t};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.Parser=void 0;var P0=yle(UT),k6=Mf,Sc=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Qt=new Set(["p"]),B6=new Set(["thead","tbody"]),F6=new Set(["dd","dt"]),H6=new Set(["rt","rp"]),_le=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Qt],["h1",Qt],["h2",Qt],["h3",Qt],["h4",Qt],["h5",Qt],["h6",Qt],["select",Sc],["input",Sc],["output",Sc],["button",Sc],["datalist",Sc],["textarea",Sc],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",F6],["dt",F6],["address",Qt],["article",Qt],["aside",Qt],["blockquote",Qt],["details",Qt],["div",Qt],["dl",Qt],["fieldset",Qt],["figcaption",Qt],["figure",Qt],["footer",Qt],["form",Qt],["header",Qt],["hr",Qt],["main",Qt],["nav",Qt],["ol",Qt],["pre",Qt],["section",Qt],["table",Qt],["ul",Qt],["rt",H6],["rp",H6],["tbody",B6],["tfoot",B6]]),Tle=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),$6=new Set(["math","svg"]),U6=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Ele=/\s|\//,Sle=function(){function e(t,r){r===void 0&&(r={});var n,a,i,s,o;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((i=r.Tokenizer)!==null&&i!==void 0?i:P0.default)(this.options,this),(o=(s=this.cbs).onparserinit)===null||o===void 0||o.call(s,this)}return e.prototype.ontext=function(t,r){var n,a,i=this.getSlice(t,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,i),this.startIndex=r},e.prototype.ontextentity=function(t){var r,n,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,k6.fromCodePoint)(t)),this.startIndex=a},e.prototype.isVoidElement=function(t){return!this.options.xmlMode&&Tle.has(t)},e.prototype.onopentagname=function(t,r){this.endIndex=r;var n=this.getSlice(t,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(t){var r,n,a,i;this.openTagStart=this.startIndex,this.tagname=t;var s=!this.options.xmlMode&&_le.get(t);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var o=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,o,!0)}this.isVoidElement(t)||(this.stack.push(t),$6.has(t)?this.foreignContext.push(!0):U6.has(t)&&this.foreignContext.push(!1)),(i=(a=this.cbs).onopentagname)===null||i===void 0||i.call(a,t),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(t){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1},e.prototype.onclosetag=function(t,r){var n,a,i,s,o,f;this.endIndex=r;var u=this.getSlice(t,r);if(this.lowerCaseTagNames&&(u=u.toLowerCase()),($6.has(u)||U6.has(u))&&this.foreignContext.pop(),this.isVoidElement(u))!this.options.xmlMode&&u==="br"&&((a=(n=this.cbs).onopentagname)===null||a===void 0||a.call(n,"br"),(s=(i=this.cbs).onopentag)===null||s===void 0||s.call(i,"br",{},!0),(f=(o=this.cbs).onclosetag)===null||f===void 0||f.call(o,"br",!1));else{var c=this.stack.lastIndexOf(u);if(c!==-1)if(this.cbs.onclosetag)for(var l=this.stack.length-c;l--;)this.cbs.onclosetag(this.stack.pop(),l!==0);else this.stack.length=c;else!this.options.xmlMode&&u==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},e.prototype.onselfclosingtag=function(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)},e.prototype.closeCurrentTag=function(t){var r,n,a=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!t),this.stack.pop())},e.prototype.onattribname=function(t,r){this.startIndex=t;var n=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(t,r){this.attribvalue+=this.getSlice(t,r)},e.prototype.onattribentity=function(t){this.attribvalue+=(0,k6.fromCodePoint)(t)},e.prototype.onattribend=function(t,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,t===P0.QuoteType.Double?'"':t===P0.QuoteType.Single?"'":t===P0.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(t){var r=t.search(Ele),n=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(t,r){this.endIndex=r;var n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},e.prototype.onprocessinginstruction=function(t,r){this.endIndex=r;var n=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},e.prototype.oncomment=function(t,r,n){var a,i,s,o;this.endIndex=r,(i=(a=this.cbs).oncomment)===null||i===void 0||i.call(a,this.getSlice(t,r-n)),(o=(s=this.cbs).oncommentend)===null||o===void 0||o.call(s),this.startIndex=r+1},e.prototype.oncdata=function(t,r,n){var a,i,s,o,f,u,c,l,d,h;this.endIndex=r;var p=this.getSlice(t,r-n);this.options.xmlMode||this.options.recognizeCDATA?((i=(a=this.cbs).oncdatastart)===null||i===void 0||i.call(a),(o=(s=this.cbs).ontext)===null||o===void 0||o.call(s,p),(u=(f=this.cbs).oncdataend)===null||u===void 0||u.call(f)):((l=(c=this.cbs).oncomment)===null||l===void 0||l.call(c,"[CDATA[".concat(p,"]]")),(h=(d=this.cbs).oncommentend)===null||h===void 0||h.call(d)),this.startIndex=r+1},e.prototype.onend=function(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)},e.prototype.reset=function(){var t,r,n,a;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(t){this.reset(),this.end(t)},e.prototype.getSlice=function(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)},e.prototype.end=function(t){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(t){this.write(t)},e.prototype.done=function(t){this.end(t)},e}();Gd.Parser=Sle;(function(e){var t=$&&$.__createBinding||(Object.create?function(b,g,y,C){C===void 0&&(C=y);var I=Object.getOwnPropertyDescriptor(g,y);(!I||("get"in I?!g.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(b,C,I)}:function(b,g,y,C){C===void 0&&(C=y),b[C]=g[y]}),r=$&&$.__setModuleDefault||(Object.create?function(b,g){Object.defineProperty(b,"default",{enumerable:!0,value:g})}:function(b,g){b.default=g}),n=$&&$.__importStar||function(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&t(g,b,y);return r(g,b),g},a=$&&$.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var i=Gd,s=Gd;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=Bn,f=Bn;Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function u(b,g){var y=new o.DomHandler(void 0,g);return new i.Parser(y,g).end(b),y.root}e.parseDocument=u;function c(b,g){return u(b,g).children}e.parseDOM=c;function l(b,g,y){var C=new o.DomHandler(b,g,y);return new i.Parser(C,g)}e.createDomStream=l;var d=UT;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a(d).default}}),e.ElementType=n(pl);var h=vi,p=vi;Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var m={xmlMode:!0};function v(b,g){return g===void 0&&(g=m),(0,h.getFeed)(c(b,g))}e.parseFeed=v,e.DomUtils=n(vi)})(v9);(function(e){var t=$&&$.__createBinding||(Object.create?function(p,m,v,b){b===void 0&&(b=v);var g=Object.getOwnPropertyDescriptor(m,v);(!g||("get"in g?!m.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(p,b,g)}:function(p,m,v,b){b===void 0&&(b=v),p[b]=m[v]}),r=$&&$.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),n=$&&$.__exportStar||function(p,m){for(var v in p)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&t(m,p,v)},a=$&&$.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&t(m,p,v);return r(m,p),m},i=$&&$.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=e.text=e.xml=e.html=e.load=void 0,n(HO,e);var s=Pv,o=Gu,f=Uf,u=i(ml),c=v9,l=(0,o.getParse)(function(p,m,v,b){return m.xmlMode||m._useHtmlParser2?(0,c.parseDocument)(p,m):(0,f.parseWithParse5)(p,m,v,b)});e.load=(0,s.getLoad)(l,function(p,m){return m.xmlMode||m._useHtmlParser2?(0,u.default)(p,m):(0,f.renderWithParse5)(p)}),e.default=(0,e.load)([]);var d=Rr;Object.defineProperty(e,"html",{enumerable:!0,get:function(){return d.html}}),Object.defineProperty(e,"xml",{enumerable:!0,get:function(){return d.xml}}),Object.defineProperty(e,"text",{enumerable:!0,get:function(){return d.text}});var h=a(Rr);e.contains=h.contains,e.merge=h.merge,e.parseHTML=h.parseHTML,e.root=h.root})(FO);var u_={exports:{}};(function(e,t){var r=typeof self<"u"?self:$,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(s){var o={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function f(_){return _&&DataView.prototype.isPrototypeOf(_)}if(o.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(_){return _&&u.indexOf(Object.prototype.toString.call(_))>-1};function l(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(_))throw new TypeError("Invalid character in header field name");return _.toLowerCase()}function d(_){return typeof _!="string"&&(_=String(_)),_}function h(_){var M={next:function(){var L=_.shift();return{done:L===void 0,value:L}}};return o.iterable&&(M[Symbol.iterator]=function(){return M}),M}function p(_){this.map={},_ instanceof p?_.forEach(function(M,L){this.append(L,M)},this):Array.isArray(_)?_.forEach(function(M){this.append(M[0],M[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(M){this.append(M,_[M])},this)}p.prototype.append=function(_,M){_=l(_),M=d(M);var L=this.map[_];this.map[_]=L?L+", "+M:M},p.prototype.delete=function(_){delete this.map[l(_)]},p.prototype.get=function(_){return _=l(_),this.has(_)?this.map[_]:null},p.prototype.has=function(_){return this.map.hasOwnProperty(l(_))},p.prototype.set=function(_,M){this.map[l(_)]=d(M)},p.prototype.forEach=function(_,M){for(var L in this.map)this.map.hasOwnProperty(L)&&_.call(M,this.map[L],L,this)},p.prototype.keys=function(){var _=[];return this.forEach(function(M,L){_.push(L)}),h(_)},p.prototype.values=function(){var _=[];return this.forEach(function(M){_.push(M)}),h(_)},p.prototype.entries=function(){var _=[];return this.forEach(function(M,L){_.push([L,M])}),h(_)},o.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function m(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function v(_){return new Promise(function(M,L){_.onload=function(){M(_.result)},_.onerror=function(){L(_.error)}})}function b(_){var M=new FileReader,L=v(M);return M.readAsArrayBuffer(_),L}function g(_){var M=new FileReader,L=v(M);return M.readAsText(_),L}function y(_){for(var M=new Uint8Array(_),L=new Array(M.length),F=0;F<M.length;F++)L[F]=String.fromCharCode(M[F]);return L.join("")}function C(_){if(_.slice)return _.slice(0);var M=new Uint8Array(_.byteLength);return M.set(new Uint8Array(_)),M.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(_){this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:o.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:o.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():o.arrayBuffer&&o.blob&&f(_)?(this._bodyArrayBuffer=C(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||c(_))?this._bodyArrayBuffer=C(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var _=m(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var _=m(this);if(_)return _;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(_){var M=_.toUpperCase();return P.indexOf(M)>-1?M:_}function N(_,M){M=M||{};var L=M.body;if(_ instanceof N){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,M.headers||(this.headers=new p(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!L&&_._bodyInit!=null&&(L=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new p(M.headers)),this.method=O(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function S(_){var M=new FormData;return _.trim().split("&").forEach(function(L){if(L){var F=L.split("="),G=F.shift().replace(/\+/g," "),U=F.join("=").replace(/\+/g," ");M.append(decodeURIComponent(G),decodeURIComponent(U))}}),M}function D(_){var M=new p,L=_.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(F){var G=F.split(":"),U=G.shift().trim();if(U){var q=G.join(":").trim();M.append(U,q)}}),M}I.call(N.prototype);function w(_,M){M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in M?M.statusText:"OK",this.headers=new p(M.headers),this.url=M.url||"",this._initBody(_)}I.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var _=new w(null,{status:0,statusText:""});return _.type="error",_};var T=[301,302,303,307,308];w.redirect=function(_,M){if(T.indexOf(M)===-1)throw new RangeError("Invalid status code");return new w(null,{status:M,headers:{location:_}})},s.DOMException=i.DOMException;try{new s.DOMException}catch{s.DOMException=function(M,L){this.message=M,this.name=L;var F=Error(M);this.stack=F.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function x(_,M){return new Promise(function(L,F){var G=new N(_,M);if(G.signal&&G.signal.aborted)return F(new s.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function q(){U.abort()}U.onload=function(){var V={status:U.status,statusText:U.statusText,headers:D(U.getAllResponseHeaders()||"")};V.url="responseURL"in U?U.responseURL:V.headers.get("X-Request-URL");var W="response"in U?U.response:U.responseText;L(new w(W,V))},U.onerror=function(){F(new TypeError("Network request failed"))},U.ontimeout=function(){F(new TypeError("Network request failed"))},U.onabort=function(){F(new s.DOMException("Aborted","AbortError"))},U.open(G.method,G.url,!0),G.credentials==="include"?U.withCredentials=!0:G.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&o.blob&&(U.responseType="blob"),G.headers.forEach(function(V,W){U.setRequestHeader(W,V)}),G.signal&&(G.signal.addEventListener("abort",q),U.onreadystatechange=function(){U.readyState===4&&G.signal.removeEventListener("abort",q)}),U.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return x.polyfill=!0,i.fetch||(i.fetch=x,i.Headers=p,i.Request=N,i.Response=w),s.Headers=p,s.Request=N,s.Response=w,s.fetch=x,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(u_,u_.exports);var Ale=u_.exports,Qv={exports:{}};const{AbortController:b9,AbortSignal:wle}=typeof self<"u"?self:typeof window<"u"?window:void 0;Qv.exports=b9;Qv.exports.AbortSignal=wle;Qv.exports.default=b9;var Cle=Qv.exports,Zv={};Object.defineProperty(Zv,"__esModule",{value:!0});Zv.CONSTANTS=void 0;Zv.CONSTANTS={REGEX_VALID_URL:new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),REGEX_LOOPBACK:new RegExp("^(?:(?:10|127)(?:\\.\\d{1,3}){3})|(?:(?:169\\.254|192\\.168|192\\.0)(?:\\.\\d{1,3}){2})|(?:172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})$","i"),REGEX_CONTENT_TYPE_IMAGE:new RegExp("image/.*","i"),REGEX_CONTENT_TYPE_AUDIO:new RegExp("audio/.*","i"),REGEX_CONTENT_TYPE_VIDEO:new RegExp("video/.*","i"),REGEX_CONTENT_TYPE_TEXT:new RegExp("text/.*","i"),REGEX_CONTENT_TYPE_APPLICATION:new RegExp("application/.*","i")};var Zn=$&&$.__assign||function(){return Zn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Zn.apply(this,arguments)},g9=$&&$.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(c){try{u(n.next(c))}catch(l){s(l)}}function f(c){try{u(n.throw(c))}catch(l){s(l)}}function u(c){c.done?i(c.value):a(c.value).then(o,f)}u((n=n.apply(e,t||[])).next())})},y9=$&&$.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jT=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.getPreviewFromContent=E9=Fd.getLinkPreview=void 0;var Ile=jT(FO),j6=Ale,Ple=jT(Cle),ld=jT(mf),Yo=Zv;function G6(e){if(Yo.CONSTANTS.REGEX_LOOPBACK.test(e))throw new Error("SSRF request detected, trying to query host")}function us(e,t,r){var n=e("meta[".concat(r,"='").concat(t,"']"));return n.length?n:null}function Da(e,t,r){return e("meta[".concat(r,"='").concat(t,"']")).attr("content")}function Nle(e){var t=Da(e,"og:title","property")||Da(e,"og:title","name");return t||(t=e("title").text()),t}function Ole(e){var t=Da(e,"og:site_name","property")||Da(e,"og:site_name","name");return t}function xle(e){var t=Da(e,"description","name")||Da(e,"Description","name")||Da(e,"og:description","property");return t}function Rle(e){var t=us(e,"medium","name");if(t){var r=t.attr("content");return r==="image"?"photo":r}return Da(e,"og:type","property")||Da(e,"og:type","name")}function Dle(e,t,r){var n=[],a,i,s={},o=r??"og";return a=us(e,"".concat(o,":image"),"property")||us(e,"".concat(o,":image"),"name"),a&&a.each(function(f,u){u.type==="tag"&&(i=u.attribs.content,i&&(i=ld.default.resolve(t,i),n.push(i)))}),n.length<=0&&!r&&(i=e("link[rel=image_src]").attr("href"),i?(i=ld.default.resolve(t,i),n=[i]):(a=e("img"),a!=null&&a.length&&(s={},n=[],a.each(function(f,u){u.type==="tag"&&(i=u.attribs.src),i&&!s[i]&&(s[i]=!0,n.push(ld.default.resolve(t,i)))})))),n}function Mle(e){var t=[],r,n,a,i,s,o,f,u,c,l,d,h=us(e,"og:video","property")||us(e,"og:video","name");if(h!=null&&h.length)for(r=us(e,"og:video:type","property")||us(e,"og:video:type","name"),n=us(e,"og:video:secure_url","property")||us(e,"og:video:secure_url","name"),u=Da(e,"og:video:width","property")||Da(e,"og:video:width","name"),c=Da(e,"og:video:height","property")||Da(e,"og:video:height","name"),d=0;d<h.length;d+=1){var p=h[d];p.type==="tag"&&(s=p.attribs.content),a=r==null?void 0:r[d],(a==null?void 0:a.type)==="tag"&&(o=a?a.attribs.content:null),i=n==null?void 0:n[d],(i==null?void 0:i.type)==="tag"&&(f=i?i.attribs.content:null),l={url:s,secureUrl:f,type:o,width:u,height:c},o&&o.indexOf("video/")===0?t.splice(0,0,l):t.push(l)}return t}function Wh(e){return ld.default.resolve(e,"/favicon.ico")}function Lle(e,t){var r=[],n=[],a,i=["rel=icon",'rel="shortcut icon"',"rel=apple-touch-icon"];return i.forEach(function(s){n=e("link[".concat(s,"]")),n.length&&n.each(function(o,f){f.type==="tag"&&(a=f.attribs.href),a&&(a=ld.default.resolve(t,a),r.push(a))})}),r.length<=0&&r.push(Wh(t)),r}function kle(e,t){return{url:e,mediaType:"image",contentType:t,favicons:[Wh(e)]}}function Ble(e,t){return{url:e,mediaType:"audio",contentType:t,favicons:[Wh(e)]}}function Fle(e,t){return{url:e,mediaType:"video",contentType:t,favicons:[Wh(e)]}}function Hle(e,t){return{url:e,mediaType:"application",contentType:t,favicons:[Wh(e)]}}function _9(e,t,r,n){r===void 0&&(r={});var a=Ile.default.load(e);return{url:t,title:Nle(a),siteName:Ole(a),description:xle(a),mediaType:Rle(a)||"website",contentType:n,images:Dle(a,t,r.imagesPropertyType),videos:Mle(a),favicons:Lle(a,t)}}function K6(e,t,r,n){return r===void 0&&(r={}),_9(e,t,r,n)}function T9(e,t){try{var r=e.headers["content-type"],n=[],a=null;if(!r)return K6(e.data,e.url,t);if(r.includes(";")){n=r.split(";"),r=n[0];for(var i=0,s=n;i<s.length;i++){var o=s[i];o.indexOf("charset=")!==-1&&(a=o.split("=")[1])}}if(Yo.CONSTANTS.REGEX_CONTENT_TYPE_IMAGE.test(r))return Zn(Zn({},kle(e.url,r)),{charset:a});if(Yo.CONSTANTS.REGEX_CONTENT_TYPE_AUDIO.test(r))return Zn(Zn({},Ble(e.url,r)),{charset:a});if(Yo.CONSTANTS.REGEX_CONTENT_TYPE_VIDEO.test(r))return Zn(Zn({},Fle(e.url,r)),{charset:a});if(Yo.CONSTANTS.REGEX_CONTENT_TYPE_TEXT.test(r)){var f=e.data;return Zn(Zn({},_9(f,e.url,t,r)),{charset:a})}if(Yo.CONSTANTS.REGEX_CONTENT_TYPE_APPLICATION.test(r))return Zn(Zn({},Hle(e.url,r)),{charset:a});var u=e.data;return Zn(Zn({},K6(u,e.url,t)),{charset:a})}catch(c){throw new Error("link-preview-js could not fetch link information ".concat(c.toString()))}}function $le(e,t){var r,n,a;return g9(this,void 0,void 0,function(){var i,h,s,o,f,u,c,l,d,h,p,m,v;return y9(this,function(b){switch(b.label){case 0:if(!e||typeof e!="string")throw new Error("link-preview-js did not receive a valid url or text");if(i=e.replace(/\n/g," ").split(" ").find(function(g){return Yo.CONSTANTS.REGEX_VALID_URL.test(g)}),!i)throw new Error("link-preview-js did not receive a valid a url or text");if((t==null?void 0:t.followRedirects)==="manual"&&!(t!=null&&t.handleRedirects))throw new Error("link-preview-js followRedirects is set to manual, but no handleRedirects function was provided");return t!=null&&t.resolveDNSHost?[4,t.resolveDNSHost(i)]:[3,2];case 1:h=b.sent(),G6(h),b.label=2;case 2:return s=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:3e3,o=new Ple.default,f=setTimeout(function(){return o.abort()},s),u={headers:(n=t==null?void 0:t.headers)!==null&&n!==void 0?n:{},redirect:(a=t==null?void 0:t.followRedirects)!==null&&a!==void 0?a:"error",signal:o.signal},c=t!=null&&t.proxyUrl?t.proxyUrl.concat(i):i,[4,(0,j6.fetch)(c,u).catch(function(g){throw g.name==="AbortError"?new Error("Request timeout"):(clearTimeout(f),g)})];case 3:if(l=b.sent(),!(l.status>300&&l.status<309&&u.redirect==="manual"&&(t!=null&&t.handleRedirects)))return[3,7];if(d=l.headers.get("location")||"",!t.handleRedirects(c,d))throw new Error("link-preview-js could not handle redirect");return t!=null&&t.resolveDNSHost?[4,t.resolveDNSHost(d)]:[3,5];case 4:h=b.sent(),G6(h),b.label=5;case 5:return[4,(0,j6.fetch)(d,u)];case 6:l=b.sent(),b.label=7;case 7:return clearTimeout(f),p={},l.headers.forEach(function(g,y){p[y]=g}),v={url:t!=null&&t.proxyUrl?l.url.replace(t.proxyUrl,""):l.url,headers:p},[4,l.text()];case 8:return m=(v.data=b.sent(),v),[2,T9(m,t)]}})})}var E9=Fd.getLinkPreview=$le;function Ule(e,t){return g9(this,void 0,void 0,function(){return y9(this,function(r){if(!e||typeof e!="object")throw new Error("link-preview-js did not receive a valid response object");if(!e.url)throw new Error("link-preview-js did not receive a valid response object");return[2,T9(e,t)]})})}Fd.getPreviewFromContent=Ule;const jle=e=>{const{url:t}=e,r="Twitterbot",[n,a]=R.useState({title:"",description:"",favicons:[],images:[],videos:[]});R.useEffect(()=>{async function o(){const f=await E9(t,{headers:{"User-Agent":r}}),u=Ge.get(f,"title",""),c=Ge.get(f,"description",""),l=Ge.get(f,"favicons",[]),d=Ge.get(f,"images",[]),h=Ge.get(f,"videos",[]);a({title:u,description:c,favicons:l,images:d,videos:h})}o()},[t,r]);const i=n==null?void 0:n.images[0],s=R.useMemo(()=>{try{return new URL(t).hostname}catch{return t}},[t]);return Z.jsxs("div",{className:S0.card,children:[Z.jsx(wu,{when:!Ge.isEmpty(i),children:Z.jsx("img",{className:S0.banner,src:i,alt:""})}),Z.jsxs("div",{className:S0.content,children:[Z.jsx(ut.Label,{level:ap.Medium,bold:!0,children:n==null?void 0:n.title}),Z.jsx(ut.Text,{color:"gray",level:"3",className:S0.description,children:n==null?void 0:n.description}),Z.jsx(ut.Text,{level:"3",color:"gray",children:s})]})]})},Gle=e=>{const{url:t,platform:r}=e;return r===Md.X?Z.jsx(Iie,{url:t}):r===Md.DISCORD?Z.jsx(jle,{url:t}):null},Kle="_wrapper_1y65j_1",Wle={wrapper:Kle},S9=({guidanceId:e,status:t,isExpired:r})=>{const a=`${Li.walletHomepage}/activity-guide/${e}`;if(e==="0"||Ge.isEmpty(e)||t===cr.COMPLETED||r)return null;const i=()=>window.open(a,"_blank");return Z.jsxs("div",{onClick:i,className:Wle.wrapper,children:[Z.jsx(sU,{size:16,color:"#5294F8"}),Z.jsx(ut.Text,{level:"3",intent:qt.Info,children:"How to complete?"})]})},A9=({error:e})=>Z.jsx(ut.Text,{level:"3",intent:qt.Danger,children:e}),GT=e=>{const{data:t}=Iv(e);return Iu(t,"progressStatus")===cr.NOT_TAKEN||!t?!1:Iu(t,"conditionMet",!1)},KT=e=>{const{data:t}=Iv(e);if(!t)return!1;const r=Wae(t);return r===ba.Expired||r===ba.RequestRewardExpired},qle="_includesError_1jwcd_1",Vle="_handleButtons_1jwcd_8",W6={includesError:qle,handleButtons:Vle};function zle(e,t,r,n,a,i){const s=Ln.identity.getRedirectURL(),o=new URL(e);return o.searchParams.append("client_id",t),o.searchParams.append("redirect_uri",s),o.searchParams.append("scope",r),o.searchParams.append("response_type","code"),o.searchParams.append("state",n),o.searchParams.append("code_challenge",a),o.searchParams.append("code_challenge_method",i),o}function Yle(e,t){return{grant_type:"authorization_code",redirect_uri:Ln.identity.getRedirectURL(),code:e,code_verifier:t}}var Z0=(e=>(e.SUCCESS="success",e.ERROR="error",e.CANCELED="canceled",e))(Z0||{});const Xle=e=>({trigger:async()=>{try{const r=w7[e],n=r==null?void 0:r.clientId,a=Gae(),i=Kae(a),s=C7(),o=r==null?void 0:r.scopes.join(" "),f=zle(r==null?void 0:r.authorizeUrl,n,o,s,i,"S256"),u=await Ln.identity.launchWebAuthFlow({url:f.toString(),interactive:!0}),c=new URL(u),l=c.searchParams.get("code"),d=c.searchParams.get("error");if(d==="access_denied")return{status:"canceled"};if(d||Ge.isEmpty(l))return{status:"error"};const h=Yle(l,a),p=await n4.walletManagerV2Api.post(`/external-auth/${r==null?void 0:r.platform}/oauth2/token`,{...h}),m=Ge.get(p,"data.token.access_token");return Ge.isEmpty(m)?{status:"error"}:{status:"success",accessToken:m}}catch(r){return Yt.error("OAuth2 error: ",r.message),r.message.includes("The user did not approve access")?{status:"canceled"}:{status:"error"}}}}),Jle=(e,t)=>{const r=GT(e);return t===ji.ACTION?r:!0},Qle=(e,t,r)=>{const n=Nm(),a=qf(),i=r===ji.PRE_CONDITION?uo.VerifyCondition:uo.VerifyAction;return fm({mutationKey:[ah.VERIFY_ACTIVITY,e,t,r],mutationFn:()=>a4({questId:e,address:n,activityId:t}),onSettled:()=>{a.refetchQueries({queryKey:[ia.QUEST_DETAILS,e,n]})},onSuccess:()=>{to.sendEvent(oo.Click,i,co.OnQuestDetails,{action_properties:{quest_id:e,condition_activity_id:t,condition_activity_verify_status:!0}})},onError:s=>{to.sendEvent(oo.Click,i,co.OnQuestDetails,{action_properties:{quest_id:e,condition_activity_id:t,condition_activity_verify_status:!1}}),Yt.error("Failed to verify activity",s)},gcTime:0})},Zle=(e,t,r)=>{const n=Nm(),a=qf();return fm({mutationKey:[ah.VERIFY_ACTIVITY,e,t,r],mutationFn:async i=>a4({questId:e,address:n,activityId:t,externalData:i}),onSettled:()=>{a.invalidateQueries({queryKey:[ia.QUEST_DETAILS,e,n]})}})},ede="_questCheckinModal_6nouu_1",tde="_logo_6nouu_7",rde="_content_6nouu_11",nde="_checkInButton_6nouu_18",ade="_info_6nouu_21",ide="_heading_6nouu_28",sde="_text_6nouu_31",Ps={questCheckinModal:ede,logo:tde,content:rde,checkInButton:nde,info:ade,heading:ide,text:sde},ode=e=>{const{visible:t,onClose:r}=e,{loading:n,currentStreaks:a,nextTimeCheckIn:i,handleRoninCheckIn:s}=Uae(),o=i-Math.floor(Date.now()),f=o>=0;return Z.jsx(Z.Fragment,{children:Z.jsx(kne,{className:Ps.questCheckinModal,visible:t,onClose:r,content:Z.jsxs("div",{className:Ps.content,children:[Z.jsx("img",{src:a7.quest.logo,alt:"Ronin Logo",className:Ps.logo}),Z.jsxs("div",{className:Ps.info,children:[Z.jsx(ut.Heading,{level:"6",className:Ps.heading,children:"Ronin Wallet Daily Check-in"}),Z.jsxs(ut.Text,{level:"3",className:Ps.text,children:[a,Z.jsx(ut.Text,{level:"3",color:"gray",className:Ps.streak,children:"Streaks"})]})]}),Z.jsx(Pu,{className:Ps.checkInButton,intent:qt.Primary,fullWidth:!0,text:f?Z.jsx(Dae,{value:o,prefix:"Next check-in: ",color:"disabled",format:"HH[:]mm[:]ss[s]"}):"Check In",loading:n,disabled:f,onClick:s})]})})})},w9=R.memo(({questId:e,activityId:t,activityType:r,socials:n,setError:a})=>{const{error:i,mutateAsync:s,isPending:o}=Qle(e,t,r),{toastError:f,toastSuccess:u}=PO(),c=ude(i),{mutateAsync:l}=Zle(e,t,r),{data:d}=_T({questId:e,activityType:r}),{checkinDialog:h,setCheckinDialog:p,setVisibleAddToCalender:m}=nie(),{setCtaType:v}=rD(),b=d==null?void 0:d.find(F=>F.id===t),g=!Jle(e,r),y=Ge.get(b,"actionUrl"),C=Ge.get(b,"platform"),I=Ln.runtime.getURL(`src/pages/newtab/new-tab.html?#/verify-social/${t}/${e}/${r}`),P=Ge.get(b,"ctaType"),O=X$(),{skipAddCalendar:N}=lI(),S=N.includes(P),D=R.useRef(!1),{trigger:w}=Xle(C),[T,x]=R.useState(!1),_=async()=>{x(!0);const F=await w();let G;switch(F.status){case Z0.ERROR:f({content:"Error occurred, please try again"});break;case Z0.CANCELED:f({content:"Youve cancelled the access request"});break;case Z0.SUCCESS:x(!1),window.open(y,"_blank"),await ep(5e3),C===yu.Discord?G=await l({discordAccessToken:F==null?void 0:F.accessToken}):G=await l({twitterAccessToken:F==null?void 0:F.accessToken}),G.status===200&&u({content:"Success, please refresh your quest!"});break}x(!1)},M=R.useCallback(async()=>{if(a(null),await s(),!(D.current||S))switch(P){case hr.PRAY:{v(hr.PRAY),m(!0),D.current=!0;break}case hr.CHECKIN:{v(hr.CHECKIN),m(!0),D.current=!0;break}}},[P,s,S]);R.useEffect(()=>{i&&a(c)},[i]),R.useEffect(()=>{n&&ep(1e3).then(()=>{_()})},[]);const L=async()=>{a(null),C===yu.Discord||C===yu.X?!n&&b?window.open(I,"_blank"):await _():y==="roninwallet://quests?action=checkin"?p(!0):O(y)};return g||!P?null:Z.jsxs("div",{className:W6.includesError,children:[Z.jsx(wu,{when:h,children:Z.jsx(ode,{visible:h,onClose:()=>p(!1)})}),Z.jsxs("div",{className:W6.handleButtons,children:[Z.jsx(Pu,{size:hf.Small,text:"Verify",intent:P===hr.UNREGISTER?qt.Primary:qt.Default,fullWidth:!0,loading:o,onClick:()=>M()}),P!==hr.UNREGISTER&&Z.jsx(Pu,{size:hf.Small,text:Bd(P).with(hr.CHECKIN,()=>"Check In").with(hr.JOIN,()=>"Join").with(hr.LOGIN,()=>"Login").with(hr.REGISTER,()=>"Register").with(hr.SHARE,()=>"Repost").with(z1.union(hr.WINPVPGAME,hr.WINDUELISTICGAME),()=>"Play").with(hr.PRAY,()=>"Pray").with(z1.union(hr.BUYAXIE,hr.BUYAXIESUMMER),()=>"Buy Axie").otherwise(()=>"Join"),fullWidth:!0,loading:T,intent:qt.Primary,onClick:L})]})]})}),ude=e=>{var r,n;const t=Ge.get((r=e==null?void 0:e.response)==null?void 0:r.data,"error");return t>=500&&t<600?`Server error ${t}. Please wait a few minutes and try again.`:Ge.upperFirst(Ge.get((n=e==null?void 0:e.response)==null?void 0:n.data,"error_message"))},cde=({questId:e,activityType:t,socials:r=!1,activity:n,...a})=>{const i=TT(e),s=Ge.get(n,"id"),o=Ge.get(n,"status"),f=Ge.get(n,"platform"),u=Ge.get(n,"actionUrl"),[c,l]=R.useState(null),{isQuestError:d,isActivityError:h,error:p}=kO(e,s),m=Ge.get(n,"guidanceId"),v=GT(e),b=KT(e),[g,y]=R.useState(!1),C=R.useMemo(()=>!(b||o===cr.COMPLETED),[b,o]);R.useEffect(()=>{const N=t===ji.PRE_CONDITION&&!v||t===ji.ACTION&&v;i&&!h&&N!==g&&y(N),h&&(l(p),y(!0))},[t,i,v,h,p]);const I=R.useCallback(({platform:N,actionUrl:S})=>N&&Pde.includes(N)&&typeof S=="string"&&!Ge.isEmpty(S)?Z.jsx(Gle,{url:S,platform:jae(N)}):null,[]),P=Z.jsxs(Z.Fragment,{children:[I({platform:f,actionUrl:u}),Z.jsx(wu,{when:!Ge.isEmpty(c),children:Z.jsx(A9,{error:c})}),Z.jsxs(wu,{when:!b,children:[Bd(i&&o!==cr.COMPLETED).with(!0,()=>Z.jsx(w9,{questId:e,activityId:s,activityType:t,setError:l,socials:r,...a})).otherwise(()=>null),Z.jsx(S9,{status:o,guidanceId:m,isExpired:b})]})]}),O=[{key:n.id,title:Z.jsx(BO,{status:o,activity:n,error:c,activityType:t,questId:e}),defaultActive:g,disabled:d&&!h,content:P}];return C?Z.jsx(QC,{activeKey:g?[n.id]:void 0,onChange:()=>y(!g),collapseRootClassName:r?X0.socials:X0.once,collapseItemList:O,headerRootClassName:X0.header}):Z.jsx(fde,{collapseItemList:O,renderPreview:I({platform:f,actionUrl:u})})},fde=({collapseItemList:e,renderPreview:t})=>e.map(r=>Z.jsxs("div",{className:X0.nonCollapsible,children:[r.title,t]},r.key)),lde="_wrapper_1eofq_1",dde="_confetti_1eofq_7",hde="_condition_1eofq_17",pde="_conditionMetText_1eofq_22",mde="_noClick_1eofq_26",vde="_header_1eofq_30",sy={wrapper:lde,confetti:dde,condition:hde,conditionMetText:pde,noClick:mde,header:vde},bde="_container_rxu1y_1",gde="_progressBar_rxu1y_9",yde="_progressFill_rxu1y_18",_de="_expired_rxu1y_25",Fl={container:bde,progressBar:gde,progressFill:yde,expired:_de},Tde=({questId:e,activityId:t,activityType:r,targetCount:n})=>{const{data:a}=_T({questId:e,activityType:r}),i=a==null?void 0:a.find(l=>l.id===t),o=(i==null?void 0:i.status)===cr.COMPLETED?n:(i==null?void 0:i.count)||0,[f,u]=R.useState(0),c=KT(e);return R.useEffect(()=>{const l=o/n*100;u(l)},[o,n]),Z.jsxs("div",{className:Nt(Fl.container,c&&Fl.expired),children:[Z.jsxs(ut.Text,{level:"3",className:Fl.title,children:[Math.min(o,n),"/",n]}),Z.jsx("div",{className:Fl.progressBar,children:Z.jsx("div",{className:Fl.progressFill,style:{width:`${f}%`}})})]})},Ede=({questId:e,activityType:t,activity:r,...n})=>{const a=Ge.get(r,"id"),i=R.useMemo(()=>Ge.get(r,"status"),[r]),s=Ge.get(r,"targetCount",1),[o,f]=R.useState(null),{isQuestError:u,isActivityError:c,error:l}=kO(e,a),d=Ge.get(r,"guidanceId"),h=GT(e),[p,m]=R.useState(!1),v=KT(e),b=TT(e),g=R.useMemo(()=>!(v||i===cr.COMPLETED),[v,i]);R.useEffect(()=>{const I=t===ji.PRE_CONDITION&&!h||t===ji.ACTION&&h;b&&!c&&I!==p&&(g&&m(!0),m(I)),c&&(f(l),m(!0))},[t,b,h,c,l]);const y=Z.jsxs(Z.Fragment,{children:[Z.jsx(Tde,{questId:e,activityId:a,activityType:t,targetCount:s}),Z.jsx(wu,{when:!Ge.isEmpty(o),children:Z.jsx(A9,{error:o})}),Z.jsxs(wu,{when:!v,children:[Z.jsx(wu,{when:b,children:Bd({status:i}).with({status:cr.COMPLETED},()=>Z.jsx(Sde,{})).otherwise(()=>Z.jsx(w9,{questId:e,activityId:a,activityType:t,setError:f,...n}))}),Z.jsx(S9,{status:i,guidanceId:d,isExpired:v})]})]}),C=[{key:r.id,title:Z.jsx(BO,{status:i,activity:r,error:o,activityType:t,questId:e}),defaultActive:b||!g,disabled:u&&!c,content:y}];return Z.jsx(QC,{activeKey:p?[r.id]:void 0,onChange:()=>m(!1),collapseRootClassName:sy.wrapper,headerRootClassName:Nt(sy.header,{[sy.noClick]:!g}),collapseItemList:C,expandIcon:g?void 0:null})},Sde=()=>Z.jsx("div",{children:Z.jsxs(ut.Text,{level:"3",intent:qt.Success,children:[" ",Ou.common.finished]})}),Ade="_container_pjc0n_1",wde="_value_pjc0n_10",q6={container:Ade,value:wde},Cde=()=>Z.jsxs("div",{className:Nt(q6.container),children:[Z.jsx(sm.Skeleton,{circle:!0,width:28,height:28}),Z.jsx("div",{className:q6.value,children:Z.jsx(wne,{height:30,count:1,fullWidth:!0})})]}),Ide=()=>LU(2).map(t=>Z.jsx(Cde,{},t)),Pde=[yu.X,yu.Discord],_he=({questId:e,activityType:t,activitiesDone:r})=>{const{data:n,isFetching:a}=_T({questId:e,activityType:t}),i=TT(e),s=R.useCallback(o=>{switch(o==null?void 0:o.frequency){case $l.ONCE:case $l.RECURRENT:return Z.jsx(cde,{questId:e,activityType:t,activity:o,activitiesDone:r},o.id);case $l.DAILY:case $l.STREAK:return Z.jsx(Ede,{questId:e,activityType:t,activity:o,activitiesDone:r},o.id);default:return null}},[r,t,e]);return a?Z.jsx(Ide,{}):Z.jsx(Z.Fragment,{children:Ge.isEmpty(n)&&t===ji.PRE_CONDITION?Z.jsx(iie,{granted:i}):n==null?void 0:n.map(o=>s(o))})};export{Pm as $,nI as A,hf as B,sC as C,l2 as D,Kde as E,gT as F,Ou as G,IB as H,JC as I,uo as J,co as K,Pae as L,__ as M,yae as N,TA as O,ihe as P,Yde as Q,Xde as R,PB as S,oo as T,Jde as U,Vde as V,dhe as W,L$ as X,wc as Y,ohe as Z,hh as _,rL as a,K$ as a$,lhe as a0,zde as a1,aU as a2,e1 as a3,vae as a4,dm as a5,tI as a6,Zde as a7,ehe as a8,Ko as a9,uhe as aA,hR as aB,dR as aC,Hde as aD,$de as aE,PR as aF,rD as aG,ih as aH,nk as aI,ZL as aJ,E_ as aK,bi as aL,ia as aM,X$ as aN,Nm as aO,qf as aP,dU as aQ,wne as aR,Ane as aS,pU as aT,LU as aU,Fne as aV,kne as aW,Lne as aX,she as aY,PO as aZ,Im as a_,aI as aa,dI as ab,t1 as ac,che as ad,iI as ae,Qde as af,iU as ag,nU as ah,eI as ai,_p as aj,HB as ak,f2 as al,phe as am,rhe as an,fhe as ao,ua as ap,hhe as aq,Pi as ar,hU as as,Gde as at,_T as au,wu as av,cde as aw,nhe as ax,Ude as ay,jde as az,Qk as b,nF as b0,lI as b1,o6 as b2,Uae as b3,Bae as b4,hr as b5,Dae as b6,mhe as b7,Bd as b8,Mae as b9,rU as ba,Iv as bb,ji as bc,Wae as bd,nie as be,fm as bf,ah as bg,W1 as bh,Lae as bi,bhe as bj,Zy as bk,z1 as bl,TT as bm,kO as bn,_he as bo,R$ as bp,QC as bq,Ide as br,GT as bs,KT as bt,Q7 as bu,vhe as bv,Fae as bw,kae as bx,$ae as by,RO as bz,io as c,HL as d,ME as e,tn as f,bs as g,TL as h,l8 as i,gr as j,xn as k,kL as l,bd as m,LL as n,Js as o,vd as p,Zk as q,z_ as r,P8 as s,$8 as t,r8 as u,gS as v,YC as w,fD as x,yp as y,Ir as z};
